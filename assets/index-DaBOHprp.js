function kw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zm={exports:{}},ja={},Vm={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),Nw=Symbol.for("react.portal"),Rw=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),Aw=Symbol.for("react.provider"),bw=Symbol.for("react.context"),Dw=Symbol.for("react.forward_ref"),zw=Symbol.for("react.suspense"),Bw=Symbol.for("react.memo"),Fw=Symbol.for("react.lazy"),Rf=Symbol.iterator;function jw(t){return t===null||typeof t!="object"?null:(t=Rf&&t[Rf]||t["@@iterator"],typeof t=="function"?t:null)}var $m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gm=Object.assign,Km={};function Er(t,e,n){this.props=t,this.context=e,this.refs=Km,this.updater=n||$m}Er.prototype.isReactComponent={};Er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ym(){}Ym.prototype=Er.prototype;function Yc(t,e,n){this.props=t,this.context=e,this.refs=Km,this.updater=n||$m}var qc=Yc.prototype=new Ym;qc.constructor=Yc;Gm(qc,Er.prototype);qc.isPureReactComponent=!0;var Mf=Array.isArray,qm=Object.prototype.hasOwnProperty,Qc={current:null},Qm={key:!0,ref:!0,__self:!0,__source:!0};function Xm(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)qm.call(e,r)&&!Qm.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:$o,type:t,key:a,ref:u,props:o,_owner:Qc.current}}function Uw(t,e){return{$$typeof:$o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===$o}function Ww(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Of=/\/+/g;function Gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ww(""+t.key):e.toString(36)}function Us(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case $o:case Nw:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+Gl(u,0):r,Mf(o)?(n="",t!=null&&(n=t.replace(Of,"$&/")+"/"),Us(o,e,n,"",function(p){return p})):o!=null&&(Xc(o)&&(o=Uw(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Of,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Mf(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+Gl(a,h);u+=Us(a,e,n,d,o)}else if(d=jw(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+Gl(a,h++),u+=Us(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Cs(t,e,n){if(t==null)return t;var r=[],o=0;return Us(t,r,"","",function(a){return e.call(n,a,o++)}),r}function Hw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Ws={transition:null},Zw={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Qc};function Jm(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Cs,forEach:function(t,e,n){Cs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cs(t,function(){e++}),e},toArray:function(t){return Cs(t,function(e){return e})||[]},only:function(t){if(!Xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Er;J.Fragment=Rw;J.Profiler=Ow;J.PureComponent=Yc;J.StrictMode=Mw;J.Suspense=zw;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zw;J.act=Jm;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gm({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=Qc.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)qm.call(e,d)&&!Qm.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:$o,type:t.type,key:o,ref:a,props:r,_owner:u}};J.createContext=function(t){return t={$$typeof:bw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Aw,_context:t},t.Consumer=t};J.createElement=Xm;J.createFactory=function(t){var e=Xm.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:Dw,render:t}};J.isValidElement=Xc;J.lazy=function(t){return{$$typeof:Fw,_payload:{_status:-1,_result:t},_init:Hw}};J.memo=function(t,e){return{$$typeof:Bw,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Ws.transition;Ws.transition={};try{t()}finally{Ws.transition=e}};J.unstable_act=Jm;J.useCallback=function(t,e){return st.current.useCallback(t,e)};J.useContext=function(t){return st.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return st.current.useDeferredValue(t)};J.useEffect=function(t,e){return st.current.useEffect(t,e)};J.useId=function(){return st.current.useId()};J.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return st.current.useMemo(t,e)};J.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};J.useRef=function(t){return st.current.useRef(t)};J.useState=function(t){return st.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return st.current.useTransition()};J.version="18.3.1";Vm.exports=J;var O=Vm.exports;const ta=Iw(O),Vw=kw({__proto__:null,default:ta},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w=O,Gw=Symbol.for("react.element"),Kw=Symbol.for("react.fragment"),Yw=Object.prototype.hasOwnProperty,qw=$w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qw={key:!0,ref:!0,__self:!0,__source:!0};function e_(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)Yw.call(e,r)&&!Qw.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Gw,type:t,key:a,ref:u,props:o,_owner:qw.current}}ja.Fragment=Kw;ja.jsx=e_;ja.jsxs=e_;Zm.exports=ja;var I=Zm.exports,t_={exports:{}},St={},n_={exports:{}},i_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,G){var D=R.length;R.push(G);e:for(;0<D;){var $=D-1>>>1,re=R[$];if(0<o(re,G))R[$]=G,R[D]=re,D=$;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var G=R[0],D=R.pop();if(D!==G){R[0]=D;e:for(var $=0,re=R.length,Ae=re>>>1;$<Ae;){var ce=2*($+1)-1,se=R[ce],K=ce+1,lt=R[K];if(0>o(se,D))K<re&&0>o(lt,se)?(R[$]=lt,R[K]=D,$=K):(R[$]=se,R[ce]=D,$=ce);else if(K<re&&0>o(lt,D))R[$]=lt,R[K]=D,$=K;else break e}}return G}function o(R,G){var D=R.sortIndex-G.sortIndex;return D!==0?D:R.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,_=null,v=3,x=!1,T=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(R){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=R)r(p),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(p)}}function N(R){if(k=!1,C(R),!T)if(n(d)!==null)T=!0,Ze(B);else{var G=n(p);G!==null&&on(N,G.startTime-R)}}function B(R,G){T=!1,k&&(k=!1,S(H),H=-1),x=!0;var D=v;try{for(C(G),_=n(d);_!==null&&(!(_.expirationTime>G)||R&&!de());){var $=_.callback;if(typeof $=="function"){_.callback=null,v=_.priorityLevel;var re=$(_.expirationTime<=G);G=t.unstable_now(),typeof re=="function"?_.callback=re:_===n(d)&&r(d),C(G)}else r(d);_=n(d)}if(_!==null)var Ae=!0;else{var ce=n(p);ce!==null&&on(N,ce.startTime-G),Ae=!1}return Ae}finally{_=null,v=D,x=!1}}var U=!1,W=null,H=-1,_e=5,Q=-1;function de(){return!(t.unstable_now()-Q<_e)}function Be(){if(W!==null){var R=t.unstable_now();Q=R;var G=!0;try{G=W(!0,R)}finally{G?ti():(U=!1,W=null)}}else U=!1}var ti;if(typeof y=="function")ti=function(){y(Be)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,dl=Et.port2;Et.port1.onmessage=Be,ti=function(){dl.postMessage(null)}}else ti=function(){b(Be,0)};function Ze(R){W=R,U||(U=!0,ti())}function on(R,G){H=b(function(){R(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,Ze(B))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(R){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var D=v;v=G;try{return R()}finally{v=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,G){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=v;v=R;try{return G()}finally{v=D}},t.unstable_scheduleCallback=function(R,G,D){var $=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=D+re,R={id:g++,callback:G,priorityLevel:R,startTime:D,expirationTime:re,sortIndex:-1},D>$?(R.sortIndex=D,e(p,R),n(d)===null&&R===n(p)&&(k?(S(H),H=-1):k=!0,on(N,D-$))):(R.sortIndex=re,e(d,R),T||x||(T=!0,Ze(B))),R},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(R){var G=v;return function(){var D=v;v=G;try{return R.apply(this,arguments)}finally{v=D}}}})(i_);n_.exports=i_;var Xw=n_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw=O,wt=Xw;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r_=new Set,Co={};function ki(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(Co[t]=e,t=0;t<e.length;t++)r_.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ru=Object.prototype.hasOwnProperty,eS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Af={},bf={};function tS(t){return Ru.call(bf,t)?!0:Ru.call(Af,t)?!1:eS.test(t)?bf[t]=!0:(Af[t]=!0,!1)}function nS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iS(t,e,n,r){if(e===null||typeof e>"u"||nS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function eh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jc,eh);qe[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jc,eh);qe[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jc,eh);qe[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function th(t,e,n,r){var o=qe.hasOwnProperty(e)?qe[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iS(e,n,o,r)&&(n=null),r||o===null?tS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xn=Jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Es=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),o_=Symbol.for("react.provider"),s_=Symbol.for("react.context"),ih=Symbol.for("react.forward_ref"),Ou=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),a_=Symbol.for("react.offscreen"),Df=Symbol.iterator;function $r(t){return t===null||typeof t!="object"?null:(t=Df&&t[Df]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Kl;function ro(t){if(Kl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kl=e&&e[1]||""}return`
`+Kl+t}var Yl=!1;function ql(t,e){if(!t||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ro(t):""}function rS(t){switch(t.tag){case 5:return ro(t.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return t=ql(t.type,!1),t;case 11:return t=ql(t.type.render,!1),t;case 1:return t=ql(t.type,!0),t;default:return""}}function bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vi:return"Fragment";case Zi:return"Portal";case Mu:return"Profiler";case nh:return"StrictMode";case Ou:return"Suspense";case Au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s_:return(t.displayName||"Context")+".Consumer";case o_:return(t._context.displayName||"Context")+".Provider";case ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:bu(t.type)||"Memo";case Nn:e=t._payload,t=t._init;try{return bu(t(e))}catch{}}return null}function oS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(e);case 8:return e===nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sS(t){var e=l_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xs(t){t._valueTracker||(t._valueTracker=sS(t))}function u_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=l_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Du(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c_(t,e){e=e.checked,e!=null&&th(t,"checked",e,!1)}function zu(t,e){c_(t,e);var n=Yn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bu(t,e.type,Yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bu(t,e,n){(e!=="number"||na(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oo=Array.isArray;function rr(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Fu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ff(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(oo(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yn(n)}}function h_(t,e){var n=Yn(e.value),r=Yn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ju(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ts,f_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aS=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(t){aS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lo[e]=lo[t]})});function p_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lo.hasOwnProperty(t)&&lo[t]?(""+e).trim():e+"px"}function m_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=p_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var lS=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(t,e){if(e){if(lS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Wu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zu=null,or=null,sr=null;function Uf(t){if(t=Yo(t)){if(typeof Zu!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Va(e),Zu(t.stateNode,t.type,e))}}function __(t){or?sr?sr.push(t):sr=[t]:or=t}function g_(){if(or){var t=or,e=sr;if(sr=or=null,Uf(t),e)for(t=0;t<e.length;t++)Uf(e[t])}}function v_(t,e){return t(e)}function y_(){}var Ql=!1;function w_(t,e,n){if(Ql)return t(e,n);Ql=!0;try{return v_(t,e,n)}finally{Ql=!1,(or!==null||sr!==null)&&(y_(),g_())}}function xo(t,e){var n=t.stateNode;if(n===null)return null;var r=Va(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Vu=!1;if(gn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{Vu=!1}function uS(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var uo=!1,ia=null,ra=!1,$u=null,cS={onError:function(t){uo=!0,ia=t}};function hS(t,e,n,r,o,a,u,h,d){uo=!1,ia=null,uS.apply(cS,arguments)}function dS(t,e,n,r,o,a,u,h,d){if(hS.apply(this,arguments),uo){if(uo){var p=ia;uo=!1,ia=null}else throw Error(A(198));ra||(ra=!0,$u=p)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wf(t){if(Li(t)!==t)throw Error(A(188))}function fS(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Wf(o),t;if(a===r)return Wf(o),e;a=a.sibling}throw Error(A(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function C_(t){return t=fS(t),t!==null?E_(t):null}function E_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E_(t);if(e!==null)return e;t=t.sibling}return null}var x_=wt.unstable_scheduleCallback,Hf=wt.unstable_cancelCallback,pS=wt.unstable_shouldYield,mS=wt.unstable_requestPaint,Ie=wt.unstable_now,_S=wt.unstable_getCurrentPriorityLevel,sh=wt.unstable_ImmediatePriority,T_=wt.unstable_UserBlockingPriority,oa=wt.unstable_NormalPriority,gS=wt.unstable_LowPriority,P_=wt.unstable_IdlePriority,Ua=null,nn=null;function vS(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ua,t,void 0,(t.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:SS,yS=Math.log,wS=Math.LN2;function SS(t){return t>>>=0,t===0?32:31-(yS(t)/wS|0)|0}var Ps=64,ks=4194304;function so(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=so(h):(a&=u,a!==0&&(r=so(a)))}else u=n&~o,u!==0?r=so(u):a!==0&&(r=so(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ht(e),o=1<<n,r|=t[n],e&=~o;return r}function CS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ES(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-Ht(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=CS(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function Gu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k_(){var t=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),t}function Xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ht(e),t[e]=n}function xS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Ht(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function ah(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ht(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ue=0;function L_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var I_,lh,N_,R_,M_,Ku=!1,Ls=[],zn=null,Bn=null,Fn=null,To=new Map,Po=new Map,Mn=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zf(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":To.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Kr(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=Yo(e),e!==null&&lh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function PS(t,e,n,r,o){switch(e){case"focusin":return zn=Kr(zn,t,e,n,r,o),!0;case"dragenter":return Bn=Kr(Bn,t,e,n,r,o),!0;case"mouseover":return Fn=Kr(Fn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return To.set(a,Kr(To.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Po.set(a,Kr(Po.get(a)||null,t,e,n,r,o)),!0}return!1}function O_(t){var e=hi(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=S_(n),e!==null){t.blockedOn=e,M_(t.priority,function(){N_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hu=r,n.target.dispatchEvent(r),Hu=null}else return e=Yo(n),e!==null&&lh(e),t.blockedOn=n,!1;e.shift()}return!0}function Vf(t,e,n){Hs(t)&&n.delete(e)}function kS(){Ku=!1,zn!==null&&Hs(zn)&&(zn=null),Bn!==null&&Hs(Bn)&&(Bn=null),Fn!==null&&Hs(Fn)&&(Fn=null),To.forEach(Vf),Po.forEach(Vf)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ku||(Ku=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,kS)))}function ko(t){function e(o){return Yr(o,t)}if(0<Ls.length){Yr(Ls[0],t);for(var n=1;n<Ls.length;n++){var r=Ls[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&Yr(zn,t),Bn!==null&&Yr(Bn,t),Fn!==null&&Yr(Fn,t),To.forEach(e),Po.forEach(e),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)O_(n),n.blockedOn===null&&Mn.shift()}var ar=xn.ReactCurrentBatchConfig,aa=!0;function LS(t,e,n,r){var o=ue,a=ar.transition;ar.transition=null;try{ue=1,uh(t,e,n,r)}finally{ue=o,ar.transition=a}}function IS(t,e,n,r){var o=ue,a=ar.transition;ar.transition=null;try{ue=4,uh(t,e,n,r)}finally{ue=o,ar.transition=a}}function uh(t,e,n,r){if(aa){var o=Yu(t,e,n,r);if(o===null)lu(t,e,r,la,n),Zf(t,r);else if(PS(o,t,e,n,r))r.stopPropagation();else if(Zf(t,r),e&4&&-1<TS.indexOf(t)){for(;o!==null;){var a=Yo(o);if(a!==null&&I_(a),a=Yu(t,e,n,r),a===null&&lu(t,e,r,la,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else lu(t,e,r,null,n)}}var la=null;function Yu(t,e,n,r){if(la=null,t=oh(r),t=hi(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return la=t,null}function A_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_S()){case sh:return 1;case T_:return 4;case oa:case gS:return 16;case P_:return 536870912;default:return 16}default:return 16}}var An=null,ch=null,Zs=null;function b_(){if(Zs)return Zs;var t,e=ch,n=e.length,r,o="value"in An?An.value:An.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return Zs=o.slice(t,1<r?1-r:void 0)}function Vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function $f(){return!1}function Ct(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Is:$f,this.isPropagationStopped=$f,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),e}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=Ct(xr),Ko=Pe({},xr,{view:0,detail:0}),NS=Ct(Ko),Jl,eu,qr,Wa=Pe({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(Jl=t.screenX-qr.screenX,eu=t.screenY-qr.screenY):eu=Jl=0,qr=t),Jl)},movementY:function(t){return"movementY"in t?t.movementY:eu}}),Gf=Ct(Wa),RS=Pe({},Wa,{dataTransfer:0}),MS=Ct(RS),OS=Pe({},Ko,{relatedTarget:0}),tu=Ct(OS),AS=Pe({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=Ct(AS),DS=Pe({},xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zS=Ct(DS),BS=Pe({},xr,{data:0}),Kf=Ct(BS),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},US={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=US[t])?!!e[t]:!1}function dh(){return WS}var HS=Pe({},Ko,{key:function(t){if(t.key){var e=FS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZS=Ct(HS),VS=Pe({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Ct(VS),$S=Pe({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),GS=Ct($S),KS=Pe({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),YS=Ct(KS),qS=Pe({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QS=Ct(qS),XS=[9,13,27,32],fh=gn&&"CompositionEvent"in window,co=null;gn&&"documentMode"in document&&(co=document.documentMode);var JS=gn&&"TextEvent"in window&&!co,D_=gn&&(!fh||co&&8<co&&11>=co),qf=" ",Qf=!1;function z_(t,e){switch(t){case"keyup":return XS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function e1(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:(Qf=!0,qf);case"textInput":return t=e.data,t===qf&&Qf?null:t;default:return null}}function t1(t,e){if($i)return t==="compositionend"||!fh&&z_(t,e)?(t=b_(),Zs=ch=An=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D_&&e.locale!=="ko"?null:e.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n1[t.type]:e==="textarea"}function F_(t,e,n,r){__(r),e=ua(e,"onChange"),0<e.length&&(n=new hh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ho=null,Lo=null;function i1(t){q_(t,0)}function Ha(t){var e=Yi(t);if(u_(e))return t}function r1(t,e){if(t==="change")return e}var j_=!1;if(gn){var nu;if(gn){var iu="oninput"in document;if(!iu){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),iu=typeof Jf.oninput=="function"}nu=iu}else nu=!1;j_=nu&&(!document.documentMode||9<document.documentMode)}function ep(){ho&&(ho.detachEvent("onpropertychange",U_),Lo=ho=null)}function U_(t){if(t.propertyName==="value"&&Ha(Lo)){var e=[];F_(e,Lo,t,oh(t)),w_(i1,e)}}function o1(t,e,n){t==="focusin"?(ep(),ho=e,Lo=n,ho.attachEvent("onpropertychange",U_)):t==="focusout"&&ep()}function s1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ha(Lo)}function a1(t,e){if(t==="click")return Ha(e)}function l1(t,e){if(t==="input"||t==="change")return Ha(e)}function u1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:u1;function Io(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ru.call(e,o)||!Gt(t[o],e[o]))return!1}return!0}function tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function np(t,e){var n=tp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tp(n)}}function W_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H_(){for(var t=window,e=na();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=na(t.document)}return e}function ph(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c1(t){var e=H_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W_(n.ownerDocument.documentElement,n)){if(r!==null&&ph(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=np(n,a);var u=np(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h1=gn&&"documentMode"in document&&11>=document.documentMode,Gi=null,qu=null,fo=null,Qu=!1;function ip(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qu||Gi==null||Gi!==na(r)||(r=Gi,"selectionStart"in r&&ph(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&Io(fo,r)||(fo=r,r=ua(qu,"onSelect"),0<r.length&&(e=new hh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gi)))}function Ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ki={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},ru={},Z_={};gn&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Za(t){if(ru[t])return ru[t];if(!Ki[t])return t;var e=Ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z_)return ru[t]=e[n];return t}var V_=Za("animationend"),$_=Za("animationiteration"),G_=Za("animationstart"),K_=Za("transitionend"),Y_=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){Y_.set(t,e),ki(e,[t])}for(var ou=0;ou<rp.length;ou++){var su=rp[ou],d1=su.toLowerCase(),f1=su[0].toUpperCase()+su.slice(1);Xn(d1,"on"+f1)}Xn(V_,"onAnimationEnd");Xn($_,"onAnimationIteration");Xn(G_,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(K_,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function op(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dS(r,e,void 0,t),t.currentTarget=null}function q_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;op(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;op(o,h,p),a=d}}}if(ra)throw t=$u,ra=!1,$u=null,t}function ge(t,e){var n=e[nc];n===void 0&&(n=e[nc]=new Set);var r=t+"__bubble";n.has(r)||(Q_(e,t,2,!1),n.add(r))}function au(t,e,n){var r=0;e&&(r|=4),Q_(n,t,r,e)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function No(t){if(!t[Rs]){t[Rs]=!0,r_.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||au(n,!1,t),au(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rs]||(e[Rs]=!0,au("selectionchange",!1,e))}}function Q_(t,e,n,r){switch(A_(e)){case 1:var o=LS;break;case 4:o=IS;break;default:o=uh}n=o.bind(null,e,n,t),o=void 0,!Vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function lu(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=hi(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}w_(function(){var p=a,g=oh(n),_=[];e:{var v=Y_.get(t);if(v!==void 0){var x=hh,T=t;switch(t){case"keypress":if(Vs(n)===0)break e;case"keydown":case"keyup":x=ZS;break;case"focusin":T="focus",x=tu;break;case"focusout":T="blur",x=tu;break;case"beforeblur":case"afterblur":x=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=GS;break;case V_:case $_:case G_:x=bS;break;case K_:x=YS;break;case"scroll":x=NS;break;case"wheel":x=QS;break;case"copy":case"cut":case"paste":x=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Yf}var k=(e&4)!==0,b=!k&&t==="scroll",S=k?v!==null?v+"Capture":null:v;k=[];for(var y=p,C;y!==null;){C=y;var N=C.stateNode;if(C.tag===5&&N!==null&&(C=N,S!==null&&(N=xo(y,S),N!=null&&k.push(Ro(y,N,C)))),b)break;y=y.return}0<k.length&&(v=new x(v,T,null,n,g),_.push({event:v,listeners:k}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",v&&n!==Hu&&(T=n.relatedTarget||n.fromElement)&&(hi(T)||T[vn]))break e;if((x||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,x?(T=n.relatedTarget||n.toElement,x=p,T=T?hi(T):null,T!==null&&(b=Li(T),T!==b||T.tag!==5&&T.tag!==6)&&(T=null)):(x=null,T=p),x!==T)){if(k=Gf,N="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=Yf,N="onPointerLeave",S="onPointerEnter",y="pointer"),b=x==null?v:Yi(x),C=T==null?v:Yi(T),v=new k(N,y+"leave",x,n,g),v.target=b,v.relatedTarget=C,N=null,hi(g)===p&&(k=new k(S,y+"enter",T,n,g),k.target=C,k.relatedTarget=b,N=k),b=N,x&&T)t:{for(k=x,S=T,y=0,C=k;C;C=Wi(C))y++;for(C=0,N=S;N;N=Wi(N))C++;for(;0<y-C;)k=Wi(k),y--;for(;0<C-y;)S=Wi(S),C--;for(;y--;){if(k===S||S!==null&&k===S.alternate)break t;k=Wi(k),S=Wi(S)}k=null}else k=null;x!==null&&sp(_,v,x,k,!1),T!==null&&b!==null&&sp(_,b,T,k,!0)}}e:{if(v=p?Yi(p):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var B=r1;else if(Xf(v))if(j_)B=l1;else{B=s1;var U=o1}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=a1);if(B&&(B=B(t,p))){F_(_,B,n,g);break e}U&&U(t,v,p),t==="focusout"&&(U=v._wrapperState)&&U.controlled&&v.type==="number"&&Bu(v,"number",v.value)}switch(U=p?Yi(p):window,t){case"focusin":(Xf(U)||U.contentEditable==="true")&&(Gi=U,qu=p,fo=null);break;case"focusout":fo=qu=Gi=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,ip(_,n,g);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":ip(_,n,g)}var W;if(fh)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else $i?z_(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(D_&&n.locale!=="ko"&&($i||H!=="onCompositionStart"?H==="onCompositionEnd"&&$i&&(W=b_()):(An=g,ch="value"in An?An.value:An.textContent,$i=!0)),U=ua(p,H),0<U.length&&(H=new Kf(H,t,null,n,g),_.push({event:H,listeners:U}),W?H.data=W:(W=B_(n),W!==null&&(H.data=W)))),(W=JS?e1(t,n):t1(t,n))&&(p=ua(p,"onBeforeInput"),0<p.length&&(g=new Kf("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:p}),g.data=W))}q_(_,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ua(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=xo(t,n),a!=null&&r.unshift(Ro(t,a,o)),a=xo(t,e),a!=null&&r.push(Ro(t,a,o))),t=t.return}return r}function Wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sp(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=xo(n,a),d!=null&&u.unshift(Ro(n,d,h))):o||(d=xo(n,a),d!=null&&u.push(Ro(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var m1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(_1,"")}function Ms(t,e,n){if(e=ap(e),ap(t)!==e&&n)throw Error(A(425))}function ca(){}var Xu=null,Ju=null;function ec(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(t){return lp.resolve(null).then(t).catch(y1)}:tc;function y1(t){setTimeout(function(){throw t})}function uu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),ko(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ko(e)}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function up(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),en="__reactFiber$"+Tr,Mo="__reactProps$"+Tr,vn="__reactContainer$"+Tr,nc="__reactEvents$"+Tr,w1="__reactListeners$"+Tr,S1="__reactHandles$"+Tr;function hi(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vn]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=up(t);t!==null;){if(n=t[en])return n;t=up(t)}return e}t=n,n=t.parentNode}return null}function Yo(t){return t=t[en]||t[vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Va(t){return t[Mo]||null}var ic=[],qi=-1;function Jn(t){return{current:t}}function we(t){0>qi||(t.current=ic[qi],ic[qi]=null,qi--)}function me(t,e){qi++,ic[qi]=t.current,t.current=e}var qn={},nt=Jn(qn),ft=Jn(!1),yi=qn;function pr(t,e){var n=t.type.contextTypes;if(!n)return qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function pt(t){return t=t.childContextTypes,t!=null}function ha(){we(ft),we(nt)}function cp(t,e,n){if(nt.current!==qn)throw Error(A(168));me(nt,e),me(ft,n)}function X_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(A(108,oS(t)||"Unknown",o));return Pe({},n,r)}function da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,yi=nt.current,me(nt,t),me(ft,ft.current),!0}function hp(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=X_(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,we(ft),we(nt),me(nt,t)):we(ft),me(ft,n)}var hn=null,$a=!1,cu=!1;function J_(t){hn===null?hn=[t]:hn.push(t)}function C1(t){$a=!0,J_(t)}function ei(){if(!cu&&hn!==null){cu=!0;var t=0,e=ue;try{var n=hn;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hn=null,$a=!1}catch(o){throw hn!==null&&(hn=hn.slice(t+1)),x_(sh,ei),o}finally{ue=e,cu=!1}}return null}var Qi=[],Xi=0,fa=null,pa=0,kt=[],Lt=0,wi=null,dn=1,fn="";function ai(t,e){Qi[Xi++]=pa,Qi[Xi++]=fa,fa=t,pa=e}function eg(t,e,n){kt[Lt++]=dn,kt[Lt++]=fn,kt[Lt++]=wi,wi=t;var r=dn;t=fn;var o=32-Ht(r)-1;r&=~(1<<o),n+=1;var a=32-Ht(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,dn=1<<32-Ht(e)+o|n<<o|r,fn=a+t}else dn=1<<a|n<<o|r,fn=t}function mh(t){t.return!==null&&(ai(t,1),eg(t,1,0))}function _h(t){for(;t===fa;)fa=Qi[--Xi],Qi[Xi]=null,pa=Qi[--Xi],Qi[Xi]=null;for(;t===wi;)wi=kt[--Lt],kt[Lt]=null,fn=kt[--Lt],kt[Lt]=null,dn=kt[--Lt],kt[Lt]=null}var yt=null,vt=null,Ce=!1,jt=null;function tg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:dn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,vt=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oc(t){if(Ce){var e=vt;if(e){var n=e;if(!dp(t,e)){if(rc(t))throw Error(A(418));e=jn(n.nextSibling);var r=yt;e&&dp(t,e)?tg(r,n):(t.flags=t.flags&-4097|2,Ce=!1,yt=t)}}else{if(rc(t))throw Error(A(418));t.flags=t.flags&-4097|2,Ce=!1,yt=t}}}function fp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function Os(t){if(t!==yt)return!1;if(!Ce)return fp(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ec(t.type,t.memoizedProps)),e&&(e=vt)){if(rc(t))throw ng(),Error(A(418));for(;e;)tg(t,e),e=jn(e.nextSibling)}if(fp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?jn(t.stateNode.nextSibling):null;return!0}function ng(){for(var t=vt;t;)t=jn(t.nextSibling)}function mr(){vt=yt=null,Ce=!1}function gh(t){jt===null?jt=[t]:jt.push(t)}var E1=xn.ReactCurrentBatchConfig;function Qr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pp(t){var e=t._init;return e(t._payload)}function ig(t){function e(S,y){if(t){var C=S.deletions;C===null?(S.deletions=[y],S.flags|=16):C.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=Zn(S,y),S.index=0,S.sibling=null,S}function a(S,y,C){return S.index=C,t?(C=S.alternate,C!==null?(C=C.index,C<y?(S.flags|=2,y):C):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,C,N){return y===null||y.tag!==6?(y=gu(C,S.mode,N),y.return=S,y):(y=o(y,C),y.return=S,y)}function d(S,y,C,N){var B=C.type;return B===Vi?g(S,y,C.props.children,N,C.key):y!==null&&(y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Nn&&pp(B)===y.type)?(N=o(y,C.props),N.ref=Qr(S,y,C),N.return=S,N):(N=Xs(C.type,C.key,C.props,null,S.mode,N),N.ref=Qr(S,y,C),N.return=S,N)}function p(S,y,C,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=vu(C,S.mode,N),y.return=S,y):(y=o(y,C.children||[]),y.return=S,y)}function g(S,y,C,N,B){return y===null||y.tag!==7?(y=vi(C,S.mode,N,B),y.return=S,y):(y=o(y,C),y.return=S,y)}function _(S,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gu(""+y,S.mode,C),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Es:return C=Xs(y.type,y.key,y.props,null,S.mode,C),C.ref=Qr(S,null,y),C.return=S,C;case Zi:return y=vu(y,S.mode,C),y.return=S,y;case Nn:var N=y._init;return _(S,N(y._payload),C)}if(oo(y)||$r(y))return y=vi(y,S.mode,C,null),y.return=S,y;As(S,y)}return null}function v(S,y,C,N){var B=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return B!==null?null:h(S,y,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Es:return C.key===B?d(S,y,C,N):null;case Zi:return C.key===B?p(S,y,C,N):null;case Nn:return B=C._init,v(S,y,B(C._payload),N)}if(oo(C)||$r(C))return B!==null?null:g(S,y,C,N,null);As(S,C)}return null}function x(S,y,C,N,B){if(typeof N=="string"&&N!==""||typeof N=="number")return S=S.get(C)||null,h(y,S,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Es:return S=S.get(N.key===null?C:N.key)||null,d(y,S,N,B);case Zi:return S=S.get(N.key===null?C:N.key)||null,p(y,S,N,B);case Nn:var U=N._init;return x(S,y,C,U(N._payload),B)}if(oo(N)||$r(N))return S=S.get(C)||null,g(y,S,N,B,null);As(y,N)}return null}function T(S,y,C,N){for(var B=null,U=null,W=y,H=y=0,_e=null;W!==null&&H<C.length;H++){W.index>H?(_e=W,W=null):_e=W.sibling;var Q=v(S,W,C[H],N);if(Q===null){W===null&&(W=_e);break}t&&W&&Q.alternate===null&&e(S,W),y=a(Q,y,H),U===null?B=Q:U.sibling=Q,U=Q,W=_e}if(H===C.length)return n(S,W),Ce&&ai(S,H),B;if(W===null){for(;H<C.length;H++)W=_(S,C[H],N),W!==null&&(y=a(W,y,H),U===null?B=W:U.sibling=W,U=W);return Ce&&ai(S,H),B}for(W=r(S,W);H<C.length;H++)_e=x(W,S,H,C[H],N),_e!==null&&(t&&_e.alternate!==null&&W.delete(_e.key===null?H:_e.key),y=a(_e,y,H),U===null?B=_e:U.sibling=_e,U=_e);return t&&W.forEach(function(de){return e(S,de)}),Ce&&ai(S,H),B}function k(S,y,C,N){var B=$r(C);if(typeof B!="function")throw Error(A(150));if(C=B.call(C),C==null)throw Error(A(151));for(var U=B=null,W=y,H=y=0,_e=null,Q=C.next();W!==null&&!Q.done;H++,Q=C.next()){W.index>H?(_e=W,W=null):_e=W.sibling;var de=v(S,W,Q.value,N);if(de===null){W===null&&(W=_e);break}t&&W&&de.alternate===null&&e(S,W),y=a(de,y,H),U===null?B=de:U.sibling=de,U=de,W=_e}if(Q.done)return n(S,W),Ce&&ai(S,H),B;if(W===null){for(;!Q.done;H++,Q=C.next())Q=_(S,Q.value,N),Q!==null&&(y=a(Q,y,H),U===null?B=Q:U.sibling=Q,U=Q);return Ce&&ai(S,H),B}for(W=r(S,W);!Q.done;H++,Q=C.next())Q=x(W,S,H,Q.value,N),Q!==null&&(t&&Q.alternate!==null&&W.delete(Q.key===null?H:Q.key),y=a(Q,y,H),U===null?B=Q:U.sibling=Q,U=Q);return t&&W.forEach(function(Be){return e(S,Be)}),Ce&&ai(S,H),B}function b(S,y,C,N){if(typeof C=="object"&&C!==null&&C.type===Vi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Es:e:{for(var B=C.key,U=y;U!==null;){if(U.key===B){if(B=C.type,B===Vi){if(U.tag===7){n(S,U.sibling),y=o(U,C.props.children),y.return=S,S=y;break e}}else if(U.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Nn&&pp(B)===U.type){n(S,U.sibling),y=o(U,C.props),y.ref=Qr(S,U,C),y.return=S,S=y;break e}n(S,U);break}else e(S,U);U=U.sibling}C.type===Vi?(y=vi(C.props.children,S.mode,N,C.key),y.return=S,S=y):(N=Xs(C.type,C.key,C.props,null,S.mode,N),N.ref=Qr(S,y,C),N.return=S,S=N)}return u(S);case Zi:e:{for(U=C.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(S,y.sibling),y=o(y,C.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=vu(C,S.mode,N),y.return=S,S=y}return u(S);case Nn:return U=C._init,b(S,y,U(C._payload),N)}if(oo(C))return T(S,y,C,N);if($r(C))return k(S,y,C,N);As(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,C),y.return=S,S=y):(n(S,y),y=gu(C,S.mode,N),y.return=S,S=y),u(S)):n(S,y)}return b}var _r=ig(!0),rg=ig(!1),ma=Jn(null),_a=null,Ji=null,vh=null;function yh(){vh=Ji=_a=null}function wh(t){var e=ma.current;we(ma),t._currentValue=e}function sc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lr(t,e){_a=t,vh=Ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(vh!==t)if(t={context:t,memoizedValue:e,next:null},Ji===null){if(_a===null)throw Error(A(308));Ji=t,_a.dependencies={lanes:0,firstContext:t}}else Ji=Ji.next=t;return e}var di=null;function Sh(t){di===null?di=[t]:di.push(t)}function og(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Sh(e)):(n.next=o.next,o.next=n),e.interleaved=n,yn(t,r)}function yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rn=!1;function Ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,yn(t,n)}return o=r.interleaved,o===null?(e.next=e,Sh(r)):(e.next=o.next,o.next=e),r.interleaved=e,yn(t,n)}function $s(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ah(t,n)}}function mp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ga(t,e,n,r){var o=t.updateQueue;Rn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var g=t.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=d))}if(a!==null){var _=o.baseState;u=0,g=p=d=null,h=a;do{var v=h.lane,x=h.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=t,k=h;switch(v=e,x=n,k.tag){case 1:if(T=k.payload,typeof T=="function"){_=T.call(x,_,v);break e}_=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=k.payload,v=typeof T=="function"?T.call(x,_,v):T,v==null)break e;_=Pe({},_,v);break e;case 2:Rn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else x={eventTime:x,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=x,d=_):g=g.next=x,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(g===null&&(d=_),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);Ci|=u,t.lanes=u,t.memoizedState=_}}function _p(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(A(191,o));o.call(r)}}}var qo={},rn=Jn(qo),Oo=Jn(qo),Ao=Jn(qo);function fi(t){if(t===qo)throw Error(A(174));return t}function Eh(t,e){switch(me(Ao,e),me(Oo,t),me(rn,qo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ju(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ju(e,t)}we(rn),me(rn,e)}function gr(){we(rn),we(Oo),we(Ao)}function ag(t){fi(Ao.current);var e=fi(rn.current),n=ju(e,t.type);e!==n&&(me(Oo,t),me(rn,n))}function xh(t){Oo.current===t&&(we(rn),we(Oo))}var xe=Jn(0);function va(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hu=[];function Th(){for(var t=0;t<hu.length;t++)hu[t]._workInProgressVersionPrimary=null;hu.length=0}var Gs=xn.ReactCurrentDispatcher,du=xn.ReactCurrentBatchConfig,Si=0,Te=null,be=null,Ue=null,ya=!1,po=!1,bo=0,x1=0;function Qe(){throw Error(A(321))}function Ph(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function kh(t,e,n,r,o,a){if(Si=a,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gs.current=t===null||t.memoizedState===null?L1:I1,t=n(r,o),po){a=0;do{if(po=!1,bo=0,25<=a)throw Error(A(301));a+=1,Ue=be=null,e.updateQueue=null,Gs.current=N1,t=n(r,o)}while(po)}if(Gs.current=wa,e=be!==null&&be.next!==null,Si=0,Ue=be=Te=null,ya=!1,e)throw Error(A(300));return t}function Lh(){var t=bo!==0;return bo=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function Ot(){if(be===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Ue===null?Te.memoizedState:Ue.next;if(e!==null)Ue=e,be=t;else{if(t===null)throw Error(A(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ue===null?Te.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function Do(t,e){return typeof e=="function"?e(t):e}function fu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=be,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var g=p.lane;if((Si&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var _={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=_,u=r):d=d.next=_,Te.lanes|=g,Ci|=g}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,Gt(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,Te.lanes|=a,Ci|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);Gt(a,e.memoizedState)||(ht=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function lg(){}function ug(t,e){var n=Te,r=Ot(),o=e(),a=!Gt(r.memoizedState,o);if(a&&(r.memoizedState=o,ht=!0),r=r.queue,Ih(dg.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ue!==null&&Ue.memoizedState.tag&1){if(n.flags|=2048,zo(9,hg.bind(null,n,r,o,e),void 0,null),He===null)throw Error(A(349));Si&30||cg(n,e,o)}return o}function cg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hg(t,e,n,r){e.value=n,e.getSnapshot=r,fg(e)&&pg(t)}function dg(t,e,n){return n(function(){fg(e)&&pg(t)})}function fg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function pg(t){var e=yn(t,1);e!==null&&Zt(e,t,1,-1)}function gp(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},e.queue=t,t=t.dispatch=k1.bind(null,Te,t),[e.memoizedState,t]}function zo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mg(){return Ot().memoizedState}function Ks(t,e,n,r){var o=Jt();Te.flags|=t,o.memoizedState=zo(1|e,n,void 0,r===void 0?null:r)}function Ga(t,e,n,r){var o=Ot();r=r===void 0?null:r;var a=void 0;if(be!==null){var u=be.memoizedState;if(a=u.destroy,r!==null&&Ph(r,u.deps)){o.memoizedState=zo(e,n,a,r);return}}Te.flags|=t,o.memoizedState=zo(1|e,n,a,r)}function vp(t,e){return Ks(8390656,8,t,e)}function Ih(t,e){return Ga(2048,8,t,e)}function _g(t,e){return Ga(4,2,t,e)}function gg(t,e){return Ga(4,4,t,e)}function vg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yg(t,e,n){return n=n!=null?n.concat([t]):null,Ga(4,4,vg.bind(null,e,t),n)}function Nh(){}function wg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ph(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sg(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ph(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cg(t,e,n){return Si&21?(Gt(n,e)||(n=k_(),Te.lanes|=n,Ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function T1(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=du.transition;du.transition={};try{t(!1),e()}finally{ue=n,du.transition=r}}function Eg(){return Ot().memoizedState}function P1(t,e,n){var r=Hn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xg(t))Tg(e,n);else if(n=og(t,e,n,r),n!==null){var o=ot();Zt(n,t,r,o),Pg(n,e,r)}}function k1(t,e,n){var r=Hn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xg(t))Tg(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Gt(h,u)){var d=e.interleaved;d===null?(o.next=o,Sh(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=og(t,e,o,r),n!==null&&(o=ot(),Zt(n,t,r,o),Pg(n,e,r))}}function xg(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Tg(t,e){po=ya=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ah(t,n)}}var wa={readContext:Mt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},L1={readContext:Mt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:vp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ks(4194308,4,vg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ks(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P1.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:gp,useDebugValue:Nh,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=gp(!1),e=t[0];return t=T1.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,o=Jt();if(Ce){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),He===null)throw Error(A(349));Si&30||cg(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,vp(dg.bind(null,r,a,t),[t]),r.flags|=2048,zo(9,hg.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Jt(),e=He.identifierPrefix;if(Ce){var n=fn,r=dn;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I1={readContext:Mt,useCallback:wg,useContext:Mt,useEffect:Ih,useImperativeHandle:yg,useInsertionEffect:_g,useLayoutEffect:gg,useMemo:Sg,useReducer:fu,useRef:mg,useState:function(){return fu(Do)},useDebugValue:Nh,useDeferredValue:function(t){var e=Ot();return Cg(e,be.memoizedState,t)},useTransition:function(){var t=fu(Do)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:lg,useSyncExternalStore:ug,useId:Eg,unstable_isNewReconciler:!1},N1={readContext:Mt,useCallback:wg,useContext:Mt,useEffect:Ih,useImperativeHandle:yg,useInsertionEffect:_g,useLayoutEffect:gg,useMemo:Sg,useReducer:pu,useRef:mg,useState:function(){return pu(Do)},useDebugValue:Nh,useDeferredValue:function(t){var e=Ot();return be===null?e.memoizedState=t:Cg(e,be.memoizedState,t)},useTransition:function(){var t=pu(Do)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:lg,useSyncExternalStore:ug,useId:Eg,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ac(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ka={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),o=Hn(t),a=mn(r,o);a.payload=e,n!=null&&(a.callback=n),e=Un(t,a,o),e!==null&&(Zt(e,t,o,r),$s(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),o=Hn(t),a=mn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Un(t,a,o),e!==null&&(Zt(e,t,o,r),$s(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=Hn(t),o=mn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Un(t,o,r),e!==null&&(Zt(e,t,r,n),$s(e,t,r))}};function yp(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!Io(n,r)||!Io(o,a):!0}function kg(t,e,n){var r=!1,o=qn,a=e.contextType;return typeof a=="object"&&a!==null?a=Mt(a):(o=pt(e)?yi:nt.current,r=e.contextTypes,a=(r=r!=null)?pr(t,o):qn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ka,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function wp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ka.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Ch(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=Mt(a):(a=pt(e)?yi:nt.current,o.context=pr(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ac(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ka.enqueueReplaceState(o,o.state,null),ga(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function vr(t,e){try{var n="",r=e;do n+=rS(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function mu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R1=typeof WeakMap=="function"?WeakMap:Map;function Lg(t,e,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ca||(Ca=!0,yc=r),uc(t,e)},n}function Ig(t,e,n){n=mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){uc(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){uc(t,e),typeof r!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Sp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R1;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=V1.bind(null,t,e,n),e.then(t,t))}function Cp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ep(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mn(-1,1),e.tag=2,Un(n,e,1))),n.lanes|=1),t)}var M1=xn.ReactCurrentOwner,ht=!1;function rt(t,e,n,r){e.child=t===null?rg(e,null,n,r):_r(e,t.child,n,r)}function xp(t,e,n,r,o){n=n.render;var a=e.ref;return lr(e,o),r=kh(t,e,n,r,a,o),n=Lh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,wn(t,e,o)):(Ce&&n&&mh(e),e.flags|=1,rt(t,e,r,o),e.child)}function Tp(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!Bh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Ng(t,e,a,r,o)):(t=Xs(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(u,r)&&t.ref===e.ref)return wn(t,e,o)}return e.flags|=1,t=Zn(a,r),t.ref=e.ref,t.return=e,e.child=t}function Ng(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(Io(a,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,wn(t,e,o)}return cc(t,e,n,r,o)}function Rg(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(tr,gt),gt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(tr,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,me(tr,gt),gt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,me(tr,gt),gt|=r;return rt(t,e,o,n),e.child}function Mg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,r,o){var a=pt(n)?yi:nt.current;return a=pr(e,a),lr(e,o),n=kh(t,e,n,r,a,o),r=Lh(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,wn(t,e,o)):(Ce&&r&&mh(e),e.flags|=1,rt(t,e,n,o),e.child)}function Pp(t,e,n,r,o){if(pt(n)){var a=!0;da(e)}else a=!1;if(lr(e,o),e.stateNode===null)Ys(t,e),kg(e,n,r),lc(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Mt(p):(p=pt(n)?yi:nt.current,p=pr(e,p));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";_||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&wp(e,u,r,p),Rn=!1;var v=e.memoizedState;u.state=v,ga(e,r,u,o),d=e.memoizedState,h!==r||v!==d||ft.current||Rn?(typeof g=="function"&&(ac(e,n,g,r),d=e.memoizedState),(h=Rn||yp(e,n,h,r,v,d,p))?(_||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,sg(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Bt(e.type,h),u.props=p,_=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=Mt(d):(d=pt(n)?yi:nt.current,d=pr(e,d));var x=n.getDerivedStateFromProps;(g=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==_||v!==d)&&wp(e,u,r,d),Rn=!1,v=e.memoizedState,u.state=v,ga(e,r,u,o);var T=e.memoizedState;h!==_||v!==T||ft.current||Rn?(typeof x=="function"&&(ac(e,n,x,r),T=e.memoizedState),(p=Rn||yp(e,n,p,r,v,T,d)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),u.props=r,u.state=T,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return hc(t,e,n,r,a,o)}function hc(t,e,n,r,o,a){Mg(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&hp(e,n,!1),wn(t,e,a);r=e.stateNode,M1.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=_r(e,t.child,null,a),e.child=_r(e,null,h,a)):rt(t,e,h,a),e.memoizedState=r.state,o&&hp(e,n,!0),e.child}function Og(t){var e=t.stateNode;e.pendingContext?cp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cp(t,e.context,!1),Eh(t,e.containerInfo)}function kp(t,e,n,r,o){return mr(),gh(o),e.flags|=256,rt(t,e,n,r),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ag(t,e,n){var r=e.pendingProps,o=xe.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),me(xe,o&1),t===null)return oc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Qa(u,r,0,null),t=vi(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fc(n),e.memoizedState=dc,t):Rh(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return O1(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Zn(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Zn(h,a):(a=vi(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?fc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=dc,r}return a=t.child,t=a.sibling,r=Zn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rh(t,e){return e=Qa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bs(t,e,n,r){return r!==null&&gh(r),_r(e,t.child,null,n),t=Rh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O1(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=mu(Error(A(422))),bs(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=Qa({mode:"visible",children:r.children},o,0,null),a=vi(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&_r(e,t.child,null,u),e.child.memoizedState=fc(u),e.memoizedState=dc,a);if(!(e.mode&1))return bs(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(A(419)),r=mu(a,r,void 0),bs(t,e,u,r)}if(h=(u&t.childLanes)!==0,ht||h){if(r=He,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,yn(t,o),Zt(r,t,o,-1))}return zh(),r=mu(Error(A(421))),bs(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=$1.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,vt=jn(o.nextSibling),yt=e,Ce=!0,jt=null,t!==null&&(kt[Lt++]=dn,kt[Lt++]=fn,kt[Lt++]=wi,dn=t.id,fn=t.overflow,wi=e),e=Rh(e,r.children),e.flags|=4096,e)}function Lp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sc(t.return,e,n)}function _u(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function bg(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(rt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lp(t,n,e);else if(t.tag===19)Lp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(xe,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&va(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),_u(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&va(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}_u(e,!0,n,null,a);break;case"together":_u(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ys(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A1(t,e,n){switch(e.tag){case 3:Og(e),mr();break;case 5:ag(e);break;case 1:pt(e.type)&&da(e);break;case 4:Eh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;me(ma,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?Ag(t,e,n):(me(xe,xe.current&1),t=wn(t,e,n),t!==null?t.sibling:null);me(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bg(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Rg(t,e,n)}return wn(t,e,n)}var Dg,pc,zg,Bg;Dg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pc=function(){};zg=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,fi(rn.current);var a=null;switch(n){case"input":o=Du(t,o),r=Du(t,r),a=[];break;case"select":o=Pe({},o,{value:void 0}),r=Pe({},r,{value:void 0}),a=[];break;case"textarea":o=Fu(t,o),r=Fu(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ca)}Uu(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Co.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Co.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&ge("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};Bg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xr(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b1(t,e,n){var r=e.pendingProps;switch(_h(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&ha(),Xe(e),null;case 3:return r=e.stateNode,gr(),we(ft),we(nt),Th(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(Cc(jt),jt=null))),pc(t,e),Xe(e),null;case 5:xh(e);var o=fi(Ao.current);if(n=e.type,t!==null&&e.stateNode!=null)zg(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Xe(e),null}if(t=fi(rn.current),Os(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[en]=e,r[Mo]=a,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(o=0;o<ao.length;o++)ge(ao[o],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":zf(r,a),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ge("invalid",r);break;case"textarea":Ff(r,a),ge("invalid",r)}Uu(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Ms(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Ms(r.textContent,h,t),o=["children",""+h]):Co.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&ge("scroll",r)}switch(n){case"input":xs(r),Bf(r,a,!0);break;case"textarea":xs(r),jf(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ca)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[en]=e,t[Mo]=r,Dg(t,e,!1,!1),e.stateNode=t;e:{switch(u=Wu(n,r),n){case"dialog":ge("cancel",t),ge("close",t),o=r;break;case"iframe":case"object":case"embed":ge("load",t),o=r;break;case"video":case"audio":for(o=0;o<ao.length;o++)ge(ao[o],t);o=r;break;case"source":ge("error",t),o=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),o=r;break;case"details":ge("toggle",t),o=r;break;case"input":zf(t,r),o=Du(t,r),ge("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Pe({},r,{value:void 0}),ge("invalid",t);break;case"textarea":Ff(t,r),o=Fu(t,r),ge("invalid",t);break;default:o=r}Uu(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?m_(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&f_(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Eo(t,d):typeof d=="number"&&Eo(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Co.hasOwnProperty(a)?d!=null&&a==="onScroll"&&ge("scroll",t):d!=null&&th(t,a,d,u))}switch(n){case"input":xs(t),Bf(t,r,!1);break;case"textarea":xs(t),jf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yn(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?rr(t,!!r.multiple,a,!1):r.defaultValue!=null&&rr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ca)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)Bg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=fi(Ao.current),fi(rn.current),Os(e)){if(r=e.stateNode,n=e.memoizedProps,r[en]=e,(a=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:Ms(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ms(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=e,e.stateNode=r}return Xe(e),null;case 13:if(we(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&vt!==null&&e.mode&1&&!(e.flags&128))ng(),mr(),e.flags|=98560,a=!1;else if(a=Os(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(A(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[en]=e}else mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),a=!1}else jt!==null&&(Cc(jt),jt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?ze===0&&(ze=3):zh())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return gr(),pc(t,e),t===null&&No(e.stateNode.containerInfo),Xe(e),null;case 10:return wh(e.type._context),Xe(e),null;case 17:return pt(e.type)&&ha(),Xe(e),null;case 19:if(we(xe),a=e.memoizedState,a===null)return Xe(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)Xr(a,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=va(t),u!==null){for(e.flags|=128,Xr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(xe,xe.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ie()>yr&&(e.flags|=128,r=!0,Xr(a,!1),e.lanes=4194304)}else{if(!r)if(t=va(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Ce)return Xe(e),null}else 2*Ie()-a.renderingStartTime>yr&&n!==1073741824&&(e.flags|=128,r=!0,Xr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ie(),e.sibling=null,n=xe.current,me(xe,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Dh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function D1(t,e){switch(_h(e),e.tag){case 1:return pt(e.type)&&ha(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gr(),we(ft),we(nt),Th(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xh(e),null;case 13:if(we(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(xe),null;case 4:return gr(),null;case 10:return wh(e.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var Ds=!1,Je=!1,z1=typeof WeakSet=="function"?WeakSet:Set,j=null;function er(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function mc(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Ip=!1;function B1(t,e){if(Xu=aa,t=H_(),ph(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,g=0,_=t,v=null;t:for(;;){for(var x;_!==n||o!==0&&_.nodeType!==3||(h=u+o),_!==a||r!==0&&_.nodeType!==3||(d=u+r),_.nodeType===3&&(u+=_.nodeValue.length),(x=_.firstChild)!==null;)v=_,_=x;for(;;){if(_===t)break t;if(v===n&&++p===o&&(h=u),v===a&&++g===r&&(d=u),(x=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=x}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:t,selectionRange:n},aa=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var k=T.memoizedProps,b=T.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?k:Bt(e.type,k),b);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(N){ke(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return T=Ip,Ip=!1,T}function mo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&mc(e,n,a)}o=o.next}while(o!==r)}}function Ya(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _c(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fg(t){var e=t.alternate;e!==null&&(t.alternate=null,Fg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[Mo],delete e[nc],delete e[w1],delete e[S1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jg(t){return t.tag===5||t.tag===3||t.tag===4}function Np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ca));else if(r!==4&&(t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}function vc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}var $e=null,Ft=!1;function In(t,e,n){for(n=n.child;n!==null;)Ug(t,e,n),n=n.sibling}function Ug(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ua,n)}catch{}switch(n.tag){case 5:Je||er(n,e);case 6:var r=$e,o=Ft;$e=null,In(t,e,n),$e=r,Ft=o,$e!==null&&(Ft?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ft?(t=$e,n=n.stateNode,t.nodeType===8?uu(t.parentNode,n):t.nodeType===1&&uu(t,n),ko(t)):uu($e,n.stateNode));break;case 4:r=$e,o=Ft,$e=n.stateNode.containerInfo,Ft=!0,In(t,e,n),$e=r,Ft=o;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&mc(n,e,u),o=o.next}while(o!==r)}In(t,e,n);break;case 1:if(!Je&&(er(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){ke(n,e,h)}In(t,e,n);break;case 21:In(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,In(t,e,n),Je=r):In(t,e,n);break;default:In(t,e,n)}}function Rp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z1),e.forEach(function(r){var o=G1.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:$e=h.stateNode,Ft=!1;break e;case 3:$e=h.stateNode.containerInfo,Ft=!0;break e;case 4:$e=h.stateNode.containerInfo,Ft=!0;break e}h=h.return}if($e===null)throw Error(A(160));Ug(a,u,o),$e=null,Ft=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){ke(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wg(e,t),e=e.sibling}function Wg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),Xt(t),r&4){try{mo(3,t,t.return),Ya(3,t)}catch(k){ke(t,t.return,k)}try{mo(5,t,t.return)}catch(k){ke(t,t.return,k)}}break;case 1:zt(e,t),Xt(t),r&512&&n!==null&&er(n,n.return);break;case 5:if(zt(e,t),Xt(t),r&512&&n!==null&&er(n,n.return),t.flags&32){var o=t.stateNode;try{Eo(o,"")}catch(k){ke(t,t.return,k)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&c_(o,a),Wu(h,u);var p=Wu(h,a);for(u=0;u<d.length;u+=2){var g=d[u],_=d[u+1];g==="style"?m_(o,_):g==="dangerouslySetInnerHTML"?f_(o,_):g==="children"?Eo(o,_):th(o,g,_,p)}switch(h){case"input":zu(o,a);break;case"textarea":h_(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?rr(o,!!a.multiple,x,!1):v!==!!a.multiple&&(a.defaultValue!=null?rr(o,!!a.multiple,a.defaultValue,!0):rr(o,!!a.multiple,a.multiple?[]:"",!1))}o[Mo]=a}catch(k){ke(t,t.return,k)}}break;case 6:if(zt(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(A(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(k){ke(t,t.return,k)}}break;case 3:if(zt(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ko(e.containerInfo)}catch(k){ke(t,t.return,k)}break;case 4:zt(e,t),Xt(t);break;case 13:zt(e,t),Xt(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Ah=Ie())),r&4&&Rp(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(p=Je)||g,zt(e,t),Je=p):zt(e,t),Xt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(j=t,g=t.child;g!==null;){for(_=j=g;j!==null;){switch(v=j,x=v.child,v.tag){case 0:case 11:case 14:case 15:mo(4,v,v.return);break;case 1:er(v,v.return);var T=v.stateNode;if(typeof T.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(k){ke(r,n,k)}}break;case 5:er(v,v.return);break;case 22:if(v.memoizedState!==null){Op(_);continue}}x!==null?(x.return=v,j=x):Op(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{o=_.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=_.stateNode,d=_.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=p_("display",u))}catch(k){ke(t,t.return,k)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(k){ke(t,t.return,k)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:zt(e,t),Xt(t),r&4&&Rp(t);break;case 21:break;default:zt(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jg(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Eo(o,""),r.flags&=-33);var a=Np(t);vc(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Np(t);gc(t,h,u);break;default:throw Error(A(161))}}catch(d){ke(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F1(t,e,n){j=t,Hg(t)}function Hg(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var o=j,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||Ds;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Je;h=Ds;var p=Je;if(Ds=u,(Je=d)&&!p)for(j=o;j!==null;)u=j,d=u.child,u.tag===22&&u.memoizedState!==null?Ap(o):d!==null?(d.return=u,j=d):Ap(o);for(;a!==null;)j=a,Hg(a),a=a.sibling;j=o,Ds=h,Je=p}Mp(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,j=a):Mp(t)}}function Mp(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Ya(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&_p(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_p(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&ko(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Je||e.flags&512&&_c(e)}catch(v){ke(e,e.return,v)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Op(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Ap(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ya(4,e)}catch(d){ke(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){ke(e,o,d)}}var a=e.return;try{_c(e)}catch(d){ke(e,a,d)}break;case 5:var u=e.return;try{_c(e)}catch(d){ke(e,u,d)}}}catch(d){ke(e,e.return,d)}if(e===t){j=null;break}var h=e.sibling;if(h!==null){h.return=e.return,j=h;break}j=e.return}}var j1=Math.ceil,Sa=xn.ReactCurrentDispatcher,Mh=xn.ReactCurrentOwner,Rt=xn.ReactCurrentBatchConfig,oe=0,He=null,Me=null,Ye=0,gt=0,tr=Jn(0),ze=0,Bo=null,Ci=0,qa=0,Oh=0,_o=null,ct=null,Ah=0,yr=1/0,cn=null,Ca=!1,yc=null,Wn=null,zs=!1,bn=null,Ea=0,go=0,wc=null,qs=-1,Qs=0;function ot(){return oe&6?Ie():qs!==-1?qs:qs=Ie()}function Hn(t){return t.mode&1?oe&2&&Ye!==0?Ye&-Ye:E1.transition!==null?(Qs===0&&(Qs=k_()),Qs):(t=ue,t!==0||(t=window.event,t=t===void 0?16:A_(t.type)),t):1}function Zt(t,e,n,r){if(50<go)throw go=0,wc=null,Error(A(185));Go(t,n,r),(!(oe&2)||t!==He)&&(t===He&&(!(oe&2)&&(qa|=n),ze===4&&On(t,Ye)),mt(t,r),n===1&&oe===0&&!(e.mode&1)&&(yr=Ie()+500,$a&&ei()))}function mt(t,e){var n=t.callbackNode;ES(t,e);var r=sa(t,t===He?Ye:0);if(r===0)n!==null&&Hf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hf(n),e===1)t.tag===0?C1(bp.bind(null,t)):J_(bp.bind(null,t)),v1(function(){!(oe&6)&&ei()}),n=null;else{switch(L_(r)){case 1:n=sh;break;case 4:n=T_;break;case 16:n=oa;break;case 536870912:n=P_;break;default:n=oa}n=Qg(n,Zg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zg(t,e){if(qs=-1,Qs=0,oe&6)throw Error(A(327));var n=t.callbackNode;if(ur()&&t.callbackNode!==n)return null;var r=sa(t,t===He?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xa(t,r);else{e=r;var o=oe;oe|=2;var a=$g();(He!==t||Ye!==e)&&(cn=null,yr=Ie()+500,gi(t,e));do try{H1();break}catch(h){Vg(t,h)}while(!0);yh(),Sa.current=a,oe=o,Me!==null?e=0:(He=null,Ye=0,e=ze)}if(e!==0){if(e===2&&(o=Gu(t),o!==0&&(r=o,e=Sc(t,o))),e===1)throw n=Bo,gi(t,0),On(t,r),mt(t,Ie()),n;if(e===6)On(t,r);else{if(o=t.current.alternate,!(r&30)&&!U1(o)&&(e=xa(t,r),e===2&&(a=Gu(t),a!==0&&(r=a,e=Sc(t,a))),e===1))throw n=Bo,gi(t,0),On(t,r),mt(t,Ie()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:li(t,ct,cn);break;case 3:if(On(t,r),(r&130023424)===r&&(e=Ah+500-Ie(),10<e)){if(sa(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=tc(li.bind(null,t,ct,cn),e);break}li(t,ct,cn);break;case 4:if(On(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-Ht(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j1(r/1960))-r,10<r){t.timeoutHandle=tc(li.bind(null,t,ct,cn),r);break}li(t,ct,cn);break;case 5:li(t,ct,cn);break;default:throw Error(A(329))}}}return mt(t,Ie()),t.callbackNode===n?Zg.bind(null,t):null}function Sc(t,e){var n=_o;return t.current.memoizedState.isDehydrated&&(gi(t,e).flags|=256),t=xa(t,e),t!==2&&(e=ct,ct=n,e!==null&&Cc(e)),t}function Cc(t){ct===null?ct=t:ct.push.apply(ct,t)}function U1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Gt(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~Oh,e&=~qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ht(e),r=1<<n;t[n]=-1,e&=~r}}function bp(t){if(oe&6)throw Error(A(327));ur();var e=sa(t,0);if(!(e&1))return mt(t,Ie()),null;var n=xa(t,e);if(t.tag!==0&&n===2){var r=Gu(t);r!==0&&(e=r,n=Sc(t,r))}if(n===1)throw n=Bo,gi(t,0),On(t,e),mt(t,Ie()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,ct,cn),mt(t,Ie()),null}function bh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(yr=Ie()+500,$a&&ei())}}function Ei(t){bn!==null&&bn.tag===0&&!(oe&6)&&ur();var e=oe;oe|=1;var n=Rt.transition,r=ue;try{if(Rt.transition=null,ue=1,t)return t()}finally{ue=r,Rt.transition=n,oe=e,!(oe&6)&&ei()}}function Dh(){gt=tr.current,we(tr)}function gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,g1(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(_h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ha();break;case 3:gr(),we(ft),we(nt),Th();break;case 5:xh(r);break;case 4:gr();break;case 13:we(xe);break;case 19:we(xe);break;case 10:wh(r.type._context);break;case 22:case 23:Dh()}n=n.return}if(He=t,Me=t=Zn(t.current,null),Ye=gt=e,ze=0,Bo=null,Oh=qa=Ci=0,ct=_o=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}di=null}return t}function Vg(t,e){do{var n=Me;try{if(yh(),Gs.current=wa,ya){for(var r=Te.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ya=!1}if(Si=0,Ue=be=Te=null,po=!1,bo=0,Mh.current=null,n===null||n.return===null){ze=1,Bo=e,Me=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=Ye,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=h,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=Cp(u);if(x!==null){x.flags&=-257,Ep(x,u,h,a,e),x.mode&1&&Sp(a,p,e),e=x,d=p;var T=e.updateQueue;if(T===null){var k=new Set;k.add(d),e.updateQueue=k}else T.add(d);break e}else{if(!(e&1)){Sp(a,p,e),zh();break e}d=Error(A(426))}}else if(Ce&&h.mode&1){var b=Cp(u);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ep(b,u,h,a,e),gh(vr(d,h));break e}}a=d=vr(d,h),ze!==4&&(ze=2),_o===null?_o=[a]:_o.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=Lg(a,d,e);mp(a,S);break e;case 1:h=d;var y=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Wn===null||!Wn.has(C)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=Ig(a,h,e);mp(a,N);break e}}a=a.return}while(a!==null)}Kg(n)}catch(B){e=B,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function $g(){var t=Sa.current;return Sa.current=wa,t===null?wa:t}function zh(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(Ci&268435455)&&!(qa&268435455)||On(He,Ye)}function xa(t,e){var n=oe;oe|=2;var r=$g();(He!==t||Ye!==e)&&(cn=null,gi(t,e));do try{W1();break}catch(o){Vg(t,o)}while(!0);if(yh(),oe=n,Sa.current=r,Me!==null)throw Error(A(261));return He=null,Ye=0,ze}function W1(){for(;Me!==null;)Gg(Me)}function H1(){for(;Me!==null&&!pS();)Gg(Me)}function Gg(t){var e=qg(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?Kg(t):Me=e,Mh.current=null}function Kg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=D1(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Me=null;return}}else if(n=b1(n,e,gt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);ze===0&&(ze=5)}function li(t,e,n){var r=ue,o=Rt.transition;try{Rt.transition=null,ue=1,Z1(t,e,n,r)}finally{Rt.transition=o,ue=r}return null}function Z1(t,e,n,r){do ur();while(bn!==null);if(oe&6)throw Error(A(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(xS(t,a),t===He&&(Me=He=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,Qg(oa,function(){return ur(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Rt.transition,Rt.transition=null;var u=ue;ue=1;var h=oe;oe|=4,Mh.current=null,B1(t,n),Wg(n,t),c1(Ju),aa=!!Xu,Ju=Xu=null,t.current=n,F1(n),mS(),oe=h,ue=u,Rt.transition=a}else t.current=n;if(zs&&(zs=!1,bn=t,Ea=o),a=t.pendingLanes,a===0&&(Wn=null),vS(n.stateNode),mt(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ca)throw Ca=!1,t=yc,yc=null,t;return Ea&1&&t.tag!==0&&ur(),a=t.pendingLanes,a&1?t===wc?go++:(go=0,wc=t):go=0,ei(),null}function ur(){if(bn!==null){var t=L_(Ea),e=Rt.transition,n=ue;try{if(Rt.transition=null,ue=16>t?16:t,bn===null)var r=!1;else{if(t=bn,bn=null,Ea=0,oe&6)throw Error(A(331));var o=oe;for(oe|=4,j=t.current;j!==null;){var a=j,u=a.child;if(j.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(j=p;j!==null;){var g=j;switch(g.tag){case 0:case 11:case 15:mo(8,g,a)}var _=g.child;if(_!==null)_.return=g,j=_;else for(;j!==null;){g=j;var v=g.sibling,x=g.return;if(Fg(g),g===p){j=null;break}if(v!==null){v.return=x,j=v;break}j=x}}}var T=a.alternate;if(T!==null){var k=T.child;if(k!==null){T.child=null;do{var b=k.sibling;k.sibling=null,k=b}while(k!==null)}}j=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,j=u;else e:for(;j!==null;){if(a=j,a.flags&2048)switch(a.tag){case 0:case 11:case 15:mo(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,j=S;break e}j=a.return}}var y=t.current;for(j=y;j!==null;){u=j;var C=u.child;if(u.subtreeFlags&2064&&C!==null)C.return=u,j=C;else e:for(u=y;j!==null;){if(h=j,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Ya(9,h)}}catch(B){ke(h,h.return,B)}if(h===u){j=null;break e}var N=h.sibling;if(N!==null){N.return=h.return,j=N;break e}j=h.return}}if(oe=o,ei(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ua,t)}catch{}r=!0}return r}finally{ue=n,Rt.transition=e}}return!1}function Dp(t,e,n){e=vr(n,e),e=Lg(t,e,1),t=Un(t,e,1),e=ot(),t!==null&&(Go(t,1,e),mt(t,e))}function ke(t,e,n){if(t.tag===3)Dp(t,t,n);else for(;e!==null;){if(e.tag===3){Dp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wn===null||!Wn.has(r))){t=vr(n,t),t=Ig(e,t,1),e=Un(e,t,1),t=ot(),e!==null&&(Go(e,1,t),mt(e,t));break}}e=e.return}}function V1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Ye&n)===n&&(ze===4||ze===3&&(Ye&130023424)===Ye&&500>Ie()-Ah?gi(t,0):Oh|=n),mt(t,e)}function Yg(t,e){e===0&&(t.mode&1?(e=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):e=1);var n=ot();t=yn(t,e),t!==null&&(Go(t,e,n),mt(t,n))}function $1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yg(t,n)}function G1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),Yg(t,n)}var qg;qg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,A1(t,e,n);ht=!!(t.flags&131072)}else ht=!1,Ce&&e.flags&1048576&&eg(e,pa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ys(t,e),t=e.pendingProps;var o=pr(e,nt.current);lr(e,n),o=kh(null,e,r,t,o,n);var a=Lh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(a=!0,da(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ch(e),o.updater=Ka,e.stateNode=o,o._reactInternals=e,lc(e,r,t,n),e=hc(null,e,r,!0,a,n)):(e.tag=0,Ce&&a&&mh(e),rt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ys(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Y1(r),t=Bt(r,t),o){case 0:e=cc(null,e,r,t,n);break e;case 1:e=Pp(null,e,r,t,n);break e;case 11:e=xp(null,e,r,t,n);break e;case 14:e=Tp(null,e,r,Bt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),cc(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),Pp(t,e,r,o,n);case 3:e:{if(Og(e),t===null)throw Error(A(387));r=e.pendingProps,a=e.memoizedState,o=a.element,sg(t,e),ga(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=vr(Error(A(423)),e),e=kp(t,e,r,n,o);break e}else if(r!==o){o=vr(Error(A(424)),e),e=kp(t,e,r,n,o);break e}else for(vt=jn(e.stateNode.containerInfo.firstChild),yt=e,Ce=!0,jt=null,n=rg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===o){e=wn(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return ag(e),t===null&&oc(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,ec(r,o)?u=null:a!==null&&ec(r,a)&&(e.flags|=32),Mg(t,e),rt(t,e,u,n),e.child;case 6:return t===null&&oc(e),null;case 13:return Ag(t,e,n);case 4:return Eh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_r(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),xp(t,e,r,o,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,me(ma,r._currentValue),r._currentValue=u,a!==null)if(Gt(a.value,u)){if(a.children===o.children&&!ft.current){e=wn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=mn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),sc(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(A(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),sc(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}rt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,lr(e,n),o=Mt(o),r=r(o),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,o=Bt(r,e.pendingProps),o=Bt(r.type,o),Tp(t,e,r,o,n);case 15:return Ng(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bt(r,o),Ys(t,e),e.tag=1,pt(r)?(t=!0,da(e)):t=!1,lr(e,n),kg(e,r,o),lc(e,r,o,n),hc(null,e,r,!0,t,n);case 19:return bg(t,e,n);case 22:return Rg(t,e,n)}throw Error(A(156,e.tag))};function Qg(t,e){return x_(t,e)}function K1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new K1(t,e,n,r)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y1(t){if(typeof t=="function")return Bh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ih)return 11;if(t===rh)return 14}return 2}function Zn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xs(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")Bh(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Vi:return vi(n.children,o,a,e);case nh:u=8,o|=8;break;case Mu:return t=It(12,n,e,o|2),t.elementType=Mu,t.lanes=a,t;case Ou:return t=It(13,n,e,o),t.elementType=Ou,t.lanes=a,t;case Au:return t=It(19,n,e,o),t.elementType=Au,t.lanes=a,t;case a_:return Qa(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o_:u=10;break e;case s_:u=9;break e;case ih:u=11;break e;case rh:u=14;break e;case Nn:u=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=It(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function vi(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Qa(t,e,n,r){return t=It(22,t,r,e),t.elementType=a_,t.lanes=n,t.stateNode={isHidden:!1},t}function gu(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function vu(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q1(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fh(t,e,n,r,o,a,u,h,d){return t=new q1(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=It(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(a),t}function Q1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xg(t){if(!t)return qn;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(pt(n))return X_(t,n,e)}return e}function Jg(t,e,n,r,o,a,u,h,d){return t=Fh(n,r,!0,t,o,a,u,h,d),t.context=Xg(null),n=t.current,r=ot(),o=Hn(n),a=mn(r,o),a.callback=e??null,Un(n,a,o),t.current.lanes=o,Go(t,o,r),mt(t,r),t}function Xa(t,e,n,r){var o=e.current,a=ot(),u=Hn(o);return n=Xg(n),e.context===null?e.context=n:e.pendingContext=n,e=mn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Un(o,e,u),t!==null&&(Zt(t,o,u,a),$s(t,o,u)),u}function Ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jh(t,e){zp(t,e),(t=t.alternate)&&zp(t,e)}function X1(){return null}var ev=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uh(t){this._internalRoot=t}Ja.prototype.render=Uh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Xa(t,e,null,null)};Ja.prototype.unmount=Uh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){Xa(null,t,null,null)}),e[vn]=null}};function Ja(t){this._internalRoot=t}Ja.prototype.unstable_scheduleHydration=function(t){if(t){var e=R_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&O_(t)}};function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function J1(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=Ta(u);a.call(p)}}var u=Jg(e,r,t,0,null,!1,!1,"",Bp);return t._reactRootContainer=u,t[vn]=u.current,No(t.nodeType===8?t.parentNode:t),Ei(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=Ta(d);h.call(p)}}var d=Fh(t,0,!1,null,null,!1,!1,"",Bp);return t._reactRootContainer=d,t[vn]=d.current,No(t.nodeType===8?t.parentNode:t),Ei(function(){Xa(e,d,n,r)}),d}function tl(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Ta(u);h.call(d)}}Xa(e,u,t,o)}else u=J1(n,e,t,o,r);return Ta(u)}I_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=so(e.pendingLanes);n!==0&&(ah(e,n|1),mt(e,Ie()),!(oe&6)&&(yr=Ie()+500,ei()))}break;case 13:Ei(function(){var r=yn(t,1);if(r!==null){var o=ot();Zt(r,t,1,o)}}),jh(t,1)}};lh=function(t){if(t.tag===13){var e=yn(t,134217728);if(e!==null){var n=ot();Zt(e,t,134217728,n)}jh(t,134217728)}};N_=function(t){if(t.tag===13){var e=Hn(t),n=yn(t,e);if(n!==null){var r=ot();Zt(n,t,e,r)}jh(t,e)}};R_=function(){return ue};M_=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Zu=function(t,e,n){switch(e){case"input":if(zu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Va(r);if(!o)throw Error(A(90));u_(r),zu(r,o)}}}break;case"textarea":h_(t,n);break;case"select":e=n.value,e!=null&&rr(t,!!n.multiple,e,!1)}};v_=bh;y_=Ei;var eC={usingClientEntryPoint:!1,Events:[Yo,Yi,Va,__,g_,bh]},Jr={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tC={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C_(t),t===null?null:t.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||X1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Ua=Bs.inject(tC),nn=Bs}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(e))throw Error(A(200));return Q1(t,e,null,n)};St.createRoot=function(t,e){if(!Wh(t))throw Error(A(299));var n=!1,r="",o=ev;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Fh(t,1,!1,null,null,n,!1,r,o),t[vn]=e.current,No(t.nodeType===8?t.parentNode:t),new Uh(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=C_(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Ei(t)};St.hydrate=function(t,e,n){if(!el(e))throw Error(A(200));return tl(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Wh(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=ev;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Jg(e,null,t,1,n??null,o,!1,a,u),t[vn]=e.current,No(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ja(e)};St.render=function(t,e,n){if(!el(e))throw Error(A(200));return tl(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!el(t))throw Error(A(40));return t._reactRootContainer?(Ei(function(){tl(null,null,t,!1,function(){t._reactRootContainer=null,t[vn]=null})}),!0):!1};St.unstable_batchedUpdates=bh;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!el(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return tl(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tv)}catch(t){console.error(t)}}tv(),t_.exports=St;var nC=t_.exports,nv,Fp=nC;nv=Fp.createRoot,Fp.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(this,arguments)}var Dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dn||(Dn={}));const jp="popstate";function iC(t){t===void 0&&(t={});function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return Ec("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Pa(o)}return oC(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rC(){return Math.random().toString(36).substr(2,8)}function Up(t,e){return{usr:t.state,key:t.key,idx:e}}function Ec(t,e,n,r){return n===void 0&&(n=null),Fo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pr(e):e,{state:n,key:e&&e.key||r||rC()})}function Pa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h=Dn.Pop,d=null,p=g();p==null&&(p=0,u.replaceState(Fo({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function _(){h=Dn.Pop;let b=g(),S=b==null?null:b-p;p=b,d&&d({action:h,location:k.location,delta:S})}function v(b,S){h=Dn.Push;let y=Ec(k.location,b,S);p=g()+1;let C=Up(y,p),N=k.createHref(y);try{u.pushState(C,"",N)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(N)}a&&d&&d({action:h,location:k.location,delta:1})}function x(b,S){h=Dn.Replace;let y=Ec(k.location,b,S);p=g();let C=Up(y,p),N=k.createHref(y);u.replaceState(C,"",N),a&&d&&d({action:h,location:k.location,delta:0})}function T(b){let S=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof b=="string"?b:Pa(b);return y=y.replace(/ $/,"%20"),Oe(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let k={get action(){return h},get location(){return t(o,u)},listen(b){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(jp,_),d=b,()=>{o.removeEventListener(jp,_),d=null}},createHref(b){return e(o,b)},createURL:T,encodeLocation(b){let S=T(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:x,go(b){return u.go(b)}};return k}var Wp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wp||(Wp={}));function sC(t,e,n){return n===void 0&&(n="/"),aC(t,e,n,!1)}function aC(t,e,n,r){let o=typeof e=="string"?Pr(e):e,a=Hh(o.pathname||"/",n);if(a==null)return null;let u=rv(t);lC(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=yC(a);h=gC(u[d],p,r)}return h}function rv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,u,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Oe(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let p=Vn([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(Oe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),rv(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:mC(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let d of ov(a.path))o(a,u,d)}),e}function ov(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=ov(r.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function lC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_C(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uC=/^:[\w-]+$/,cC=3,hC=2,dC=1,fC=10,pC=-2,Hp=t=>t==="*";function mC(t,e){let n=t.split("/"),r=n.length;return n.some(Hp)&&(r+=pC),e&&(r+=hC),n.filter(o=>!Hp(o)).reduce((o,a)=>o+(uC.test(a)?cC:a===""?dC:fC),r)}function _C(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function gC(t,e,n){let{routesMeta:r}=t,o={},a="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Zp({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Zp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:Vn([a,_.pathname]),pathnameBase:EC(Vn([a,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(a=Vn([a,_.pathnameBase]))}return u}function Zp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:v,isOptional:x}=g;if(v==="*"){let k=h[_]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const T=h[_];return x&&!T?p[v]=void 0:p[v]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function vC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function yC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Pr(t):t;return{pathname:n?n.startsWith("/")?n:SC(n,e):e,search:xC(r),hash:TC(o)}}function SC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function yu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sv(t,e){let n=CC(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function av(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Pr(t):(o=Fo({},t),Oe(!o.pathname||!o.pathname.includes("?"),yu("?","pathname","search",o)),Oe(!o.pathname||!o.pathname.includes("#"),yu("#","pathname","hash",o)),Oe(!o.search||!o.search.includes("#"),yu("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;o.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=wC(o,h),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const Vn=t=>t.join("/").replace(/\/\/+/g,"/"),EC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lv=["post","put","patch","delete"];new Set(lv);const kC=["get",...lv];new Set(kC);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(this,arguments)}const Zh=O.createContext(null),LC=O.createContext(null),Ii=O.createContext(null),nl=O.createContext(null),Ni=O.createContext({outlet:null,matches:[],isDataRoute:!1}),uv=O.createContext(null);function IC(t,e){let{relative:n}=e===void 0?{}:e;Qo()||Oe(!1);let{basename:r,navigator:o}=O.useContext(Ii),{hash:a,pathname:u,search:h}=dv(t,{relative:n}),d=u;return r!=="/"&&(d=u==="/"?r:Vn([r,u])),o.createHref({pathname:d,search:h,hash:a})}function Qo(){return O.useContext(nl)!=null}function il(){return Qo()||Oe(!1),O.useContext(nl).location}function cv(t){O.useContext(Ii).static||O.useLayoutEffect(t)}function hv(){let{isDataRoute:t}=O.useContext(Ni);return t?WC():NC()}function NC(){Qo()||Oe(!1);let t=O.useContext(Zh),{basename:e,future:n,navigator:r}=O.useContext(Ii),{matches:o}=O.useContext(Ni),{pathname:a}=il(),u=JSON.stringify(sv(o,n.v7_relativeSplatPath)),h=O.useRef(!1);return cv(()=>{h.current=!0}),O.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let _=av(p,JSON.parse(u),a,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Vn([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,u,a,t])}function dv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Ii),{matches:o}=O.useContext(Ni),{pathname:a}=il(),u=JSON.stringify(sv(o,r.v7_relativeSplatPath));return O.useMemo(()=>av(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function RC(t,e){return MC(t,e)}function MC(t,e,n,r){Qo()||Oe(!1);let{navigator:o}=O.useContext(Ii),{matches:a}=O.useContext(Ni),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let p=il(),g;if(e){var _;let b=typeof e=="string"?Pr(e):e;d==="/"||(_=b.pathname)!=null&&_.startsWith(d)||Oe(!1),g=b}else g=p;let v=g.pathname||"/",x=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=sC(t,{pathname:x}),k=zC(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},h,b.params),pathname:Vn([d,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Vn([d,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&k?O.createElement(nl.Provider,{value:{location:jo({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Dn.Pop}},k):k}function OC(){let t=UC(),e=PC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,null)}const AC=O.createElement(OC,null);class bC extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Ni.Provider,{value:this.props.routeContext},O.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DC(t){let{routeContext:e,match:n,children:r}=t,o=O.useContext(Zh);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Ni.Provider,{value:e},r)}function zC(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(o=n)==null?void 0:o.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);g>=0||Oe(!1),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:v,errors:x}=n,T=_.route.loader&&v[_.route.id]===void 0&&(!x||x[_.route.id]===void 0);if(_.route.lazy||T){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,v)=>{let x,T=!1,k=null,b=null;n&&(x=h&&_.route.id?h[_.route.id]:void 0,k=_.route.errorElement||AC,d&&(p<0&&v===0?(T=!0,b=null):p===v&&(T=!0,b=_.route.hydrateFallbackElement||null)));let S=e.concat(u.slice(0,v+1)),y=()=>{let C;return x?C=k:T?C=b:_.route.Component?C=O.createElement(_.route.Component,null):_.route.element?C=_.route.element:C=g,O.createElement(DC,{match:_,routeContext:{outlet:g,matches:S,isDataRoute:n!=null},children:C})};return n&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?O.createElement(bC,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var fv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fv||{}),ka=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ka||{});function BC(t){let e=O.useContext(Zh);return e||Oe(!1),e}function FC(t){let e=O.useContext(LC);return e||Oe(!1),e}function jC(t){let e=O.useContext(Ni);return e||Oe(!1),e}function pv(t){let e=jC(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function UC(){var t;let e=O.useContext(uv),n=FC(ka.UseRouteError),r=pv(ka.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function WC(){let{router:t}=BC(fv.UseNavigateStable),e=pv(ka.UseNavigateStable),n=O.useRef(!1);return cv(()=>{n.current=!0}),O.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,jo({fromRouteId:e},a)))},[t,e])}function Js(t){Oe(!1)}function HC(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Dn.Pop,navigator:a,static:u=!1,future:h}=t;Qo()&&Oe(!1);let d=e.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:d,navigator:a,static:u,future:jo({v7_relativeSplatPath:!1},h)}),[d,h,a,u]);typeof r=="string"&&(r=Pr(r));let{pathname:g="/",search:_="",hash:v="",state:x=null,key:T="default"}=r,k=O.useMemo(()=>{let b=Hh(g,d);return b==null?null:{location:{pathname:b,search:_,hash:v,state:x,key:T},navigationType:o}},[d,g,_,v,x,T,o]);return k==null?null:O.createElement(Ii.Provider,{value:p},O.createElement(nl.Provider,{children:n,value:k}))}function ZC(t){let{children:e,location:n}=t;return RC(xc(e),n)}new Promise(()=>{});function xc(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,o)=>{if(!O.isValidElement(r))return;let a=[...e,o];if(r.type===O.Fragment){n.push.apply(n,xc(r.props.children,a));return}r.type!==Js&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=xc(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}function VC(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,a;for(a=0;a<r.length;a++)o=r[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function $C(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GC(t,e){return t.button===0&&(!e||e==="_self")&&!$C(t)}const KC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YC="6";try{window.__reactRouterVersion=YC}catch{}const qC="startTransition",Vp=Vw[qC];function QC(t){let{basename:e,children:n,future:r,window:o}=t,a=O.useRef();a.current==null&&(a.current=iC({window:o,v5Compat:!0}));let u=a.current,[h,d]=O.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},g=O.useCallback(_=>{p&&Vp?Vp(()=>d(_)):d(_)},[d,p]);return O.useLayoutEffect(()=>u.listen(g),[u,g]),O.createElement(HC,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const XC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pi=O.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:a,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:_}=e,v=VC(e,KC),{basename:x}=O.useContext(Ii),T,k=!1;if(typeof p=="string"&&JC.test(p)&&(T=p,XC))try{let C=new URL(window.location.href),N=p.startsWith("//")?new URL(C.protocol+p):new URL(p),B=Hh(N.pathname,x);N.origin===C.origin&&B!=null?p=B+N.search+N.hash:k=!0}catch{}let b=IC(p,{relative:o}),S=eE(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:_});function y(C){r&&r(C),C.defaultPrevented||S(C)}return O.createElement("a",Tc({},v,{href:T||b,onClick:k||a?r:y,ref:n,target:d}))});var $p;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($p||($p={}));var Gp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gp||(Gp={}));function eE(t,e){let{target:n,replace:r,state:o,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,d=hv(),p=il(),g=dv(t,{relative:u});return O.useCallback(_=>{if(GC(_,n)){_.preventDefault();let v=r!==void 0?r:Pa(p)===Pa(g);d(t,{replace:v,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[p,d,g,r,o,n,t,a,u,h])}function tE(){const[t,e]=O.useState(!1),n=O.useRef(null),r=O.useRef(null),o=()=>{e(!t)},a=u=>{n.current&&!n.current.contains(u.target)&&r.current&&!r.current.contains(u.target)&&e(!1)};return O.useEffect(()=>(t?document.addEventListener("click",a):document.removeEventListener("click",a),()=>{document.removeEventListener("click",a)}),[t]),I.jsx("header",{className:"navbar",children:I.jsxs("div",{className:"navbarContent",children:[I.jsx("div",{children:I.jsx(pi,{to:"/",onClick:()=>e(!1),className:"logo",children:"RACCOON RECON"})}),I.jsx("button",{ref:r,className:"hamburgerToggle",onClick:o,children:I.jsx("img",{src:"hamburger-menu.svg",alt:"Menu"})}),I.jsxs("nav",{ref:n,className:`mainNav ${t?"open":""}`,children:[I.jsx(pi,{to:"/",onClick:()=>e(!1),children:"Home"}),I.jsx(pi,{to:"/submissions",onClick:()=>e(!1),children:"Submit"}),I.jsx(pi,{to:"/dashboard",onClick:()=>e(!1),children:"Dashboard"})]})]})})}function nE(){return I.jsx("footer",{className:"footer",children:I.jsx("div",{className:"footerContent",children:I.jsxs("div",{children:[I.jsx("div",{className:"logos",children:I.jsx("a",{"aria-label":"github",href:"https://www.github.com/krakenattacken",target:"_blank",rel:"noopener noreferrer",children:I.jsx("img",{src:"github.svg",alt:"Github logo"})})}),I.jsx("p",{children:"© Raccoon Recon 2024"})]})})})}function iE(){return I.jsxs("div",{className:"home",children:[I.jsxs("section",{className:"hero",children:[I.jsxs("div",{children:[I.jsx("h1",{children:"Toronto has a lot of raccoons."}),I.jsx("p",{children:"help find them!"})]}),I.jsxs("div",{className:"buttonGroup",children:[I.jsx(pi,{to:"/submissions",children:I.jsx("button",{type:"button",children:"REPORT A SIGHTING"})}),I.jsx(pi,{to:"/dashboard",children:I.jsx("button",{type:"button",children:"VIEW THE DASHBOARD"})})]}),I.jsx("img",{className:"heroImage",src:"images/landing_hero.png"})]}),I.jsx("section",{className:"sectionContainer about bg-green-300",children:I.jsxs("div",{className:"wrapper",children:[I.jsx("h2",{className:"sectionTitle",children:"About Raccoon Recon"}),I.jsx("p",{children:"Once upon a time, raccoons were rare enough in Toronto that a sighting warranted a news article. But now, they're everywhere. And despite some... valiant efforts by the city, they've won the war and will continue causing chaos. Forever."}),I.jsx("p",{children:"Raccoon Recon is a simple web app that lets people report raccoon sightings and builds a spatio-temporal record of where these furry fellows have been."})]})}),I.jsx("section",{className:"sectionContainer bg-green-200",children:I.jsxs("div",{className:"wrapper",children:[I.jsx("h2",{className:"sectionTitle",children:"Raccoon Behaviour (and protecting yourself)"}),I.jsxs("p",{children:["Though urban raccoons do not usually approach humans and are relatively tame, with all wild animals it's best to exercise caution. Don't feed the raccoons, please. The following information comes from the ",I.jsx("a",{href:"https://www.toronto.ca/community-people/animals-pets/wildlife-in-the-city/raccoons/",target:"_blank",rel:"noopener noreferrer",children:" City of Toronto's page on raccoons."})]}),I.jsx("h3",{children:"Normal Behaviour"}),I.jsxs("ul",{children:[I.jsx("li",{children:"Nocturnal. You may see raccoons in the daytime during breeding season (January to mid-March) or if they have been scared out of a hiding spot."}),I.jsx("li",{children:"Docile unless provoked. Raccoons would rather run away. Do not corner them."})]}),I.jsx("h3",{children:"Rabies"}),I.jsxs("ul",{children:[I.jsx("li",{children:"Rabies is a viral infection of the central nervous system that can affect all mammals. It is fatal once clinical signs appear."}),I.jsx("li",{children:"Clinical signs may include restlessness, anorexia, difficulty swallowing, vomiting, or diarrhea"}),I.jsx("li",{children:"After clinical signs appear, infected creatures may have problems with balance, aggression, salivating poor coordination, and self-mutilation."})]}),I.jsx("h3",{children:"Canine Distemper (CDV)"}),I.jsxs("ul",{children:[I.jsx("li",{children:"Canine distemper is a virus that is present in the raccoon population at low levels. As the name suggests, dogs can also contract the virus if they are not vaccinated. Humans cannot be infected."}),I.jsx("li",{children:"Raccoons with distemper may approach people, or curl up to sleep in open areas in close proximity to people. They generally act disoriented or lethargic, but can become aggressive if cornered. They may have seizures. Symptoms of CDV appear similar to rabies. Exercise caution."})]}),I.jsx("p",{children:"Please seek immediate medical attention if you are bitten or scratched by a raccoon (or any wild animal)."})]})}),I.jsx("section",{className:"sectionContainer issue bg-green-100",children:I.jsxs("div",{className:"wrapper",children:[I.jsx("h2",{className:"sectionTitle",children:"Got an issue?"}),I.jsxs("p",{children:["If it's a bug, report it on the ",I.jsx("a",{href:"https://www.github.com/krakenattacken/raccoon-recon/issues",target:"_blank",rel:"noopener noreferrer",children:"Github page"}),"."]}),I.jsx("p",{children:"If it's related to a real raccoon, please call 311 (or your local non-emergency service that handles wild animals) "}),I.jsx("ul",{children:I.jsxs("li",{children:[I.jsx("a",{href:"https://www.toronto.ca/home/311-toronto-at-your-service/submit-a-service-request-or-feedback/",target:"_blank",rel:"noopener noreferrer",children:"Toronto 311 service requests"}),"."]})})]})})]})}function rE(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const oE=1;function sE(t){return Object.freeze({__version:oE,map:t})}function aE(t,e){return Object.freeze({...t,...e})}const mv=O.createContext(null),_v=mv.Provider;function gv(){const t=O.useContext(mv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function lE(t){function e(n,r){const{instance:o,context:a}=t(n).current;return O.useImperativeHandle(r,()=>o),n.children==null?null:ta.createElement(_v,{value:a},n.children)}return O.forwardRef(e)}function uE(t){function e(n,r){const{instance:o}=t(n).current;return O.useImperativeHandle(r,()=>o),null}return O.forwardRef(e)}function cE(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function vv(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var Pc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Lw,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,m,w;return w=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(w,s),c=!0)},m}function g(i,s,l){var c=s[1],f=s[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function _(){return!1}function v(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function T(i){return x(i).split(/\s+/)}function k(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function b(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var C=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function N(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var W=0;function H(i){var s=+new Date,l=Math.max(0,16-(s-W));return W=s+l,window.setTimeout(i,l)}var _e=window.requestAnimationFrame||U("RequestAnimationFrame")||H,Q=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function de(i,s,l){if(l&&_e===H)i.call(s);else return _e.call(window,u(i,s))}function Be(i){i&&Q.call(window,i)}var ti={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:x,splitWords:T,setOptions:k,getParamString:b,template:y,isArray:C,indexOf:N,emptyImageUrl:B,requestFn:_e,cancelFn:Q,requestAnimFrame:de,cancelAnimFrame:Be};function Et(){}Et.extend=function(i){var s=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(dl(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,w=c._initHooks.length;m<w;m++)c._initHooks[m].call(this)}},s},Et.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},Et.mergeOptions=function(i){return o(this.prototype.options,i),this},Et.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function dl(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=C(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ze={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=T(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=T(i);for(var f=arguments.length===1,m=0,w=i.length;m<w;m++)f?this._off(i[m]):this._off(i[m],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=_;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var w=this._listens(i,s,l);if(w!==!1){var E=c[w];this._firingCount&&(E.fn=_,this._events[i]=c=c.slice()),c.splice(w,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,w=f.length;m<w;m++){var E=f[m],P=E.fn;E.once&&this.off(i,P,E.ctx),P.call(E.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var w in this._eventParents)if(this._eventParents[w].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=T(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Ze.addEventListener=Ze.on,Ze.removeEventListener=Ze.clearAllEventListeners=Ze.off,Ze.addOneTimeEventListener=Ze.once,Ze.fireEvent=Ze.fire,Ze.hasEventListeners=Ze.listens;var on=Et.extend(Ze);function R(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var G=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(i){return this.clone()._add(D(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(D(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new R(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new R(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(i){i=D(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=D(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=D(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function D(i,s,l){return i instanceof R?i:C(i)?new R(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new R(i.x,i.y):new R(i,s,l)}function $(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}$.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof R||typeof i[0]=="number"||"x"in i)s=l=D(i);else if(i=re(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof R?i=D(i):i=re(i),i instanceof $?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=re(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=s.x&&c.x<=l.x,w=f.y>=s.y&&c.y<=l.y;return m&&w},overlaps:function(i){i=re(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>s.x&&c.x<l.x,w=f.y>s.y&&c.y<l.y;return m&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return re(D(s.x-c,s.y-f),D(l.x+c,l.y+f))},equals:function(i){return i?(i=re(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function re(i,s){return!i||i instanceof $?i:new $(i,s)}function Ae(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ae.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof se)c=i,f=i;else if(i instanceof Ae){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(K(i)||ce(i)):this;return!s&&!l?(this._southWest=new se(c.lat,c.lng),this._northEast=new se(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new Ae(new se(s.lat-c,s.lng-f),new se(l.lat+c,l.lng+f))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof se||"lat"in i?i=K(i):i=ce(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof Ae?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=ce(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=s.lat&&c.lat<=l.lat,w=f.lng>=s.lng&&c.lng<=l.lng;return m&&w},overlaps:function(i){i=ce(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>s.lat&&c.lat<l.lat,w=f.lng>s.lng&&c.lng<l.lng;return m&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=ce(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(i,s){return i instanceof Ae?i:new Ae(i,s)}function se(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}se.prototype={equals:function(i,s){if(!i)return!1;i=K(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return Pn.distance(this,K(i))},wrap:function(){return Pn.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ce([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function K(i,s,l){return i instanceof se?i:C(i)&&typeof i[0]!="object"?i.length===3?new se(i[0],i[1],i[2]):i.length===2?new se(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new se(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new se(i,s,l)}var lt={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new $(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new se(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),w=i.getNorthEast(),E=new se(m.lat-c,m.lng-f),P=new se(w.lat-c,w.lng-f);return new Ae(E,P)}},Pn=o({},lt,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,m=Math.sin((s.lat-i.lat)*l/2),w=Math.sin((s.lng-i.lng)*l/2),E=m*m+Math.cos(c)*Math.cos(f)*w*w,P=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*P}}),wd=6378137,fl={R:wd,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new R(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new se((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=wd*Math.PI;return new $([-i,-i],[i,i])}()};function pl(i,s,l,c){if(C(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}pl.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new R((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function Mr(i,s,l,c){return new pl(i,s,l,c)}var ml=o({},Pn,{code:"EPSG:3857",projection:fl,transformation:function(){var i=.5/(Math.PI*fl.R);return Mr(i,.5,-i,.5)}()}),i0=o({},ml,{code:"EPSG:900913"});function Sd(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Cd(i,s){var l="",c,f,m,w,E,P;for(c=0,m=i.length;c<m;c++){for(E=i[c],f=0,w=E.length;f<w;f++)P=E[f],l+=(f?"L":"M")+P.x+" "+P.y;l+=s?Z.svg?"z":"x":""}return l||"M0 0"}var _l=document.documentElement.style,is="ActiveXObject"in window,r0=is&&!document.addEventListener,Ed="msLaunchUri"in navigator&&!("documentMode"in document),gl=Kt("webkit"),xd=Kt("android"),Td=Kt("android 2")||Kt("android 3"),o0=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),s0=xd&&Kt("Google")&&o0<537&&!("AudioNode"in window),vl=!!window.opera,Pd=!Ed&&Kt("chrome"),kd=Kt("gecko")&&!gl&&!vl&&!is,a0=!Pd&&Kt("safari"),Ld=Kt("phantom"),Id="OTransition"in _l,l0=navigator.platform.indexOf("Win")===0,Nd=is&&"transition"in _l,yl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Td,Rd="MozPerspective"in _l,u0=!window.L_DISABLE_3D&&(Nd||yl||Rd)&&!Id&&!Ld,Or=typeof orientation<"u"||Kt("mobile"),c0=Or&&gl,h0=Or&&yl,Md=!window.PointerEvent&&window.MSPointerEvent,Od=!!(window.PointerEvent||Md),Ad="ontouchstart"in window||!!window.TouchEvent,d0=!window.L_NO_TOUCH&&(Ad||Od),f0=Or&&vl,p0=Or&&kd,m0=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_0=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return i}(),g0=function(){return!!document.createElement("canvas").getContext}(),wl=!!(document.createElementNS&&Sd("svg").createSVGRect),v0=!!wl&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),y0=!wl&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),w0=navigator.platform.indexOf("Mac")===0,S0=navigator.platform.indexOf("Linux")===0;function Kt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Z={ie:is,ielt9:r0,edge:Ed,webkit:gl,android:xd,android23:Td,androidStock:s0,opera:vl,chrome:Pd,gecko:kd,safari:a0,phantom:Ld,opera12:Id,win:l0,ie3d:Nd,webkit3d:yl,gecko3d:Rd,any3d:u0,mobile:Or,mobileWebkit:c0,mobileWebkit3d:h0,msPointer:Md,pointer:Od,touch:d0,touchNative:Ad,mobileOpera:f0,mobileGecko:p0,retina:m0,passiveEvents:_0,canvas:g0,svg:wl,vml:y0,inlineSvg:v0,mac:w0,linux:S0},bd=Z.msPointer?"MSPointerDown":"pointerdown",Dd=Z.msPointer?"MSPointerMove":"pointermove",zd=Z.msPointer?"MSPointerUp":"pointerup",Bd=Z.msPointer?"MSPointerCancel":"pointercancel",Sl={touchstart:bd,touchmove:Dd,touchend:zd,touchcancel:Bd},Fd={touchstart:k0,touchmove:rs,touchend:rs,touchcancel:rs},Oi={},jd=!1;function C0(i,s,l){return s==="touchstart"&&P0(),Fd[s]?(l=Fd[s].bind(this,l),i.addEventListener(Sl[s],l,!1),l):(console.warn("wrong event specified:",s),_)}function E0(i,s,l){if(!Sl[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Sl[s],l,!1)}function x0(i){Oi[i.pointerId]=i}function T0(i){Oi[i.pointerId]&&(Oi[i.pointerId]=i)}function Ud(i){delete Oi[i.pointerId]}function P0(){jd||(document.addEventListener(bd,x0,!0),document.addEventListener(Dd,T0,!0),document.addEventListener(zd,Ud,!0),document.addEventListener(Bd,Ud,!0),jd=!0)}function rs(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in Oi)s.touches.push(Oi[l]);s.changedTouches=[s],i(s)}}function k0(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ve(s),rs(i,s)}function L0(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var I0=200;function N0(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var w=$d(m);if(!(w.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!w.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var E=Date.now();E-l<=I0?(c++,c===2&&s(L0(m))):c=1,l=E}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function R0(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var Cl=as(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ar=as(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wd=Ar==="webkitTransition"||Ar==="OTransition"?Ar+"End":"transitionend";function Hd(i){return typeof i=="string"?document.getElementById(i):i}function br(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function ae(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function Ee(i){var s=i.parentNode;s&&s.removeChild(i)}function os(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ai(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function bi(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function El(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=ss(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function q(i,s){if(i.classList!==void 0)for(var l=T(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!El(i,s)){var m=ss(i);xl(i,(m?m+" ":"")+s)}}function Le(i,s){i.classList!==void 0?i.classList.remove(s):xl(i,x((" "+ss(i)+" ").replace(" "+s+" "," ")))}function xl(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function ss(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function xt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&M0(i,s)}function M0(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function as(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function ni(i,s,l){var c=s||new R(0,0);i.style[Cl]=(Z.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Ne(i,s){i._leaflet_pos=s,Z.any3d?ni(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function ii(i){return i._leaflet_pos||new R(0,0)}var Dr,zr,Tl;if("onselectstart"in document)Dr=function(){Y(window,"selectstart",Ve)},zr=function(){fe(window,"selectstart",Ve)};else{var Br=as(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dr=function(){if(Br){var i=document.documentElement.style;Tl=i[Br],i[Br]="none"}},zr=function(){Br&&(document.documentElement.style[Br]=Tl,Tl=void 0)}}function Pl(){Y(window,"dragstart",Ve)}function kl(){fe(window,"dragstart",Ve)}var ls,Ll;function Il(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(us(),ls=i,Ll=i.style.outlineStyle,i.style.outlineStyle="none",Y(window,"keydown",us))}function us(){ls&&(ls.style.outlineStyle=Ll,ls=void 0,Ll=void 0,fe(window,"keydown",us))}function Zd(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Nl(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var O0={__proto__:null,TRANSFORM:Cl,TRANSITION:Ar,TRANSITION_END:Wd,get:Hd,getStyle:br,create:ae,remove:Ee,empty:os,toFront:Ai,toBack:bi,hasClass:El,addClass:q,removeClass:Le,setClass:xl,getClass:ss,setOpacity:xt,testProp:as,setTransform:ni,setPosition:Ne,getPosition:ii,get disableTextSelection(){return Dr},get enableTextSelection(){return zr},disableImageDrag:Pl,enableImageDrag:kl,preventOutline:Il,restoreOutline:us,getSizedParentNode:Zd,getScale:Nl};function Y(i,s,l,c){if(s&&typeof s=="object")for(var f in s)Ml(i,f,s[f],l);else{s=T(s);for(var m=0,w=s.length;m<w;m++)Ml(i,s[m],l,c)}return this}var Yt="_leaflet_events";function fe(i,s,l,c){if(arguments.length===1)Vd(i),delete i[Yt];else if(s&&typeof s=="object")for(var f in s)Ol(i,f,s[f],l);else if(s=T(s),arguments.length===2)Vd(i,function(E){return N(s,E)!==-1});else for(var m=0,w=s.length;m<w;m++)Ol(i,s[m],l,c);return this}function Vd(i,s){for(var l in i[Yt]){var c=l.split(/\d/)[0];(!s||s(c))&&Ol(i,c,null,null,l)}}var Rl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ml(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[Yt]&&i[Yt][f])return this;var m=function(E){return l.call(c||i,E||window.event)},w=m;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?m=C0(i,s,m):Z.touch&&s==="dblclick"?m=N0(i,m):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Rl[s]||s,m,Z.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(E){E=E||window.event,bl(i,E)&&w(E)},i.addEventListener(Rl[s],m,!1)):i.addEventListener(s,w,!1):i.attachEvent("on"+s,m),i[Yt]=i[Yt]||{},i[Yt][f]=m}function Ol(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var m=i[Yt]&&i[Yt][f];if(!m)return this;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?E0(i,s,m):Z.touch&&s==="dblclick"?R0(i,m):"removeEventListener"in i?i.removeEventListener(Rl[s]||s,m,!1):i.detachEvent("on"+s,m),i[Yt][f]=null}function ri(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Al(i){return Ml(i,"wheel",ri),this}function Fr(i){return Y(i,"mousedown touchstart dblclick contextmenu",ri),i._leaflet_disable_click=!0,this}function Ve(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function oi(i){return Ve(i),ri(i),this}function $d(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function Gd(i,s){if(!s)return new R(i.clientX,i.clientY);var l=Nl(s),c=l.boundingClientRect;return new R((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var A0=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kd(i){return Z.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/A0:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function bl(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var b0={__proto__:null,on:Y,off:fe,stopPropagation:ri,disableScrollPropagation:Al,disableClickPropagation:Fr,preventDefault:Ve,stop:oi,getPropagationPath:$d,getMousePosition:Gd,getWheelDelta:Kd,isExternalTarget:bl,addListener:Y,removeListener:fe},Yd=on.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ii(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=de(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),Ne(this._el,l),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ne=on.extend({options:{crs:ml,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=k(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(K(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ar&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,Wd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(K(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),m=i instanceof R?i:this.latLngToContainerPoint(i),w=m.subtract(f).multiplyBy(1-1/c),E=this.containerPointToLatLng(f.add(w));return this.setView(E,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():ce(i);var l=D(s.paddingTopLeft||s.padding||[0,0]),c=D(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),w=this.project(i.getSouthWest(),f),E=this.project(i.getNorthEast(),f),P=this.unproject(w.add(E).divideBy(2).add(m),f);return{center:P,zoom:f}},fitBounds:function(i,s){if(i=ce(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=D(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){q(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!Z.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),w=this._zoom;i=K(i),s=s===void 0?w:s;var E=Math.max(m.x,m.y),P=E*this.getZoomScale(w,s),M=f.distanceTo(c)||1,F=1.42,V=F*F;function X(Re){var Ss=Re?-1:1,Ew=Re?P:E,xw=P*P-E*E+Ss*V*V*M*M,Tw=2*Ew*V*M,$l=xw/Tw,Nf=Math.sqrt($l*$l+1)-$l,Pw=Nf<1e-9?-18:Math.log(Nf);return Pw}function it(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function Fe(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function Pt(Re){return it(Re)/Fe(Re)}var ut=X(0);function Ui(Re){return E*(Fe(ut)/Fe(ut+F*Re))}function yw(Re){return E*(Fe(ut)*Pt(ut+F*Re)-it(ut))/V}function ww(Re){return 1-Math.pow(1-Re,1.5)}var Sw=Date.now(),Lf=(X(1)-ut)/F,Cw=l.duration?1e3*l.duration:1e3*Lf*.8;function If(){var Re=(Date.now()-Sw)/Cw,Ss=ww(Re)*Lf;Re<=1?(this._flyToFrame=de(If,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(yw(Ss)/M)),w),this.getScaleZoom(E/Ui(Ss),w),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),If.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=ce(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ce(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=D(s.paddingTopLeft||s.padding||[0,0]),c=D(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),w=this.getPixelBounds(),E=re([w.min.add(l),w.max.subtract(c)]),P=E.getSize();if(!E.contains(m)){this._enforcingBounds=!0;var M=m.subtract(E.getCenter()),F=E.extend(m).getSize().subtract(P);f.x+=M.x<0?-F.x:F.x,f.y+=M.y<0?-F.y:F.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new se(s,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var w=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(w,m.maxZoom):w)}var E={latlng:c,bounds:f,timestamp:i.timestamp};for(var P in i.coords)typeof i.coords[P]=="number"&&(E[P]=i.coords[P]);this.fire("locationfound",E)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ee(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=ae("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Ae(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=ce(i),l=D(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),w=i.getNorthWest(),E=i.getSouthEast(),P=this.getSize().subtract(l),M=re(this.project(E,c),this.project(w,c)).getSize(),F=Z.any3d?this.options.zoomSnap:1,V=P.x/M.x,X=P.y/M.y,it=s?Math.max(V,X):Math.min(V,X);return c=this.getScaleZoom(it,c),F&&(c=Math.round(c/(F/100))*(F/100),c=s?Math.ceil(c/F)*F:Math.floor(c/F)*F),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new $(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(K(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(D(i),s)},layerPointToLatLng:function(i){var s=D(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(K(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(K(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ce(i))},distance:function(i,s){return this.options.crs.distance(K(i),K(s))},containerPointToLayerPoint:function(i){return D(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return D(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(D(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(i)))},mouseEventToContainerPoint:function(i){return Gd(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=Hd(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,q(i,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=br(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ne(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(q(i.markerPane,"leaflet-zoom-hide"),q(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){Ne(this._mapPane,new R(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ne(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?fe:Y;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=de(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",m=i.target||i.srcElement,w=!1;m;){if(c=this._targets[d(m)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){w=!0;break}if(c&&c.listens(s,!0)&&(f&&!bl(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!w&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Il(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var m=[],w=0;w<l.length;w++)l[w].listens(s,!0)&&m.push(l[w]);f=m.concat(f)}if(f.length){s==="contextmenu"&&Ve(i);var E=f[0],P={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var M=E.getLatLng&&(!E._radius||E._radius<=10);P.containerPoint=M?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(i),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=M?E.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(w=0;w<f.length;w++)if(f[w].fire(s,P,!0),P.originalEvent._stopped||f[w].options.bubblingMouseEvents===!1&&N(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return ii(this._mapPane)||new R(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return re([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),m=new $(c.subtract(f),c.add(f)),w=this._getBoundsOffset(m,l,s);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?i:this.unproject(c.add(w),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new $(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=re(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),w=this._rebound(f.x,-m.x),E=this._rebound(f.y,-m.y);return new R(w,E)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=Z.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=Cl,c=this._proxy.style[l];ni(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();ni(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(de(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function D0(i,s){return new ne(i,s)}var bt=Et.extend({options:{position:"topright"},initialize:function(i){k(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return q(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),jr=function(i){return new bt(i)};ne.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=ae("div",s+"control-container",this._container);function c(f,m){var w=s+f+" "+s+m;i[f+m]=ae("div",w,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ee(this._controlCorners[i]);Ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qd=bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){k(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return bt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=ae("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Fr(s),Al(s);var c=this._section=ae("section",i+"-list");l&&(this._map.on("click",this.collapse,this),Y(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=ae("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),Y(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ve(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ae("div",i+"-base",c),this._separator=ae("div",i+"-separator",c),this._overlaysList=ae("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;os(this._baseLayersList),os(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),Y(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(c),m.appendChild(f);var w=i.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)s=i[m],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Y(i,"click",Ve),this.expand();var s=this;setTimeout(function(){fe(i,"click",Ve),s._preventClick=!1})}}),z0=function(i,s,l){return new qd(i,s,l)},Dl=bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=ae("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var m=ae("a",l,c);return m.innerHTML=i,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),Fr(m),Y(m,"click",oi),Y(m,"click",f,this),Y(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Le(this._zoomInButton,s),Le(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(q(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(q(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Dl,this.addControl(this.zoomControl))});var B0=function(i){return new Dl(i)},Qd=bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=ae("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=ae("div",s,l)),i.imperial&&(this._iScale=ae("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),F0=function(i){return new Qd(i)},j0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zl=bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?j0+" ":"")+"Leaflet</a>"},initialize:function(i){k(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Fr(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new zl().addTo(this)});var U0=function(i){return new zl(i)};bt.Layers=qd,bt.Zoom=Dl,bt.Scale=Qd,bt.Attribution=zl,jr.layers=z0,jr.zoom=B0,jr.scale=F0,jr.attribution=U0;var qt=Et.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qt.addTo=function(i,s){return i.addHandler(s,this),this};var W0={Events:Ze},Xd=Z.touch?"touchstart mousedown":"mousedown",kn=on.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){k(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(Y(this._dragStartTarget,Xd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kn._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Xd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!El(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){kn._dragging===this&&this.finishDrag();return}if(!(kn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(kn._dragging=this,this._preventOutline&&Il(this._element),Pl(),Dr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=Zd(this._element);this._startPoint=new R(s.clientX,s.clientY),this._startPos=ii(this._element),this._parentScale=Nl(l);var c=i.type==="mousedown";Y(document,c?"mousemove":"touchmove",this._onMove,this),Y(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new R(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Ve(i),this._moved||(this.fire("dragstart"),this._moved=!0,q(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ne(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),kl(),zr();var s=this._moved&&this._moving;this._moving=!1,kn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Jd(i,s,l){var c,f=[1,4,2,8],m,w,E,P,M,F,V,X;for(m=0,F=i.length;m<F;m++)i[m]._code=si(i[m],s);for(E=0;E<4;E++){for(V=f[E],c=[],m=0,F=i.length,w=F-1;m<F;w=m++)P=i[m],M=i[w],P._code&V?M._code&V||(X=cs(M,P,V,s,l),X._code=si(X,s),c.push(X)):(M._code&V&&(X=cs(M,P,V,s,l),X._code=si(X,s),c.push(X)),c.push(P));i=c}return i}function ef(i,s){var l,c,f,m,w,E,P,M,F;if(!i||i.length===0)throw new Error("latlngs not passed");Tt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var V=K([0,0]),X=ce(i),it=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());it<1700&&(V=Bl(i));var Fe=i.length,Pt=[];for(l=0;l<Fe;l++){var ut=K(i[l]);Pt.push(s.project(K([ut.lat-V.lat,ut.lng-V.lng])))}for(E=P=M=0,l=0,c=Fe-1;l<Fe;c=l++)f=Pt[l],m=Pt[c],w=f.y*m.x-m.y*f.x,P+=(f.x+m.x)*w,M+=(f.y+m.y)*w,E+=w*3;E===0?F=Pt[0]:F=[P/E,M/E];var Ui=s.unproject(D(F));return K([Ui.lat+V.lat,Ui.lng+V.lng])}function Bl(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var m=K(i[f]);s+=m.lat,l+=m.lng,c++}return K([s/c,l/c])}var H0={__proto__:null,clipPolygon:Jd,polygonCenter:ef,centroid:Bl};function tf(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=$0(i,l),i=V0(i,l),i}function nf(i,s,l){return Math.sqrt(Ur(i,s,l,!0))}function Z0(i,s,l){return Ur(i,s,l)}function V0(i,s){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Fl(i,f,s,0,l-1);var m,w=[];for(m=0;m<l;m++)f[m]&&w.push(i[m]);return w}function Fl(i,s,l,c,f){var m=0,w,E,P;for(E=c+1;E<=f-1;E++)P=Ur(i[E],i[c],i[f],!0),P>m&&(w=E,m=P);m>l&&(s[w]=1,Fl(i,s,l,c,w),Fl(i,s,l,w,f))}function $0(i,s){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)G0(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var rf;function of(i,s,l,c,f){var m=c?rf:si(i,l),w=si(s,l),E,P,M;for(rf=w;;){if(!(m|w))return[i,s];if(m&w)return!1;E=m||w,P=cs(i,s,E,l,f),M=si(P,l),E===m?(i=P,m=M):(s=P,w=M)}}function cs(i,s,l,c,f){var m=s.x-i.x,w=s.y-i.y,E=c.min,P=c.max,M,F;return l&8?(M=i.x+m*(P.y-i.y)/w,F=P.y):l&4?(M=i.x+m*(E.y-i.y)/w,F=E.y):l&2?(M=P.x,F=i.y+w*(P.x-i.x)/m):l&1&&(M=E.x,F=i.y+w*(E.x-i.x)/m),new R(M,F,f)}function si(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function G0(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function Ur(i,s,l,c){var f=s.x,m=s.y,w=l.x-f,E=l.y-m,P=w*w+E*E,M;return P>0&&(M=((i.x-f)*w+(i.y-m)*E)/P,M>1?(f=l.x,m=l.y):M>0&&(f+=w*M,m+=E*M)),w=i.x-f,E=i.y-m,c?w*w+E*E:new R(f,m)}function Tt(i){return!C(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function sf(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tt(i)}function af(i,s){var l,c,f,m,w,E,P,M;if(!i||i.length===0)throw new Error("latlngs not passed");Tt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var F=K([0,0]),V=ce(i),X=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());X<1700&&(F=Bl(i));var it=i.length,Fe=[];for(l=0;l<it;l++){var Pt=K(i[l]);Fe.push(s.project(K([Pt.lat-F.lat,Pt.lng-F.lng])))}for(l=0,c=0;l<it-1;l++)c+=Fe[l].distanceTo(Fe[l+1])/2;if(c===0)M=Fe[0];else for(l=0,m=0;l<it-1;l++)if(w=Fe[l],E=Fe[l+1],f=w.distanceTo(E),m+=f,m>c){P=(m-c)/f,M=[E.x-P*(E.x-w.x),E.y-P*(E.y-w.y)];break}var ut=s.unproject(D(M));return K([ut.lat+F.lat,ut.lng+F.lng])}var K0={__proto__:null,simplify:tf,pointToSegmentDistance:nf,closestPointOnSegment:Z0,clipSegment:of,_getEdgeIntersection:cs,_getBitCode:si,_sqClosestPointOnSegment:Ur,isFlat:Tt,_flat:sf,polylineCenter:af},jl={project:function(i){return new R(i.lng,i.lat)},unproject:function(i){return new se(i.y,i.x)},bounds:new $([-180,-90],[180,90])},Ul={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),w=m*Math.sin(c),E=Math.tan(Math.PI/4-c/2)/Math.pow((1-w)/(1+w),m/2);return c=-l*Math.log(Math.max(E,1e-10)),new R(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),w=Math.PI/2-2*Math.atan(m),E=0,P=.1,M;E<15&&Math.abs(P)>1e-7;E++)M=f*Math.sin(w),M=Math.pow((1-M)/(1+M),f/2),P=Math.PI/2-2*Math.atan(m*M)-w,w+=P;return new se(w*s,i.x*s/l)}},Y0={__proto__:null,LonLat:jl,Mercator:Ul,SphericalMercator:fl},q0=o({},Pn,{code:"EPSG:3395",projection:Ul,transformation:function(){var i=.5/(Math.PI*Ul.R);return Mr(i,.5,-i,.5)}()}),lf=o({},Pn,{code:"EPSG:4326",projection:jl,transformation:Mr(1/180,1,-1/180,.5)}),Q0=o({},lt,{projection:jl,transformation:Mr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});lt.Earth=Pn,lt.EPSG3395=q0,lt.EPSG3857=ml,lt.EPSG900913=i0,lt.EPSG4326=lf,lt.Simple=Q0;var Dt=on.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?C(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Di=Dt.extend({initialize:function(i,s){k(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),X0=function(i,s){return new Di(i,s)},sn=Di.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Di.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Di.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ae;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),J0=function(i,s){return new sn(i,s)},zi=Et.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){k(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=D(c),m=D(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return Z.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function ew(i){return new zi(i)}var Wr=zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Wr.imagePath!="string"&&(Wr.imagePath=this._detectIconPath()),(this.options.imagePath||Wr.imagePath)+zi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ae("div","leaflet-default-icon-path",document.body),s=br(i,"background-image")||br(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),uf=qt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new kn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),q(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=ii(s._icon),w=l.getPixelBounds(),E=l.getPixelOrigin(),P=re(w.min._subtract(E).add(f),w.max._subtract(E).subtract(f));if(!P.contains(m)){var M=D((Math.max(P.max.x,m.x)-P.max.x)/(w.max.x-P.max.x)-(Math.min(P.min.x,m.x)-P.min.x)/(w.min.x-P.min.x),(Math.max(P.max.y,m.y)-P.max.y)/(w.max.y-P.max.y)-(Math.min(P.min.y,m.y)-P.min.y)/(w.min.y-P.min.y)).multiplyBy(c);l.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),Ne(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=de(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=de(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=ii(s._icon),f=s._map.layerPointToLatLng(c);l&&Ne(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),hs=Dt.extend({options:{icon:new Wr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){k(this,s),this._latlng=K(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=K(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),q(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(q(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),Ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ee(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ne(this._icon,i),this._shadow&&Ne(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),uf)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new uf(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&xt(this._icon,i),this._shadow&&xt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?D(s.iconSize):D(0,0),c=s.iconAnchor?D(s.iconAnchor):D(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tw(i,s){return new hs(i,s)}var Ln=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return k(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ds=Ln.extend({options:{fill:!0,radius:10},initialize:function(i,s){k(this,s),this._latlng=K(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=K(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return Ln.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new $(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nw(i,s){return new ds(i,s)}var Wl=ds.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),k(this,s),this._latlng=K(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ae(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Ln.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===Pn.distance){var f=Math.PI/180,m=this._mRadius/Pn.R/f,w=l.project([s+m,i]),E=l.project([s-m,i]),P=w.add(E).divideBy(2),M=l.unproject(P).lat,F=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(M*f))/(Math.cos(s*f)*Math.cos(M*f)))/f;(isNaN(F)||F===0)&&(F=m/Math.cos(Math.PI/180*s)),this._point=P.subtract(l.getPixelOrigin()),this._radius=isNaN(F)?0:P.x-l.project([M,i-F]).x,this._radiusY=P.y-w.y}else{var V=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(V).x}this._updateBounds()}});function iw(i,s,l){return new Wl(i,s,l)}var an=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){k(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=Ur,f,m,w=0,E=this._parts.length;w<E;w++)for(var P=this._parts[w],M=1,F=P.length;M<F;M++){f=P[M-1],m=P[M];var V=c(i,f,m,!0);V<s&&(s=V,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return af(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=K(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ae,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=Tt(i),c=0,f=i.length;c<f;c++)l?(s[c]=K(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new R(i,i);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof se,f=i.length,m,w;if(c){for(w=[],m=0;m<f;m++)w[m]=this._map.latLngToLayerPoint(i[m]),l.extend(w[m]);s.push(w)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,m,w,E,P;for(l=0,f=0,m=this._rings.length;l<m;l++)for(P=this._rings[l],c=0,w=P.length;c<w-1;c++)E=of(P[c],P[c+1],i,c,!0),E&&(s[f]=s[f]||[],s[f].push(E[0]),(E[1]!==P[c+1]||c===w-2)&&(s[f].push(E[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=tf(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,m,w,E,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(E=this._parts[l],c=0,w=E.length,f=w-1;c<w;f=c++)if(!(!s&&c===0)&&nf(i,E[f],E[c])<=P)return!0;return!1}});function rw(i,s){return new an(i,s)}an._flat=sf;var Bi=an.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ef(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=an.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof se&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){an.prototype._setLatLngs.call(this,i),Tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new R(s,s);if(i=new $(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=Jd(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,m,w,E,P,M;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,P=this._parts.length;m<P;m++)for(l=this._parts[m],w=0,M=l.length,E=M-1;w<M;E=w++)c=l[w],f=l[E],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||an.prototype._containsPoint.call(this,i,!0)}});function ow(i,s){return new Bi(i,s)}var ln=sn.extend({initialize:function(i,s){k(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=C(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var w=fs(i,m);return w?(w.feature=_s(i),w.defaultOptions=w.options,this.resetStyle(w),m.onEachFeature&&m.onEachFeature(i,w),this.addLayer(w)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function fs(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=s&&s.pointToLayer,w=s&&s.coordsToLatLng||Hl,E,P,M,F;if(!c&&!l)return null;switch(l.type){case"Point":return E=w(c),cf(m,i,E,s);case"MultiPoint":for(M=0,F=c.length;M<F;M++)E=w(c[M]),f.push(cf(m,i,E,s));return new sn(f);case"LineString":case"MultiLineString":return P=ps(c,l.type==="LineString"?0:1,w),new an(P,s);case"Polygon":case"MultiPolygon":return P=ps(c,l.type==="Polygon"?1:2,w),new Bi(P,s);case"GeometryCollection":for(M=0,F=l.geometries.length;M<F;M++){var V=fs({geometry:l.geometries[M],type:"Feature",properties:i.properties},s);V&&f.push(V)}return new sn(f);case"FeatureCollection":for(M=0,F=l.features.length;M<F;M++){var X=fs(l.features[M],s);X&&f.push(X)}return new sn(f);default:throw new Error("Invalid GeoJSON object.")}}function cf(i,s,l,c){return i?i(s,l):new hs(l,c&&c.markersInheritOptions&&c)}function Hl(i){return new se(i[1],i[0],i[2])}function ps(i,s,l){for(var c=[],f=0,m=i.length,w;f<m;f++)w=s?ps(i[f],s-1,l):(l||Hl)(i[f]),c.push(w);return c}function Zl(i,s){return i=K(i),i.alt!==void 0?[v(i.lng,s),v(i.lat,s),v(i.alt,s)]:[v(i.lng,s),v(i.lat,s)]}function ms(i,s,l,c){for(var f=[],m=0,w=i.length;m<w;m++)f.push(s?ms(i[m],Tt(i[m])?0:s-1,l,c):Zl(i[m],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function Fi(i,s){return i.feature?o({},i.feature,{geometry:s}):_s(s)}function _s(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Vl={toGeoJSON:function(i){return Fi(this,{type:"Point",coordinates:Zl(this.getLatLng(),i)})}};hs.include(Vl),Wl.include(Vl),ds.include(Vl),an.include({toGeoJSON:function(i){var s=!Tt(this._latlngs),l=ms(this._latlngs,s?1:0,!1,i);return Fi(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),Bi.include({toGeoJSON:function(i){var s=!Tt(this._latlngs),l=s&&!Tt(this._latlngs[0]),c=ms(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),Fi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Di.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),Fi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var w=_s(m);w.type==="FeatureCollection"?c.push.apply(c,w.features):c.push(w)}}}),l?Fi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function hf(i,s){return new ln(i,s)}var sw=hf,gs=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=ce(s),k(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ai(this._image),this},bringToBack:function(){return this._map&&bi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ce(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:ae("img");if(q(s,"leaflet-image-layer"),this._zoomAnimated&&q(s,"leaflet-zoom-animated"),this.options.className&&q(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;ni(this._image,l,s)},_reset:function(){var i=this._image,s=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Ne(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),aw=function(i,s,l){return new gs(i,s,l)},df=gs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:ae("video");if(q(s,"leaflet-image-layer"),this._zoomAnimated&&q(s,"leaflet-zoom-animated"),this.options.className&&q(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var w=ae("source");w.src=this._url[m],s.appendChild(w)}}});function lw(i,s,l){return new df(i,s,l)}var ff=gs.extend({_initImage:function(){var i=this._image=this._url;q(i,"leaflet-image-layer"),this._zoomAnimated&&q(i,"leaflet-zoom-animated"),this.options.className&&q(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function uw(i,s,l){return new ff(i,s,l)}var Qt=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof se||C(i))?(this._latlng=K(i),k(this,s)):(k(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&xt(this._container,1),this.bringToFront(),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(xt(this._container,0),this._removeTimeout=setTimeout(u(Ee,void 0,this._container),200)):Ee(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=K(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ai(this._container),this},bringToBack:function(){return this._map&&bi(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof sn){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=D(this.options.offset),l=this._getAnchor();this._zoomAnimated?Ne(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Dt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(k(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var vs=Qt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Qt.prototype.openOn.call(this,i)},onAdd:function(i){Qt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",ri))},onRemove:function(i){Qt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",ri))},getEvents:function(){var i=Qt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=ae("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ae("div",i+"-content-wrapper",s);if(this._contentNode=ae("div",i+"-content",l),Fr(s),Al(this._contentNode),Y(s,"contextmenu",ri),this._tipContainer=ae("div",i+"-tip-container",s),this._tip=ae("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ae("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Y(c,"click",function(f){Ve(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",q(i,m)):Le(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();Ne(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(br(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new R(this._containerLeft,-l-this._containerBottom);f._add(ii(this._container));var m=i.layerPointToContainerPoint(f),w=D(this.options.autoPanPadding),E=D(this.options.autoPanPaddingTopLeft||w),P=D(this.options.autoPanPaddingBottomRight||w),M=i.getSize(),F=0,V=0;m.x+c+P.x>M.x&&(F=m.x+c-M.x+P.x),m.x-F-E.x<0&&(F=m.x-E.x),m.y+l+P.y>M.y&&(V=m.y+l-M.y+P.y),m.y-V-E.y<0&&(V=m.y-E.y),(F||V)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([F,V]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cw=function(i,s){return new vs(i,s)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(i,s,l){return this._initOverlay(vs,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Dt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(vs,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof sn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){oi(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof Ln)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ys=Qt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Qt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Qt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Qt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),w=c.layerPointToContainerPoint(i),E=this.options.direction,P=f.offsetWidth,M=f.offsetHeight,F=D(this.options.offset),V=this._getAnchor();E==="top"?(s=P/2,l=M):E==="bottom"?(s=P/2,l=0):E==="center"?(s=P/2,l=M/2):E==="right"?(s=0,l=M/2):E==="left"?(s=P,l=M/2):w.x<m.x?(E="right",s=0,l=M/2):(E="left",s=P+(F.x+V.x)*2,l=M/2),i=i.subtract(D(s,l,!0)).add(F).add(V),Le(f,"leaflet-tooltip-right"),Le(f,"leaflet-tooltip-left"),Le(f,"leaflet-tooltip-top"),Le(f,"leaflet-tooltip-bottom"),q(f,"leaflet-tooltip-"+E),Ne(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&xt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hw=function(i,s){return new ys(i,s)};ne.include({openTooltip:function(i,s,l){return this._initOverlay(ys,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Dt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ys,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof sn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(Y(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Y(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var pf=zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(os(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=D(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function dw(i){return new pf(i)}zi.Default=Wr;var Hr=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){k(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ee(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ai(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof R?i:new R(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,m;c<f;c++)m=s[c].style.zIndex,s[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){xt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);xt(f.el,m),m<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(Be(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(Ee(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ee(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),m=Math.floor(s/2),w=l-1,E=new R(+f,+m);E.z=+w;var P=this._tileCoordsToKey(E),M=this._tiles[P];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),w>c?this._retainParent(f,m,w,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*s;m<2*s+2;m++){var w=new R(f,m);w.z=l+1;var E=this._tileCoordsToKey(w),P=this._tiles[E];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();Z.any3d?ni(i.el,f,c):Ne(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),m=s.getSize().divideBy(c*2);return new $(f.subtract(m),f.add(m))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),w=[],E=this.options.keepBuffer,P=new $(f.getBottomLeft().subtract([E,-E]),f.getTopRight().add([E,-E]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var F=this._tiles[M].coords;(F.z!==this._tileZoom||!P.contains(new R(F.x,F.y)))&&(this._tiles[M].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var V=f.min.y;V<=f.max.y;V++)for(var X=f.min.x;X<=f.max.x;X++){var it=new R(X,V);if(it.z=this._tileZoom,!!this._isValidTile(it)){var Fe=this._tiles[this._tileCoordsToKey(it)];Fe?Fe.current=!0:w.push(it)}}if(w.sort(function(ut,Ui){return ut.distanceTo(m)-Ui.distanceTo(m)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Pt=document.createDocumentFragment();for(X=0;X<w.length;X++)this._addTile(w[X],Pt);this._level.el.appendChild(Pt)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return ce(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=s.unproject(c,i.z),w=s.unproject(f,i.z);return[m,w]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new Ae(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new R(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(Ee(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){q(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=_,i.onmousemove=_,Z.ielt9&&this.options.opacity<1&&xt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&de(u(this._tileReady,this,i,null,f)),Ne(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(xt(l.el,0),Be(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(q(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?de(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new R(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new $(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function fw(i){return new Hr(i)}var ji=Hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=k(this,s),s.detectRetina&&Z.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return Y(l,"load",u(this._tileOnLoad,this,s,l)),Y(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:Z.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){Z.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=_,s.onerror=_,!s.complete)){s.src=B;var l=this._tiles[i].coords;Ee(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",B),Hr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===B))return Hr.prototype._tileReady.call(this,i,s,l)}});function mf(i,s){return new ji(i,s)}var _f=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=k(this,s);var f=s.detectRetina&&Z.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ji.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=re(l.project(s[0]),l.project(s[1])),f=c.min,m=c.max,w=(this._wmsVersion>=1.3&&this._crs===lf?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),E=ji.prototype.getTileUrl.call(this,i);return E+b(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function pw(i,s){return new _f(i,s)}ji.WMS=_f,mf.wms=pw;var un=Dt.extend({options:{padding:.1},initialize:function(i){k(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));Z.any3d?ni(this._container,m,l):Ne(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new $(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gf=un.extend({options:{tolerance:0},getEvents:function(){var i=un.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Y(i,"mousemove",this._onMouseMove,this),Y(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,Ee(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){un.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=Z.retina?2:1;Ne(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||de(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,m,w=i._parts,E=w.length,P=this._ctx;if(E){for(P.beginPath(),l=0;l<E;l++){for(c=0,f=w[l].length;c<f;c++)m=w[l][c],P[c?"lineTo":"moveTo"](m.x,m.y);s&&P.closePath()}this._fillStroke(P,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Le(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(q(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function vf(i){return Z.canvas?new gf(i):null}var Zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),mw={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(un.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=Zr("shape");q(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=Zr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;Ee(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=Zr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=C(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=Zr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){Ai(i._container)},_bringToBack:function(i){bi(i._container)}},ws=Z.vml?Zr:Sd,Vr=un.extend({_initContainer:function(){this._container=ws("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ws("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ee(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){un.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Ne(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=ws("path");i.options.className&&q(s,i.options.className),i.options.interactive&&q(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ee(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,Cd(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){Ai(i._path)},_bringToBack:function(i){bi(i._path)}});Z.vml&&Vr.include(mw);function yf(i){return Z.svg||Z.vml?new Vr(i):null}ne.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&vf(i)||yf(i)}});var wf=Bi.extend({initialize:function(i,s){Bi.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ce(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function _w(i,s){return new wf(i,s)}Vr.create=ws,Vr.pointsToPath=Cd,ln.geometryToLayer=fs,ln.coordsToLatLng=Hl,ln.coordsToLatLngs=ps,ln.latLngToCoords=Zl,ln.latLngsToCoords=ms,ln.getFeature=Fi,ln.asFeature=_s,ne.mergeOptions({boxZoom:!0});var Sf=qt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dr(),Pl(),this._startPoint=this._map.mouseEventToContainerPoint(i),Y(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new $(this._point,this._startPoint),l=s.getSize();Ne(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Ee(this._box),Le(this._container,"leaflet-crosshair")),zr(),kl(),fe(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",Sf),ne.mergeOptions({doubleClickZoom:!0});var Cf=qt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});ne.addInitHook("addHandler","doubleClickZoom",Cf),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ef=qt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new kn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ce(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,m=(c+s+l)%i-s-l,w=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,w=l.easeLinearity,E=f.multiplyBy(w/m),P=E.distanceTo([0,0]),M=Math.min(l.inertiaMaxSpeed,P),F=E.multiplyBy(M/P),V=M/(l.inertiaDeceleration*w),X=F.multiplyBy(-V/2).round();!X.x&&!X.y?s.fire("moveend"):(X=s._limitOffset(X,s.options.maxBounds),de(function(){s.panBy(X,{duration:V,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Ef),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xf=qt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Y(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=D(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(D(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;oi(i)}}});ne.addInitHook("addHandler","keyboard",xf),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tf=qt.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=Kd(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),oi(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,w=i._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,w&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+w):i.setZoomAround(this._lastMousePos,s+w))}});ne.addInitHook("addHandler","scrollWheelZoom",Tf);var gw=600;ne.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Pf=qt.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new R(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",Ve),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),gw),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){fe(document,"touchend",Ve),fe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new R(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ne.addInitHook("addHandler","tapHold",Pf),ne.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var kf=qt.extend({addHooks:function(){q(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),Ve(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var w=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=de(w,this,!0),Ve(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",kf),ne.BoxZoom=Sf,ne.DoubleClickZoom=Cf,ne.Drag=Ef,ne.Keyboard=xf,ne.ScrollWheelZoom=Tf,ne.TapHold=Pf,ne.TouchZoom=kf,n.Bounds=$,n.Browser=Z,n.CRS=lt,n.Canvas=gf,n.Circle=Wl,n.CircleMarker=ds,n.Class=Et,n.Control=bt,n.DivIcon=pf,n.DivOverlay=Qt,n.DomEvent=b0,n.DomUtil=O0,n.Draggable=kn,n.Evented=on,n.FeatureGroup=sn,n.GeoJSON=ln,n.GridLayer=Hr,n.Handler=qt,n.Icon=zi,n.ImageOverlay=gs,n.LatLng=se,n.LatLngBounds=Ae,n.Layer=Dt,n.LayerGroup=Di,n.LineUtil=K0,n.Map=ne,n.Marker=hs,n.Mixin=W0,n.Path=Ln,n.Point=R,n.PolyUtil=H0,n.Polygon=Bi,n.Polyline=an,n.Popup=vs,n.PosAnimation=Yd,n.Projection=Y0,n.Rectangle=wf,n.Renderer=un,n.SVG=Vr,n.SVGOverlay=ff,n.TileLayer=ji,n.Tooltip=ys,n.Transformation=pl,n.Util=ti,n.VideoOverlay=df,n.bind=u,n.bounds=re,n.canvas=vf,n.circle=iw,n.circleMarker=nw,n.control=jr,n.divIcon=dw,n.extend=o,n.featureGroup=J0,n.geoJSON=hf,n.geoJson=sw,n.gridLayer=fw,n.icon=ew,n.imageOverlay=aw,n.latLng=K,n.latLngBounds=ce,n.layerGroup=X0,n.map=D0,n.marker=tw,n.point=D,n.polygon=ow,n.polyline=rw,n.popup=cw,n.rectangle=_w,n.setOptions=k,n.stamp=d,n.svg=yf,n.svgOverlay=uw,n.tileLayer=mf,n.tooltip=hw,n.transformation=Mr,n.version=r,n.videoOverlay=lw;var vw=window.L;n.noConflict=function(){return window.L=vw,this},window.L=n})})(Pc,Pc.exports);var Vt=Pc.exports;function yv(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function wv(t,e){return e==null?function(r,o){const a=O.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=O.useRef();a.current||(a.current=t(r,o));const u=O.useRef(r),{instance:h}=a.current;return O.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function hE(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Sv(t){return function(n){const r=gv(),o=t(vv(n,r),r);return rE(r.map,n.attribution),cE(o.current,n.eventHandlers),hE(o.current,r),o}}function dE(t,e){const n=wv(t,e),r=Sv(n);return lE(r)}function fE(t,e){const n=wv(t,e),r=Sv(n);return uE(r)}function pE(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function mE(){return gv().map}function _E(t){const e=mE();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function kc(){return kc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function gE({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...g},_){const[v]=O.useState({className:o,id:a,style:h}),[x,T]=O.useState(null);O.useImperativeHandle(_,()=>(x==null?void 0:x.map)??null,[x]);const k=O.useCallback(S=>{if(S!==null&&x===null){const y=new Vt.Map(S,g);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),T(sE(y))}},[]);O.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const b=x?ta.createElement(_v,{value:x},r):u??null;return ta.createElement("div",kc({},v,{ref:k}),b)}const Vh=O.forwardRef(gE),Cv=dE(function({position:e,...n},r){const o=new Vt.Marker(e,n);return yv(o,aE(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),$h=fE(function({url:e,...n},r){const o=new Vt.TileLayer(e,vv(n,r));return yv(o,r)},function(e,n,r){pE(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)});Vt.Icon.Default.mergeOptions({iconUrl:null,iconRetinaUrl:null,shadowUrl:null,iconSize:null,iconAnchor:null,popupAnchor:null,tooltipAnchor:null,shadowSize:null,classNamePrefix:"leaflet-default-icon-"});Vt.Icon.Default.include({_needsInit:!0,_getIconUrl:function(t){var e=this.options.imagePath||Vt.Icon.Default.imagePath||"";return this._needsInit&&this._initializeOptions(e),e+Vt.Icon.prototype._getIconUrl.call(this,t)},_initializeOptions:function(t){this._setOptions("icon",Kp,t),this._setOptions("shadow",Kp,t),this._setOptions("popup",Yp),this._setOptions("tooltip",Yp),this._needsInit=!1},_setOptions:function(t,e,n){var r=this.options,o=r.classNamePrefix,a=e(o+t,n);for(var u in a)r[t+u]=r[t+u]||a[u]}});function Kp(t,e){var n=Vt.DomUtil.create("div",t,document.body),r=wE(n),o=vE(r,e),a=nr(n,"width"),u=nr(n,"height"),h=nr(n,"margin-left"),d=nr(n,"margin-top");return n.parentNode.removeChild(n),{Url:o[0],RetinaUrl:o[1],Size:[a,u],Anchor:[-h,-d]}}function Yp(t){var e=Vt.DomUtil.create("div",t,document.body),n=nr(e,"margin-left"),r=nr(e,"margin-top");return e.parentNode.removeChild(e),{Anchor:[n,r]}}function vE(t,e){for(var n=/url\(['"]?([^"']*?)['"]?\)/gi,r=[],o=n.exec(t);o;)r.push(e?yE(o[1]):o[1]),o=n.exec(t);return r}function yE(t){return t.substr(t.lastIndexOf("/")+1)}function nr(t,e){return parseInt(Lc(t,e),10)}function Lc(t,e){return Vt.DomUtil.getStyle(t,e)||Vt.DomUtil.getStyle(t,SE(e))}function wE(t){var e=Lc(t,"background-image");return e&&e!=="none"?e:Lc(t,"cursor")}function SE(t){return t.replace(/-(\w)/g,function(e,n){return n.toUpperCase()})}function CE(){const t=[43.642556,-79.387083];return I.jsx("div",{style:{width:"100%",height:"100vh"},children:I.jsx(Vh,{center:t,zoom:10,style:{height:"100%",width:"100%"},children:I.jsx($h,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"})})})}function EE(){return I.jsx(CE,{})}var qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw kr(e)},kr=function(t){return new Error("Firebase Database ("+Ev.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Gh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,d=o+2<t.length,p=d?t[o+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let v=(h&15)<<2|p>>6,x=p&63;d||(x=64,u||(v=64)),r.push(n[g],n[_],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||p==null||_==null)throw new TE;const v=a<<2|h>>4;if(r.push(v),p!==64){const x=h<<4&240|p>>2;if(r.push(x),_!==64){const T=p<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tv=function(t){const e=xv(t);return Gh.encodeByteArray(e,!0)},La=function(t){return Tv(t).replace(/\./g,"")},Ic=function(t){try{return Gh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){return Pv(void 0,t)}function Pv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kE(n)||(t[n]=Pv(t[n],e[n]));return t}function kE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=()=>LE().__FIREBASE_DEFAULTS__,NE=()=>{if(typeof process>"u"||typeof qp>"u")return;const t=qp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ic(t[1]);return e&&JSON.parse(e)},kv=()=>{try{return IE()||NE()||RE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ME=t=>{var e,n;return(n=(e=kv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OE=t=>{const e=ME(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lv=()=>{var t;return(t=kv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Iv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bE())}function DE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nv(){return Ev.NODE_ADMIN===!0}function zE(){try{return typeof indexedDB=="object"}catch{return!1}}function BE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="FirebaseError";class Xo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FE,Object.setPrototypeOf(this,Xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rv.prototype.create)}}class Rv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?jE(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Xo(o,h,r)}}function jE(t,e){return t.replace(UE,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const UE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return JSON.parse(t)}function Ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(t){let e={},n={},r={},o="";try{const a=t.split(".");e=Uo(Ic(a[0])||""),n=Uo(Ic(a[1])||""),o=a[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},WE=function(t){const e=Mv(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HE=function(t){const e=Mv(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ia(t,e,n){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r}function Nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const a=t[o],u=e[o];if(Xp(a)&&Xp(u)){if(!Nc(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)r[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)r[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=h^a&(u^h),g=1518500249):(p=a^u^h,g=1859775393):_<60?(p=a&u|h&(a|u),g=2400959708):(p=a^u^h,g=3395469782);const v=(o<<5|o>>>27)+p+d+g+r[_]&4294967295;d=h,h=u,u=(a<<30|a>>>2)&4294967295,a=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const a=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=e[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[r]=this.chain_[o]>>a&255,++r;return e}}function Kh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const a=o-55296;r++,z(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;o=65536+(a<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ol=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class Wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YE(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(t){return t===ui?void 0:t}function YE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const QE={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},XE=pe.INFO,JE={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ex=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=JE[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ov{constructor(e){this.name=e,this._logLevel=XE,this._logHandler=ex,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const tx=(t,e)=>e.some(n=>t instanceof n);let Jp,em;function nx(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ix(){return em||(em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,Rc=new WeakMap,bv=new WeakMap,wu=new WeakMap,Yh=new WeakMap;function rx(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n($n(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Av.set(n,t)}).catch(()=>{}),Yh.set(e,t),e}function ox(t){if(Rc.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Rc.set(t,e)}let Mc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sx(t){Mc=t(Mc)}function ax(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Su(this),e,...n);return bv.set(r,e.sort?e.sort():[e]),$n(r)}:ix().includes(t)?function(...e){return t.apply(Su(this),e),$n(Av.get(this))}:function(...e){return $n(t.apply(Su(this),e))}}function lx(t){return typeof t=="function"?ax(t):(t instanceof IDBTransaction&&ox(t),tx(t,nx())?new Proxy(t,Mc):t)}function $n(t){if(t instanceof IDBRequest)return rx(t);if(wu.has(t))return wu.get(t);const e=lx(t);return e!==t&&(wu.set(t,e),Yh.set(e,t)),e}const Su=t=>Yh.get(t);function ux(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=$n(u);return r&&u.addEventListener("upgradeneeded",d=>{r($n(u.result),d.oldVersion,d.newVersion,$n(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const cx=["get","getKey","getAll","getAllKeys","count"],hx=["put","add","delete","clear"],Cu=new Map;function tm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cu.get(e))return Cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=hx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||cx.includes(n)))return;const a=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&d.done]))[0]};return Cu.set(e,a),a}sx(t=>({...t,get:(e,n,r)=>tm(e,n)||t.get(e,n,r),has:(e,n)=>!!tm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oc="@firebase/app",nm="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Ov("@firebase/app"),px="@firebase/app-compat",mx="@firebase/analytics-compat",_x="@firebase/analytics",gx="@firebase/app-check-compat",vx="@firebase/app-check",yx="@firebase/auth",wx="@firebase/auth-compat",Sx="@firebase/database",Cx="@firebase/data-connect",Ex="@firebase/database-compat",xx="@firebase/functions",Tx="@firebase/functions-compat",Px="@firebase/installations",kx="@firebase/installations-compat",Lx="@firebase/messaging",Ix="@firebase/messaging-compat",Nx="@firebase/performance",Rx="@firebase/performance-compat",Mx="@firebase/remote-config",Ox="@firebase/remote-config-compat",Ax="@firebase/storage",bx="@firebase/storage-compat",Dx="@firebase/firestore",zx="@firebase/vertexai",Bx="@firebase/firestore-compat",Fx="firebase",jx="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="[DEFAULT]",Ux={[Oc]:"fire-core",[px]:"fire-core-compat",[_x]:"fire-analytics",[mx]:"fire-analytics-compat",[vx]:"fire-app-check",[gx]:"fire-app-check-compat",[yx]:"fire-auth",[wx]:"fire-auth-compat",[Sx]:"fire-rtdb",[Cx]:"fire-data-connect",[Ex]:"fire-rtdb-compat",[xx]:"fire-fn",[Tx]:"fire-fn-compat",[Px]:"fire-iid",[kx]:"fire-iid-compat",[Lx]:"fire-fcm",[Ix]:"fire-fcm-compat",[Nx]:"fire-perf",[Rx]:"fire-perf-compat",[Mx]:"fire-rc",[Ox]:"fire-rc-compat",[Ax]:"fire-gcs",[bx]:"fire-gcs-compat",[Dx]:"fire-fst",[Bx]:"fire-fst-compat",[zx]:"fire-vertex","fire-js":"fire-js",[Fx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,Wx=new Map,bc=new Map;function im(t,e){try{t.container.addComponent(e)}catch(n){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(bc.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;bc.set(e,t);for(const n of Na.values())im(n,t);for(const n of Wx.values())im(n,t);return!0}function Hx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gn=new Rv("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=jx;function Dv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ac,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Gn.create("bad-app-name",{appName:String(o)});if(n||(n=Lv()),!n)throw Gn.create("no-options");const a=Na.get(o);if(a){if(Nc(n,a.options)&&Nc(r,a.config))return a;throw Gn.create("duplicate-app",{appName:o})}const u=new qE(o);for(const d of bc.values())u.addComponent(d);const h=new Vx(n,r,u);return Na.set(o,h),h}function Gx(t=Ac){const e=Na.get(t);if(!e&&t===Ac&&Lv())return Dv();if(!e)throw Gn.create("no-app",{appName:t});return e}function cr(t,e,n){var r;let o=(r=Ux[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(h.join(" "));return}Ra(new Wo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firebase-heartbeat-database",Yx=1,Ho="firebase-heartbeat-store";let Eu=null;function zv(){return Eu||(Eu=ux(Kx,Yx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gn.create("idb-open",{originalErrorMessage:t.message})})),Eu}async function qx(t){try{const n=(await zv()).transaction(Ho),r=await n.objectStore(Ho).get(Bv(t));return await n.done,r}catch(e){if(e instanceof Xo)Sn.warn(e.message);else{const n=Gn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sn.warn(n.message)}}}async function rm(t,e){try{const r=(await zv()).transaction(Ho,"readwrite");await r.objectStore(Ho).put(e,Bv(t)),await r.done}catch(n){if(n instanceof Xo)Sn.warn(n.message);else{const r=Gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sn.warn(r.message)}}}function Bv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1024,Xx=30*24*60*60*1e3;class Jx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=om();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=Xx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=om(),{heartbeatsToSend:r,unsentEntries:o}=eT(this._heartbeatsCache.heartbeats),a=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Sn.warn(n),""}}}function om(){return new Date().toISOString().substring(0,10)}function eT(t,e=Qx){const n=[];let r=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),sm(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zE()?BE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sm(t){return La(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){Ra(new Wo("platform-logger",e=>new dx(e),"PRIVATE")),Ra(new Wo("heartbeat",e=>new Jx(e),"PRIVATE")),cr(Oc,nm,t),cr(Oc,nm,"esm2017"),cr("fire-js","")}nT("");var am={};const lm="@firebase/database",um="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv="";function iT(t){Fv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rT(e)}}catch{}return new oT},mi=jv("localStorage"),sT=jv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Ov("@firebase/database"),aT=function(){let t=1;return function(){return t++}}(),Uv=function(t){const e=$E(t),n=new VE;n.update(e);const r=n.digest();return Gh.encodeByteArray(r)},Jo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Jo.apply(null,r):typeof r=="object"?e+=Ke(r):e+=r,e+=" "}return e};let vo=null,cm=!0;const lT=function(t,e){z(!e,"Can't turn on custom loggers persistently."),hr.logLevel=pe.VERBOSE,vo=hr.log.bind(hr)},et=function(...t){if(cm===!0&&(cm=!1,vo===null&&sT.get("logging_enabled")===!0&&lT()),vo){const e=Jo.apply(null,t);vo(e)}},es=function(t){return function(...e){et(t,...e)}},Dc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Jo(...t);hr.error(e)},Cn=function(...t){const e=`FIREBASE FATAL ERROR: ${Jo(...t)}`;throw hr.error(e),new Error(e)},_t=function(...t){const e="FIREBASE WARNING: "+Jo(...t);hr.warn(e)},uT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},cT=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Sr="[MIN_NAME]",xi="[MAX_NAME]",Ir=function(t,e){if(t===e)return 0;if(t===Sr||e===xi)return-1;if(e===Sr||t===xi)return 1;{const n=hm(t),r=hm(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hT=function(t,e){return t===e?0:t<e?-1:1},eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},qh=function(t){if(typeof t!="object"||t===null)return Ke(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ke(e[r]),n+=":",n+=qh(t[e[r]]);return n+="}",n},Hv=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Zv=function(t){z(!Wv(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,a,u,h,d;t===0?(a=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=h+r,u=Math.round(t*Math.pow(2,n-h)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-r-n))));const p=[];for(d=n;d;d-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(d=e;d;d-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(o?1:0),p.reverse();const g=p.join("");let _="";for(d=0;d<64;d+=8){let v=parseInt(g.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},dT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},pT=new RegExp("^-?(0*)\\d{1,10}$"),mT=-2147483648,_T=2147483647,hm=function(t){if(pT.test(t)){const e=Number(t);if(e>=mT&&e<=_T)return e}return null},Nr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _t("Exception was thrown by user callback.",n),e},Math.floor(0))}},gT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){_t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_t(e)}}class ea{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ea.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="5",Vv="v",$v="s",Gv="r",Kv="f",Yv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qv="ls",Qv="p",zc="ac",Xv="websocket",Jv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,o,a=!1,u="",h=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function wT(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ty(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(e===Xv)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Jv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wT(t)&&(n.ns=t.namespace);const o=[];return At(n,(a,u)=>{o.push(a+"="+u)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.counters_={}}incrementCounter(e,n=1){Tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return PE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu={},Tu={};function Xh(t){const e=t.toString();return xu[e]||(xu[e]=new ST),xu[e]}function CT(t,e){const n=t.toString();return Tu[n]||(Tu[n]=e()),Tu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Nr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="start",xT="close",TT="pLPCommand",PT="pRTLPCB",ny="id",iy="pw",ry="ser",kT="cb",LT="seg",IT="ts",NT="d",RT="dframe",oy=1870,sy=30,MT=oy-sy,OT=25e3,AT=3e4;class ir{constructor(e,n,r,o,a,u,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=es(e),this.stats_=Xh(n),this.urlFn=d=>(this.appCheckToken&&(d[zc]=this.appCheckToken),ty(n,Jv,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ET(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AT)),cT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jh((...a)=>{const[u,h,d,p,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===dm)this.id=h,this.password=d;else if(u===xT)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[dm]="t",r[ry]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Vv]=Qh,this.transportSessionId&&(r[$v]=this.transportSessionId),this.lastSessionId&&(r[qv]=this.lastSessionId),this.applicationId&&(r[Qv]=this.applicationId),this.appCheckToken&&(r[zc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Yv.test(location.hostname)&&(r[Gv]=Kv);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ir.forceAllow_=!0}static forceDisallow(){ir.forceDisallow_=!0}static isAvailable(){return ir.forceAllow_?!0:!ir.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dT()&&!fT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Tv(n),o=Hv(r,MT);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[RT]="t",r[ny]=e,r[iy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Jh{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aT(),window[TT+this.uniqueCallbackIdentifier]=e,window[PT+this.uniqueCallbackIdentifier]=n,this.myIFrame=Jh.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){et("frame writing exception"),h.stack&&et(h.stack),et(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ny]=this.myID,e[iy]=this.myPW,e[ry]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sy+r.length<=oy;){const u=this.pendingSegs.shift();r=r+"&"+LT+o+"="+u.seg+"&"+IT+o+"="+u.ts+"&"+NT+o+"="+u.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(OT)),a=()=>{clearTimeout(o),r()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=16384,DT=45e3;let Ma=null;typeof MozWebSocket<"u"?Ma=MozWebSocket:typeof WebSocket<"u"&&(Ma=WebSocket);class Ut{constructor(e,n,r,o,a,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=es(this.connId),this.stats_=Xh(n),this.connURL=Ut.connectionURL_(n,u,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,a){const u={};return u[Vv]=Qh,typeof location<"u"&&location.hostname&&Yv.test(location.hostname)&&(u[Gv]=Kv),n&&(u[$v]=n),r&&(u[qv]=r),o&&(u[zc]=o),a&&(u[Qv]=a),ty(e,Xv,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mi.set("previous_websocket_failure",!0);try{let r;Nv(),this.mySock=new Ma(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ma!==null&&!Ut.forceDisallow_}static previouslyFailed(){return mi.isInMemoryStorage||mi.get("previous_websocket_failure")===!0}markConnectionHealthy(){mi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hv(n,bT);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(DT))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ut.responsesRequiredToBeHealthy=2;Ut.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static get ALL_TRANSPORTS(){return[ir,Ut]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Ut&&Ut.isAvailable();let r=n&&!Ut.previouslyFailed();if(e.webSocketOnly&&(n||_t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ut];else{const o=this.transports_=[];for(const a of Zo.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);Zo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=6e4,BT=5e3,FT=10*1024,jT=100*1024,Pu="t",fm="d",UT="s",pm="r",WT="e",mm="o",_m="a",gm="n",vm="p",HT="h";class ZT{constructor(e,n,r,o,a,u,h,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=es("c:"+this.id+":"),this.transportManager_=new Zo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=yo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Pu in e){const n=e[Pu];n===_m?this.upgradeIfSecondaryHealthy_():n===pm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eo("t",e),r=eo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_m,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eo("t",e),r=eo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eo(Pu,e);if(fm in e){const r=e[fm];if(n===HT){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===gm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UT?this.onConnectionShutdown_(r):n===pm?this.onReset_(r):n===WT?Dc("Server Error: "+r):n===mm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qh!==r&&_t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===n&&(!r||r===o[a].context)){o.splice(a,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends ly{static getInstance(){return new Oa}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Iv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=32,wm=768;class Se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new Se("")}function ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qn(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function uy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VT(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function De(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new Se(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function Nt(t,e){const n=ee(t),r=ee(e);if(n===null)return e;if(n===r)return Nt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function dy(t,e){if(Qn(t)!==Qn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qn(t)>Qn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class $T{constructor(e,n){this.errorPrefix_=n,this.parts_=cy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ol(this.parts_[r]);fy(this)}}function GT(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ol(e),fy(t)}function KT(t){const e=t.parts_.pop();t.byteLength_-=ol(e),t.parts_.length>0&&(t.byteLength_-=1)}function fy(t){if(t.byteLength_>wm)throw new Error(t.errorPrefix_+"has a key path longer than "+wm+" bytes ("+t.byteLength_+").");if(t.parts_.length>ym)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ym+") or object contains a cycle "+ci(t))}function ci(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends ly{static getInstance(){return new ed}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=1e3,YT=60*5*1e3,Sm=30*1e3,qT=1.3,QT=3e4,XT="server_kill",Cm=3;class _n extends ay{constructor(e,n,r,o,a,u,h,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=_n.nextPersistentConnectionId_++,this.log_=es("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=to,this.maxReconnectDelay_=YT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Nv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ed.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,a={r:o,a:e,b:n};this.log_(Ke(a)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new rl,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,r,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,h=>{const d=h.d,p=h.s;_n.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Tn(e,"w")){const r=wr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();_t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=WE(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";o&&(a.q=r,a.t=o),this.sendRequest(u,a)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const a={p:n,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,a){this.initConnection_();const u={p:n,d:r};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Dc("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QT&&(this.reconnectDelay_=to),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+_n.nextConnectionId_++,a=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,r())},p=function(_){z(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,h=new ZT(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{_t(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(XT)},a))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&_t(_),d())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qp(this.interruptReasons_)&&(this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(a=>qh(a)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new Se(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){et("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Cm&&(this.reconnectDelay_=Sm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){et("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Cm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Fv.replace(/\./g,"-")]=1,Iv()?e["framework.cordova"]=1:DE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oa.getInstance().currentlyOnline();return Qp(this.interruptReasons_)&&e}}_n.nextPersistentConnectionId_=0;_n.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(Sr,e),o=new ie(Sr,n);return this.compare(r,o)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs;class py extends sl{static get __EMPTY_NODE(){return Fs}static set __EMPTY_NODE(e){Fs=e}compare(e,n){return Ir(e.name,n.name)}isDefinedOn(e){throw kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(xi,Fs)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,Fs)}toString(){return".key"}}const dr=new py;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?r(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,o,a){this.key=e,this.value=n,this.color=r??We.RED,this.left=o??dt.EMPTY_NODE,this.right=a??dt.EMPTY_NODE}copy(e,n,r,o,a){return new We(e??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const a=r(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):a===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class JT{copy(e,n,r,o,a){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(e,n=dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new js(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new js(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new js(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new js(this.root_,null,this.comparator_,!0,e)}}dt.EMPTY_NODE=new JT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e){return Ir(t.name,e.name)}function td(t,e){return Ir(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;function tP(t){Bc=t}const my=function(t){return typeof t=="number"?"number:"+Zv(t):"string:"+t},_y=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Tn(e,".sv"),"Priority must be a string or number.")}else z(t===Bc||t.isEmpty(),"priority of unexpected type.");z(t===Bc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em;class je{static set __childrenNodeConstructor(e){Em=e}static get __childrenNodeConstructor(){return Em}constructor(e,n=je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_y(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:ee(e)===".priority"?this.priorityNode_:je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ee(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||Qn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,je.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+my(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Zv(this.value_):e+=this.value_,this.lazyHash_=Uv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof je.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=je.VALUE_TYPE_ORDER.indexOf(n),a=je.VALUE_TYPE_ORDER.indexOf(r);return z(o>=0,"Unknown leaf type: "+n),z(a>=0,"Unknown leaf type: "+r),o===a?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gy,vy;function nP(t){gy=t}function iP(t){vy=t}class rP extends sl{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),a=r.compareTo(o);return a===0?Ir(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(xi,new je("[PRIORITY-POST]",vy))}makePost(e,n){const r=gy(e);return new ie(n,new je("[PRIORITY-POST]",r))}toString(){return".priority"}}const tt=new rP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=Math.log(2);class sP{constructor(e){const n=a=>parseInt(Math.log(a)/oP,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Aa=function(t,e,n,r){t.sort(e);const o=function(d,p){const g=p-d;let _,v;if(g===0)return null;if(g===1)return _=t[d],v=n?n(_):_,new We(v,_.node,We.BLACK,null,null);{const x=parseInt(g/2,10)+d,T=o(d,x),k=o(x+1,p);return _=t[x],v=n?n(_):_,new We(v,_.node,We.BLACK,T,k)}},a=function(d){let p=null,g=null,_=t.length;const v=function(T,k){const b=_-T,S=_;_-=T;const y=o(b+1,S),C=t[b],N=n?n(C):C;x(new We(N,C.node,k,null,y))},x=function(T){p?(p.left=T,p=T):(g=T,p=T)};for(let T=0;T<d.count;++T){const k=d.nextBitIsOne(),b=Math.pow(2,d.count-(T+1));k?v(b,We.BLACK):(v(b,We.BLACK),v(b,We.RED))}return g},u=new sP(t.length),h=a(u);return new dt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;const Hi={};class pn{static get Default(){return z(Hi&&tt,"ChildrenNode.ts has not been loaded"),ku=ku||new pn({".priority":Hi},{".priority":tt}),ku}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return Tn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const a=n.getIterator(ie.Wrap);let u=a.getNext();for(;u;)o=o||e.isDefinedOn(u.node),r.push(u),u=a.getNext();let h;o?h=Aa(r,e.getCompare()):h=Hi;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=h,new pn(g,p)}addToIndexes(e,n){const r=Ia(this.indexes_,(o,a)=>{const u=wr(this.indexSet_,a);if(z(u,"Missing index implementation for "+a),o===Hi)if(u.isDefinedOn(e.node)){const h=[],d=n.getIterator(ie.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&h.push(p),p=d.getNext();return h.push(e),Aa(h,u.getCompare())}else return Hi;else{const h=n.get(e.name);let d=o;return h&&(d=d.remove(new ie(e.name,h))),d.insert(e,e.node)}});return new pn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ia(this.indexes_,o=>{if(o===Hi)return o;{const a=n.get(e.name);return a?o.remove(new ie(e.name,a)):o}});return new pn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;class le{static get EMPTY_NODE(){return no||(no=new le(new dt(td),null,pn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_y(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||no}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?no:n}}getChild(e){const n=ee(e);return n===null?this:this.getImmediateChild(n).getChild(ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let o,a;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?no:this.priorityNode_;return new le(o,u,a)}}updateChild(e,n){const r=ee(e);if(r===null)return n;{z(ee(e)!==".priority"||Qn(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ye(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,a=!0;if(this.forEachChild(tt,(u,h)=>{n[u]=h.val(e),r++,a&&le.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*r){const u=[];for(const h in n)u[h]=n[h];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+my(this.getPriority().val())+":"),this.forEachChild(tt,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":Uv(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new ie(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ie.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ts?-1:0}withIndex(e){if(e===dr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===dr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(tt),o=n.getIterator(tt);let a=r.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=o.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===dr?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aP extends le{constructor(){super(new dt(td),le.EMPTY_NODE,pn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const ts=new aP;Object.defineProperties(ie,{MIN:{value:new ie(Sr,le.EMPTY_NODE)},MAX:{value:new ie(xi,ts)}});py.__EMPTY_NODE=le.EMPTY_NODE;je.__childrenNodeConstructor=le;tP(ts);iP(ts);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=!0;function Ge(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new je(n,Ge(e))}if(!(t instanceof Array)&&lP){const n=[];let r=!1;if(At(t,(u,h)=>{if(u.substring(0,1)!=="."){const d=Ge(h);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ie(u,d)))}}),n.length===0)return le.EMPTY_NODE;const a=Aa(n,eP,u=>u.name,td);if(r){const u=Aa(n,tt.getCompare());return new le(a,Ge(e),new pn({".priority":u},{".priority":tt}))}else return new le(a,Ge(e),pn.Default)}else{let n=le.EMPTY_NODE;return At(t,(r,o)=>{if(Tn(t,r)&&r.substring(0,1)!=="."){const a=Ge(o);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Ge(e))}}nP(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP extends sl{constructor(e){super(),this.indexPath_=e,z(!te(e)&&ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),a=r.compareTo(o);return a===0?Ir(e.name,n.name):a}makePost(e,n){const r=Ge(e),o=le.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,o)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,ts);return new ie(xi,e)}toString(){return cy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP extends sl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ir(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=Ge(e);return new ie(n,r)}toString(){return".value"}}const hP=new cP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){return{type:"value",snapshotNode:t}}function fP(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function pP(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xm(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sr}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new nd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tt?n="$priority":t.index_===hP?n="$value":t.index_===dr?n="$key":(z(t.index_ instanceof uP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ke(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Pm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends ay{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=es("p:rest:"),this.listens_={}}listen(e,n,r,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=ba.getListenId_(e,r),h={};this.listens_[u]=h;const d=Tm(e._queryParams);this.restRequest_(a+".json",d,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(a,_,!1,r),wr(this.listens_,u)===h){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,n){const r=ba.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Tm(e._queryParams),r=e._path.toString(),o=new rl;return this.restRequest_(r+".json",n,(a,u)=>{let h=u;a===404&&(h=null,a=null),a===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(n.auth=o.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ZE(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Uo(h.responseText)}catch{_t("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,d)}else h.status!==401&&h.status!==404&&_t("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){return{value:null,children:new Map}}function yy(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ee(e);t.children.has(r)||t.children.set(r,Da());const o=t.children.get(r);e=ye(e),yy(o,e,n)}}function Fc(t,e,n){t.value!==null?n(e,t.value):gP(t,(r,o)=>{const a=new Se(e.toString()+"/"+r);Fc(o,a,n)})}function gP(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&At(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=10*1e3,yP=30*1e3,wP=5*60*1e3;class SP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vP(e);const r=km+(yP-km)*Math.random();yo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;At(e,(o,a)=>{a>0&&Tn(this.statsToReport_,o)&&(n[o]=a,r=!0)}),r&&this.server_.reportStats(n),yo(this.reportStats_.bind(this),Math.floor(Math.random()*2*wP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function wy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=wy()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new za(he(),n,this.revert)}}else return z(ee(this.path)===e,"operationForChild called for unrelated child."),new za(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=tn.OVERWRITE}operationForChild(e){return te(this.path)?new Ti(this.source,he(),this.snap.getImmediateChild(e)):new Ti(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=tn.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new Ti(this.source,he(),n.value):new Vo(this.source,he(),n)}else return z(ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vo(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function CP(t,e,n,r){const o=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(mP(u.childName,u.snapshotNode))}),io(t,o,"child_removed",e,r,n),io(t,o,"child_added",e,r,n),io(t,o,"child_moved",a,r,n),io(t,o,"child_changed",e,r,n),io(t,o,"value",e,r,n),o}function io(t,e,n,r,o,a){const u=r.filter(h=>h.type===n);u.sort((h,d)=>xP(t,h,d)),u.forEach(h=>{const d=EP(t,h,a);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(d,t.query_))})})}function EP(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function xP(t,e,n){if(e.childName==null||n.childName==null)throw kr("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),o=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e){return{eventCache:t,serverCache:e}}function wo(t,e,n,r){return Ey(new id(e,n,r),t.serverCache)}function xy(t,e,n,r){return Ey(t.eventCache,new id(e,n,r))}function jc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;const TP=()=>(Lu||(Lu=new dt(hT)),Lu);class ve{static fromObject(e){let n=new ve(null);return At(e,(r,o)=>{n=n.set(new Se(r),o)}),n}constructor(e,n=TP()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(te(e))return null;{const r=ee(e),o=this.children.get(r);if(o!==null){const a=o.findRootMostMatchingPathAndValue(ye(e),n);return a!=null?{path:De(new Se(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=ee(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new ve(null)}}set(e,n){if(te(e))return new ve(n,this.children);{const r=ee(e),a=(this.children.get(r)||new ve(null)).set(ye(e),n),u=this.children.insert(r,a);return new ve(this.value,u)}}remove(e){if(te(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=ee(e),r=this.children.get(n);if(r){const o=r.remove(ye(e));let a;return o.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,o),this.value===null&&a.isEmpty()?new ve(null):new ve(this.value,a)}else return this}}get(e){if(te(e))return this.value;{const n=ee(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(te(e))return n;{const r=ee(e),a=(this.children.get(r)||new ve(null)).setTree(ye(e),n);let u;return a.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,a),new ve(this.value,u)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,a)=>{r[o]=a.fold_(De(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(te(e))return null;{const a=ee(e),u=this.children.get(a);return u?u.findOnPath_(ye(e),De(n,a),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const o=ee(e),a=this.children.get(o);return a?a.foreachOnPath_(ye(e),De(n,o),r):new ve(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(De(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.writeTree_=e}static empty(){return new $t(new ve(null))}}function So(t,e,n){if(te(e))return new $t(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let a=r.value;const u=Nt(o,e);return a=a.updateChild(u,n),new $t(t.writeTree_.set(o,a))}else{const o=new ve(n),a=t.writeTree_.setTree(e,o);return new $t(a)}}}function Lm(t,e,n){let r=t;return At(n,(o,a)=>{r=So(r,De(e,o),a)}),r}function Im(t,e){if(te(e))return $t.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new $t(n)}}function Uc(t,e){return Ri(t,e)!=null}function Ri(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nt(n.path,e)):null}function Nm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(r,o)=>{e.push(new ie(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ie(r,o.value))}),e}function Kn(t,e){if(te(e))return t;{const n=Ri(t,e);return n!=null?new $t(new ve(n)):new $t(t.writeTree_.subtree(e))}}function Wc(t){return t.writeTree_.isEmpty()}function Cr(t,e){return Ty(he(),t.writeTree_,e)}function Ty(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(z(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=Ty(De(t,o),a,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(De(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){return Ry(e,t)}function PP(t,e,n,r,o){z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=So(t.visibleWrites,e,n)),t.lastWriteId=r}function kP(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function LP(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let o=r.visible,a=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=n&&IP(h,r.path)?o=!1:Wt(r.path,h.path)&&(a=!0)),u--}if(o){if(a)return NP(t),!0;if(r.snap)t.visibleWrites=Im(t.visibleWrites,r.path);else{const h=r.children;At(h,d=>{t.visibleWrites=Im(t.visibleWrites,De(r.path,d))})}return!0}else return!1}function IP(t,e){if(t.snap)return Wt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Wt(De(t.path,n),e))return!0;return!1}function NP(t){t.visibleWrites=ky(t.allWrites,RP,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RP(t){return t.visible}function ky(t,e,n){let r=$t.empty();for(let o=0;o<t.length;++o){const a=t[o];if(e(a)){const u=a.path;let h;if(a.snap)Wt(n,u)?(h=Nt(n,u),r=So(r,h,a.snap)):Wt(u,n)&&(h=Nt(u,n),r=So(r,he(),a.snap.getChild(h)));else if(a.children){if(Wt(n,u))h=Nt(n,u),r=Lm(r,h,a.children);else if(Wt(u,n))if(h=Nt(u,n),te(h))r=Lm(r,he(),a.children);else{const d=wr(a.children,ee(h));if(d){const p=d.getChild(ye(h));r=So(r,he(),p)}}}else throw kr("WriteRecord should have .snap or .children")}}return r}function Ly(t,e,n,r,o){if(!r&&!o){const a=Ri(t.visibleWrites,e);if(a!=null)return a;{const u=Kn(t.visibleWrites,e);if(Wc(u))return n;if(n==null&&!Uc(u,he()))return null;{const h=n||le.EMPTY_NODE;return Cr(u,h)}}}else{const a=Kn(t.visibleWrites,e);if(!o&&Wc(a))return n;if(!o&&n==null&&!Uc(a,he()))return null;{const u=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(Wt(p.path,e)||Wt(e,p.path))},h=ky(t.allWrites,u,e),d=n||le.EMPTY_NODE;return Cr(h,d)}}}function MP(t,e,n){let r=le.EMPTY_NODE;const o=Ri(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(tt,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(n){const a=Kn(t.visibleWrites,e);return n.forEachChild(tt,(u,h)=>{const d=Cr(Kn(a,new Se(u)),h);r=r.updateImmediateChild(u,d)}),Nm(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const a=Kn(t.visibleWrites,e);return Nm(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function OP(t,e,n,r,o){z(r||o,"Either existingEventSnap or existingServerSnap must exist");const a=De(e,n);if(Uc(t.visibleWrites,a))return null;{const u=Kn(t.visibleWrites,a);return Wc(u)?o.getChild(n):Cr(u,o.getChild(n))}}function AP(t,e,n,r){const o=De(e,n),a=Ri(t.visibleWrites,o);if(a!=null)return a;if(r.isCompleteForChild(n)){const u=Kn(t.visibleWrites,o);return Cr(u,r.getNode().getImmediateChild(n))}else return null}function bP(t,e){return Ri(t.visibleWrites,e)}function DP(t,e,n,r,o,a,u){let h;const d=Kn(t.visibleWrites,e),p=Ri(d,he());if(p!=null)h=p;else if(n!=null)h=Cr(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const g=[],_=u.getCompare(),v=a?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let x=v.getNext();for(;x&&g.length<o;)_(x,r)!==0&&g.push(x),x=v.getNext();return g}else return[]}function zP(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Hc(t,e,n,r){return Ly(t.writeTree,t.treePath,e,n,r)}function Iy(t,e){return MP(t.writeTree,t.treePath,e)}function Rm(t,e,n,r){return OP(t.writeTree,t.treePath,e,n,r)}function Ba(t,e){return bP(t.writeTree,De(t.treePath,e))}function BP(t,e,n,r,o,a){return DP(t.writeTree,t.treePath,e,n,r,o,a)}function rd(t,e,n){return AP(t.writeTree,t.treePath,e,n)}function Ny(t,e){return Ry(De(t.treePath,e),t.writeTree)}function Ry(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const a=o.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,xm(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,pP(r,o.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,fP(r,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,xm(r,e.snapshotNode,o.oldSnap));else throw kr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const My=new jP;class od{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new id(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pi(this.viewCache_),a=BP(this.writes_,o,n,1,r,e);return a.length===0?null:a[0]}}function UP(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function WP(t,e,n,r,o){const a=new FP;let u,h;if(n.type===tn.OVERWRITE){const p=n;p.source.fromUser?u=Zc(t,e,p.path,p.snap,r,o,a):(z(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!te(p.path),u=Fa(t,e,p.path,p.snap,r,o,h,a))}else if(n.type===tn.MERGE){const p=n;p.source.fromUser?u=ZP(t,e,p.path,p.children,r,o,a):(z(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=Vc(t,e,p.path,p.children,r,o,h,a))}else if(n.type===tn.ACK_USER_WRITE){const p=n;p.revert?u=GP(t,e,p.path,r,o,a):u=VP(t,e,p.path,p.affectedTree,r,o,a)}else if(n.type===tn.LISTEN_COMPLETE)u=$P(t,e,n.path,r,a);else throw kr("Unknown operation type: "+n.type);const d=a.getChanges();return HP(e,u,d),{viewCache:u,changes:d}}function HP(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=jc(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(dP(jc(e)))}}function Oy(t,e,n,r,o,a){const u=e.eventCache;if(Ba(r,n)!=null)return e;{let h,d;if(te(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Pi(e),g=p instanceof le?p:le.EMPTY_NODE,_=Iy(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),_,a)}else{const p=Hc(r,Pi(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{const p=ee(n);if(p===".priority"){z(Qn(n)===1,"Can't have a priority with additional path components");const g=u.getNode();d=e.serverCache.getNode();const _=Rm(r,n,g,d);_!=null?h=t.filter.updatePriority(g,_):h=u.getNode()}else{const g=ye(n);let _;if(u.isCompleteForChild(p)){d=e.serverCache.getNode();const v=Rm(r,n,u.getNode(),d);v!=null?_=u.getNode().getImmediateChild(p).updateChild(g,v):_=u.getNode().getImmediateChild(p)}else _=rd(r,p,e.serverCache);_!=null?h=t.filter.updateChild(u.getNode(),p,_,g,o,a):h=u.getNode()}}return wo(e,h,u.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Fa(t,e,n,r,o,a,u,h){const d=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(te(n))p=g.updateFullNode(d.getNode(),r,null);else if(g.filtersNodes()&&!d.isFiltered()){const x=d.getNode().updateChild(n,r);p=g.updateFullNode(d.getNode(),x,null)}else{const x=ee(n);if(!d.isCompleteForPath(n)&&Qn(n)>1)return e;const T=ye(n),b=d.getNode().getImmediateChild(x).updateChild(T,r);x===".priority"?p=g.updatePriority(d.getNode(),b):p=g.updateChild(d.getNode(),x,b,T,My,null)}const _=xy(e,p,d.isFullyInitialized()||te(n),g.filtersNodes()),v=new od(o,_,a);return Oy(t,_,n,o,v,h)}function Zc(t,e,n,r,o,a,u){const h=e.eventCache;let d,p;const g=new od(o,e,a);if(te(n))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),d=wo(e,p,!0,t.filter.filtersNodes());else{const _=ee(n);if(_===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),d=wo(e,p,h.isFullyInitialized(),h.isFiltered());else{const v=ye(n),x=h.getNode().getImmediateChild(_);let T;if(te(v))T=r;else{const k=g.getCompleteChild(_);k!=null?uy(v)===".priority"&&k.getChild(hy(v)).isEmpty()?T=k:T=k.updateChild(v,r):T=le.EMPTY_NODE}if(x.equals(T))d=e;else{const k=t.filter.updateChild(h.getNode(),_,T,v,g,u);d=wo(e,k,h.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function Mm(t,e){return t.eventCache.isCompleteForChild(e)}function ZP(t,e,n,r,o,a,u){let h=e;return r.foreach((d,p)=>{const g=De(n,d);Mm(e,ee(g))&&(h=Zc(t,h,g,p,o,a,u))}),r.foreach((d,p)=>{const g=De(n,d);Mm(e,ee(g))||(h=Zc(t,h,g,p,o,a,u))}),h}function Om(t,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Vc(t,e,n,r,o,a,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;te(n)?p=r:p=new ve(null).setTree(n,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,v)=>{if(g.hasChild(_)){const x=e.serverCache.getNode().getImmediateChild(_),T=Om(t,x,v);d=Fa(t,d,new Se(_),T,o,a,u,h)}}),p.children.inorderTraversal((_,v)=>{const x=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!g.hasChild(_)&&!x){const T=e.serverCache.getNode().getImmediateChild(_),k=Om(t,T,v);d=Fa(t,d,new Se(_),k,o,a,u,h)}}),d}function VP(t,e,n,r,o,a,u){if(Ba(o,n)!=null)return e;const h=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(te(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Fa(t,e,n,d.getNode().getChild(n),o,a,h,u);if(te(n)){let p=new ve(null);return d.getNode().forEachChild(dr,(g,_)=>{p=p.set(new Se(g),_)}),Vc(t,e,n,p,o,a,h,u)}else return e}else{let p=new ve(null);return r.foreach((g,_)=>{const v=De(n,g);d.isCompleteForPath(v)&&(p=p.set(g,d.getNode().getChild(v)))}),Vc(t,e,n,p,o,a,h,u)}}function $P(t,e,n,r,o){const a=e.serverCache,u=xy(e,a.getNode(),a.isFullyInitialized()||te(n),a.isFiltered());return Oy(t,u,n,r,My,o)}function GP(t,e,n,r,o,a){let u;if(Ba(r,n)!=null)return e;{const h=new od(r,e,o),d=e.eventCache.getNode();let p;if(te(n)||ee(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Hc(r,Pi(e));else{const _=e.serverCache.getNode();z(_ instanceof le,"serverChildren would be complete if leaf node"),g=Iy(r,_)}g=g,p=t.filter.updateFullNode(d,g,a)}else{const g=ee(n);let _=rd(r,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=d.getImmediateChild(g)),_!=null?p=t.filter.updateChild(d,g,_,ye(n),h,a):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,le.EMPTY_NODE,ye(n),h,a):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Hc(r,Pi(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,a)))}return u=e.serverCache.isFullyInitialized()||Ba(r,he())!=null,wo(e,p,u,t.filter.filtersNodes())}}function KP(t,e){const n=Pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(ee(e)).isEmpty())?n.getChild(e):null}function Am(t,e,n,r){e.type===tn.MERGE&&e.source.queryId!==null&&(z(Pi(t.viewCache_),"We should always have a full cache before handling merges"),z(jc(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,a=WP(t.processor_,o,e,n,r);return UP(t.processor_,a.viewCache),z(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,YP(t,a.changes,a.viewCache.eventCache.getNode())}function YP(t,e,n,r){const o=t.eventRegistrations_;return CP(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm;function qP(t){z(!bm,"__referenceConstructor has already been defined"),bm=t}function sd(t,e,n,r){const o=e.source.queryId;if(o!==null){const a=t.views.get(o);return z(a!=null,"SyncTree gave us an op for an invalid query."),Am(a,e,n,r)}else{let a=[];for(const u of t.views.values())a=a.concat(Am(u,e,n,r));return a}}function ad(t,e){let n=null;for(const r of t.views.values())n=n||KP(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm;function QP(t){z(!Dm,"__referenceConstructor has already been defined"),Dm=t}class zm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=zP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ay(t,e,n,r,o){return PP(t.pendingWriteTree_,e,n,r,o),o?ll(t,new Ti(wy(),e,n)):[]}function _i(t,e,n=!1){const r=kP(t.pendingWriteTree_,e);if(LP(t.pendingWriteTree_,e)){let a=new ve(null);return r.snap!=null?a=a.set(he(),!0):At(r.children,u=>{a=a.set(new Se(u),!0)}),ll(t,new za(r.path,a,n))}else return[]}function al(t,e,n){return ll(t,new Ti(Sy(),e,n))}function XP(t,e,n){const r=ve.fromObject(n);return ll(t,new Vo(Sy(),e,r))}function JP(t,e,n,r){const o=zy(t,r);if(o!=null){const a=By(o),u=a.path,h=a.queryId,d=Nt(u,e),p=new Ti(Cy(h),d,n);return Fy(t,u,p)}else return[]}function ek(t,e,n,r){const o=zy(t,r);if(o){const a=By(o),u=a.path,h=a.queryId,d=Nt(u,e),p=ve.fromObject(n),g=new Vo(Cy(h),d,p);return Fy(t,u,g)}else return[]}function ld(t,e,n){const o=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,h)=>{const d=Nt(u,e),p=ad(h,d);if(p)return p});return Ly(o,e,a,n,!0)}function ll(t,e){return by(e,t.syncPointTree_,null,Py(t.pendingWriteTree_,he()))}function by(t,e,n,r){if(te(t.path))return Dy(t,e,n,r);{const o=e.get(he());n==null&&o!=null&&(n=ad(o,he()));let a=[];const u=ee(t.path),h=t.operationForChild(u),d=e.children.get(u);if(d&&h){const p=n?n.getImmediateChild(u):null,g=Ny(r,u);a=a.concat(by(h,d,p,g))}return o&&(a=a.concat(sd(o,t,r,n))),a}}function Dy(t,e,n,r){const o=e.get(he());n==null&&o!=null&&(n=ad(o,he()));let a=[];return e.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,p=Ny(r,u),g=t.operationForChild(u);g&&(a=a.concat(Dy(g,h,d,p)))}),o&&(a=a.concat(sd(o,t,r,n))),a}function zy(t,e){return t.tagToQueryMap.get(e)}function By(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function Fy(t,e,n){const r=t.syncPointTree_.get(e);z(r,"Missing sync point for query tag that we're tracking");const o=Py(t.pendingWriteTree_,e);return sd(r,n,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ud(n)}node(){return this.node_}}class cd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=De(this.path_,e);return new cd(this.syncTree_,n)}node(){return ld(this.syncTree_,this.path_)}}const tk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Bm=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return nk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ik(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},nk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},ik=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const o=e.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const u=o.getValue();return typeof u!="number"?r:u+r},rk=function(t,e,n,r){return hd(e,new cd(n,t),r)},jy=function(t,e,n){return hd(t,new ud(e),n)};function hd(t,e,n){const r=t.getPriority().val(),o=Bm(r,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,h=Bm(u.getValue(),e,n);return h!==u.getValue()||o!==u.getPriority().val()?new je(h,Ge(o)):t}else{const u=t;return a=u,o!==u.getPriority().val()&&(a=a.updatePriority(new je(o))),u.forEachChild(tt,(h,d)=>{const p=hd(d,e.getImmediateChild(h),n);p!==d&&(a=a.updateImmediateChild(h,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function fd(t,e){let n=e instanceof Se?e:new Se(e),r=t,o=ee(n);for(;o!==null;){const a=wr(r.node.children,o)||{children:{},childCount:0};r=new dd(o,r,a),n=ye(n),o=ee(n)}return r}function Rr(t){return t.node.value}function Uy(t,e){t.node.value=e,$c(t)}function Wy(t){return t.node.childCount>0}function ok(t){return Rr(t)===void 0&&!Wy(t)}function ul(t,e){At(t.node.children,(n,r)=>{e(new dd(n,t,r))})}function Hy(t,e,n,r){n&&!r&&e(t),ul(t,o=>{Hy(o,e,!0,r)}),n&&r&&e(t)}function sk(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ns(t){return new Se(t.parent===null?t.name:ns(t.parent)+"/"+t.name)}function $c(t){t.parent!==null&&ak(t.parent,t.name,t)}function ak(t,e,n){const r=ok(n),o=Tn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,$c(t)):!r&&!o&&(t.node.children[e]=n.node,t.node.childCount++,$c(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/[\[\].#$\/\u0000-\u001F\u007F]/,uk=/[\[\].#$\u0000-\u001F\u007F]/,Iu=10*1024*1024,Zy=function(t){return typeof t=="string"&&t.length!==0&&!lk.test(t)},Vy=function(t){return typeof t=="string"&&t.length!==0&&!uk.test(t)},ck=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vy(t)},$y=function(t,e,n,r){r&&e===void 0||pd(Kh(t,"value"),e,n)},pd=function(t,e,n){const r=n instanceof Se?new $T(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ci(r));if(typeof e=="function")throw new Error(t+"contains a function "+ci(r)+" with contents = "+e.toString());if(Wv(e))throw new Error(t+"contains "+e.toString()+" "+ci(r));if(typeof e=="string"&&e.length>Iu/3&&ol(e)>Iu)throw new Error(t+"contains a string greater than "+Iu+" utf8 bytes "+ci(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(At(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!Zy(u)))throw new Error(t+" contains an invalid key ("+u+") "+ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GT(r,u),pd(t,h,r),KT(r)}),o&&a)throw new Error(t+' contains ".value" child '+ci(r)+" in addition to actual children.")}},Gy=function(t,e,n,r){if(!Vy(n))throw new Error(Kh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hk=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gy(t,e,n)},Ky=function(t,e){if(ee(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},dk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Zy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ck(n))throw new Error(Kh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yy(t,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],a=o.getPath();n!==null&&!dy(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(o)}n&&t.eventLists_.push(n)}function En(t,e,n){Yy(t,n),pk(t,r=>Wt(r,e)||Wt(e,r))}function pk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const a=o.path;e(a)?(mk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function mk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();vo&&et("event: "+n.toString()),Nr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="repo_interrupt",gk=25;class vk{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Da(),this.transactionQueueTree_=new dd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yk(t,e,n){if(t.stats_=Xh(t.repoInfo_),t.forceRestClient_||gT())t.server_=new ba(t.repoInfo_,(r,o,a,u)=>{Fm(t,r,o,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _n(t.repoInfo_,e,(r,o,a,u)=>{Fm(t,r,o,a,u)},r=>{jm(t,r)},r=>{wk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=CT(t.repoInfo_,()=>new SP(t.stats_,t.server_)),t.infoData_=new _P,t.infoSyncTree_=new zm({startListening:(r,o,a,u)=>{let h=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(h=al(t.infoSyncTree_,r._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),_d(t,"connected",!1),t.serverSyncTree_=new zm({startListening:(r,o,a,u)=>(t.server_.listen(r,a,o,(h,d)=>{const p=u(h,d);En(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function qy(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function md(t){return tk({timestamp:qy(t)})}function Fm(t,e,n,r,o){t.dataUpdateCount++;const a=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(r){const d=Ia(n,p=>Ge(p));u=ek(t.serverSyncTree_,a,d,o)}else{const d=Ge(n);u=JP(t.serverSyncTree_,a,d,o)}else if(r){const d=Ia(n,p=>Ge(p));u=XP(t.serverSyncTree_,a,d)}else{const d=Ge(n);u=al(t.serverSyncTree_,a,d)}let h=a;u.length>0&&(h=cl(t,a)),En(t.eventQueue_,h,u)}function jm(t,e){_d(t,"connected",e),e===!1&&Ck(t)}function wk(t,e){At(e,(n,r)=>{_d(t,n,r)})}function _d(t,e,n){const r=new Se("/.info/"+e),o=Ge(n);t.infoData_.updateSnapshot(r,o);const a=al(t.infoSyncTree_,r,o);En(t.eventQueue_,r,a)}function Qy(t){return t.nextWriteId_++}function Sk(t,e,n,r,o){gd(t,"set",{path:e.toString(),value:n,priority:r});const a=md(t),u=Ge(n,r),h=ld(t.serverSyncTree_,e),d=jy(u,h,a),p=Qy(t),g=Ay(t.serverSyncTree_,e,d,p,!0);Yy(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(v,x)=>{const T=v==="ok";T||_t("set at "+e+" failed: "+v);const k=_i(t.serverSyncTree_,p,!T);En(t.eventQueue_,e,k),xk(t,o,v,x)});const _=n0(t,e);cl(t,_),En(t.eventQueue_,_,[])}function Ck(t){gd(t,"onDisconnectEvents");const e=md(t),n=Da();Fc(t.onDisconnect_,he(),(o,a)=>{const u=rk(o,a,t.serverSyncTree_,e);yy(n,o,u)});let r=[];Fc(n,he(),(o,a)=>{r=r.concat(al(t.serverSyncTree_,o,a));const u=n0(t,o);cl(t,u)}),t.onDisconnect_=Da(),En(t.eventQueue_,he(),r)}function Ek(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_k)}function gd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function xk(t,e,n,r){e&&Nr(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let a=o;r&&(a+=": "+r);const u=new Error(a);u.code=o,e(u)}})}function Xy(t,e,n){return ld(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function vd(t,e=t.transactionQueueTree_){if(e||hl(t,e),Rr(e)){const n=e0(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&Tk(t,ns(e),n)}else Wy(e)&&ul(e,n=>{vd(t,n)})}function Tk(t,e,n){const r=n.map(p=>p.currentWriteId),o=Xy(t,e,r);let a=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];z(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=Nt(e,g.path);a=a.updateChild(_,g.currentOutputSnapshotRaw)}const h=a.val(!0),d=e;t.server_.put(d.toString(),h,p=>{gd(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(_i(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();hl(t,fd(t.transactionQueueTree_,e)),vd(t,t.transactionQueueTree_),En(t.eventQueue_,e,g);for(let v=0;v<_.length;v++)Nr(_[v])}else{if(p==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{_t("transaction at "+d.toString()+" failed: "+p);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=p}cl(t,e)}},u)}function cl(t,e){const n=Jy(t,e),r=ns(n),o=e0(t,n);return Pk(t,o,r),r}function Pk(t,e,n){if(e.length===0)return;const r=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const d=e[h],p=Nt(n,d.path);let g=!1,_;if(z(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,_=d.abortReason,o=o.concat(_i(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=gk)g=!0,_="maxretry",o=o.concat(_i(t.serverSyncTree_,d.currentWriteId,!0));else{const v=Xy(t,d.path,u);d.currentInputSnapshot=v;const x=e[h].update(v.val());if(x!==void 0){pd("transaction failed: Data returned ",x,d.path);let T=Ge(x);typeof x=="object"&&x!=null&&Tn(x,".priority")||(T=T.updatePriority(v.getPriority()));const b=d.currentWriteId,S=md(t),y=jy(T,v,S);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=y,d.currentWriteId=Qy(t),u.splice(u.indexOf(b),1),o=o.concat(Ay(t.serverSyncTree_,d.path,y,d.currentWriteId,d.applyLocally)),o=o.concat(_i(t.serverSyncTree_,b,!0))}else g=!0,_="nodata",o=o.concat(_i(t.serverSyncTree_,d.currentWriteId,!0))}En(t.eventQueue_,n,o),o=[],g&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(_==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(_),!1,null))))}hl(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)Nr(r[h]);vd(t,t.transactionQueueTree_)}function Jy(t,e){let n,r=t.transactionQueueTree_;for(n=ee(e);n!==null&&Rr(r)===void 0;)r=fd(r,n),e=ye(e),n=ee(e);return r}function e0(t,e){const n=[];return t0(t,e,n),n.sort((r,o)=>r.order-o.order),n}function t0(t,e,n){const r=Rr(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);ul(e,o=>{t0(t,o,n)})}function hl(t,e){const n=Rr(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,Uy(e,n.length>0?n:void 0)}ul(e,r=>{hl(t,r)})}function n0(t,e){const n=ns(Jy(t,e)),r=fd(t.transactionQueueTree_,e);return sk(r,o=>{Nu(t,o)}),Nu(t,r),Hy(r,o=>{Nu(t,o)}),n}function Nu(t,e){const n=Rr(e);if(n){const r=[];let o=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(z(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(z(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(_i(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&r.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Uy(e,void 0):n.length=a+1,En(t.eventQueue_,ns(e),o);for(let u=0;u<r.length;u++)Nr(r[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Lk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_t(`Invalid query segment '${n}' in query '${t}'`)}return e}const Um=function(t,e){const n=Ik(t),r=n.namespace;n.domain==="firebase.com"&&Cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uT();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ey(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new Se(n.pathString)}},Ik=function(t){let e="",n="",r="",o="",a="",u=!0,h="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(g,_)),g<_&&(o=kk(t.substring(g,_)));const v=Lk(t.substring(Math.min(t.length,_)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),a=r}"ns"in v&&(a=v.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:u,scheme:h,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nk=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let o;const a=new Array(8);for(o=7;o>=0;o--)a[o]=Wm.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let u=a.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=Wm.charAt(e[o]);return z(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return te(this._path)?null:uy(this._path)}get ref(){return new Mi(this._repo,this._path)}get _queryIdentifier(){const e=Pm(this._queryParams),n=qh(e);return n==="{}"?"default":n}get _queryObject(){return Pm(this._queryParams)}isEqual(e){if(e=Lr(e),!(e instanceof yd))return!1;const n=this._repo===e._repo,r=dy(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+VT(this._path)}}class Mi extends yd{constructor(e,n){super(e,n,new nd,!1)}get parent(){const e=hy(this._path);return e===null?null:new Mi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Rk(t,e){return t=Lr(t),t._checkNotDeleted("ref"),Gc(t._root,e)}function Gc(t,e){return t=Lr(t),ee(t._path)===null?hk("child","path",e):Gy("child","path",e),new Mi(t._repo,De(t._path,e))}function Mk(t,e){t=Lr(t),Ky("push",t._path),$y("push",e,t._path,!0);const n=qy(t._repo),r=Nk(n),o=Gc(t,r),a=Gc(t,r);let u;return e!=null?u=Ok(a,e).then(()=>a):u=Promise.resolve(a),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function Ok(t,e){t=Lr(t),Ky("set",t._path),$y("set",e,t._path,!1);const n=new rl;return Sk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}qP(Mi);QP(Mi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="FIREBASE_DATABASE_EMULATOR_HOST",Kc={};let bk=!1;function Dk(t,e,n,r){t.repoInfo_=new ey(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zk(t,e,n,r,o){let a=r||t.options.databaseURL;a===void 0&&(t.options.projectId||Cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Um(a,o),h=u.repoInfo,d;typeof process<"u"&&am&&(d=am[Ak]),d?(a=`http://${d}?ns=${h.namespace}`,u=Um(a,o),h=u.repoInfo):u.repoInfo.secure;const p=new yT(t.name,t.options,e);dk("Invalid Firebase Database URL",u),te(u.path)||Cn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=Fk(h,t,p,new vT(t.name,n));return new jk(g,t)}function Bk(t,e){const n=Kc[e];(!n||n[t.key]!==t)&&Cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ek(t),delete n[t.key]}function Fk(t,e,n,r){let o=Kc[e.name];o||(o={},Kc[e.name]=o);let a=o[t.toURLString()];return a&&Cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new vk(t,bk,n,r),o[t.toURLString()]=a,a}class jk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(yk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mi(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Bk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Cn("Cannot call "+e+" on a deleted database.")}}function Uk(t=Gx(),e){const n=Hx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=OE("database");r&&Wk(n,...r)}return n}function Wk(t,e,n,r={}){t=Lr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Cn("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new ea(ea.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:AE(r.mockUserToken,t.app.options.projectId);a=new ea(u)}Dk(o,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){iT($x),Ra(new Wo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return zk(r,o,a,n)},"PUBLIC").setMultipleInstances(!0)),cr(lm,um,t),cr(lm,um,"esm2017")}_n.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_n.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Hk();var Zk="firebase",Vk="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(Zk,Vk,"app");const $k={apiKey:void 0,authDomain:void 0,projectId:"raccoon-recon",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Gk=Dv($k),Kk=Uk(Gk),Yk=({value:t,onChange:e})=>{const[n,r]=O.useState("");O.useEffect(()=>{const u=new Date().toISOString().slice(0,16);r(u)});const o=a=>{e(a.target.value)};return I.jsxs("div",{children:[I.jsx("h2",{children:"When did you see the raccoon?"}),I.jsx("input",{type:"datetime-local",value:t||"",onChange:o,max:n})]})},Hm=({groupName:t,options:e,selectedValues:n,onChange:r})=>{const[o,a]=O.useState(e.reduce((h,[d,p])=>({...h,[d]:(n==null?void 0:n[d])||!1}),{})),u=h=>{const{name:d,checked:p}=h.target,g={...o,[d]:p};a(g),r(g)};return I.jsxs("div",{children:[I.jsx("h2",{children:t}),I.jsx("h3",{children:"Select at least one"}),e.map(([h,d])=>I.jsxs("label",{className:`checkboxContainer ${o[h]?"checked":""}`,children:[I.jsx("input",{type:"checkbox",name:h,checked:o[h],onChange:u,className:"checkboxInput"}),I.jsx("span",{className:"checkboxContent",children:d})]},h))]})};function qk({location:t,onChange:e}){const[n,r]=O.useState(t),o=()=>(_E({click(a){const{lat:u,lng:h}=a.latlng;r([u,h]),e&&e([u,h])}}),null);return I.jsxs("div",{children:[I.jsx("h2",{children:"Where did you see the raccoon?"}),I.jsx("h3",{children:"Please pin the location below."}),I.jsx("section",{role:"application",style:{height:"400px",width:"100%"},children:I.jsxs(Vh,{center:n,zoom:13,style:{height:"400px",width:"100%"},children:[I.jsx($h,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),I.jsx(o,{}),I.jsx(Cv,{position:n})]})})]})}function Qk({location:t}){return I.jsx("div",{children:I.jsx("section",{role:"application",style:{height:"400px",width:"100%"},children:I.jsxs(Vh,{center:t,zoom:16,style:{height:"400px",width:"100%"},children:[I.jsx($h,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),I.jsx(Cv,{position:t})]})})})}const Xk=({data:t,prevStep:e,onSubmit:n})=>{const r={behaviour:Object.keys(t.behaviour).filter(a=>t.behaviour[a]),condition:Object.keys(t.condition).filter(a=>t.condition[a])},o=a=>{const u=new Date(a),h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return u.toLocaleString("en-US",h)};return I.jsxs("div",{className:"summary",children:[I.jsx("h2",{children:"Summary"}),I.jsx(Qk,{location:t.location}),I.jsxs("p",{children:[I.jsx("strong",{children:"Time of sighting:"})," ",o(t.time)]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Behaviour(s):"})," ",r.behaviour.join(", ")]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Condition(s):"})," ",r.condition.join(", ")]}),I.jsxs("div",{className:"buttonGroup",children:[I.jsx("button",{role:"button",onClick:e,children:"Back"}),I.jsx("button",{role:"Submit",onClick:n,children:"Submit"})]})]})};function Jk(){const[t,e]=O.useState(10),n=hv();return O.useEffect(()=>{t<=0&&n("/");const r=setInterval(()=>{e(o=>o-1)},1e3);return()=>clearInterval(r)},[t,n]),I.jsxs("div",{className:"formContainer thanks",children:[I.jsx("h2",{children:"Thank you for contributing!"}),I.jsxs("p",{children:["Returning home in ",I.jsx("span",{children:t})," seconds..."]}),I.jsx("div",{className:"buttonGroup",children:I.jsx(pi,{to:"/dashboard",children:I.jsx("button",{type:"button",children:"VIEW THE DASHBOARD"})})})]})}const eL=()=>{const[t,e]=O.useState(1),[n,r]=O.useState({time:null,location:[43.642556,-79.387083],behaviour:{},condition:{}}),o=(_,v)=>{r(x=>({...x,[_]:v}))},[a,u]=O.useState(""),h=()=>!n.location||!n.time||!Object.values(n.behaviour).some(Boolean)||!Object.values(n.condition).some(Boolean)?(u("You didn't complete the form!"),!1):(u(""),!0),d=()=>{if(h()){const _={...n,behaviour:Object.keys(n.behaviour).filter(x=>n.behaviour[x]),condition:Object.keys(n.condition).filter(x=>n.condition[x]),timestamp:Date.now()},v=Rk(Kk,"submissions");Mk(v,_).then(()=>{console.log("Submitted"),e(3)}).catch(x=>{console.error("Error saving data",x),u("Failed to save data. Please try again.")})}},p=()=>{h()&&(console.log("Moving to the next step"),e(_=>_+1))},g=()=>{console.log("Going back to the previous step"),e(_=>_-1)};return I.jsxs("div",{className:"formContainer",children:[t===1&&I.jsxs("div",{className:"submissionForm",children:[I.jsx("h2",{children:"This is a submission form."}),I.jsx(qk,{location:n.location,onChange:_=>o("location",_)}),I.jsx(Yk,{value:n.time,onChange:_=>o("time",_)}),I.jsx(Hm,{groupName:"What behaviour did you observe?",options:[["aggressive","Aggressive (e.g., growling, hissing, showing teeth)"],["moving","Movement (e.g. running around)"],["foraging","Foraging (e.g. digging through trash, searching for food)"],["resting","Resting (e.g. sitting, lying down)"]],selectedValues:n.behaviour,onChange:_=>o("behaviour",_)}),I.jsx(Hm,{groupName:"What condition was the raccoon in?",options:[["healthy","Healthy (good health with no visible issues)"],["sick","Sick/Ill (e.g. lethargy, unusual behavior)"],["injured","Had visible injuries or mobility issues"],["dead","Deceased or unresponsive"]],selectedValues:n.condition,onChange:_=>o("condition",_)}),I.jsx("div",{className:"buttonGroup",children:I.jsx("button",{type:"button",onClick:p,children:"Next"})}),a&&I.jsx("p",{className:"error",children:a})]}),t===2&&I.jsx("div",{className:"submissionForm",children:I.jsx(Xk,{data:n,prevStep:g,onSubmit:d})}),t===3&&I.jsx("div",{className:"submissionForm",children:I.jsx(Jk,{})})]})};function tL(){return I.jsx(QC,{children:I.jsxs("div",{className:"pageContainer",children:[I.jsx(tE,{}),I.jsx("main",{children:I.jsxs(ZC,{children:[I.jsx(Js,{path:"/",element:I.jsx(iE,{})}),I.jsx(Js,{path:"/submissions",element:I.jsx(eL,{})}),I.jsx(Js,{path:"/dashboard",element:I.jsx(EE,{})})]})}),I.jsx(nE,{})]})})}nv(document.getElementById("root")).render(I.jsx(O.StrictMode,{children:I.jsx(tL,{})}));
