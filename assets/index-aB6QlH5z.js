var T1=Object.defineProperty;var P1=(e,t,n)=>t in e?T1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dt=(e,t,n)=>P1(e,typeof t!="symbol"?t+"":t,n);function I1(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(e,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r0={exports:{}},$u={},o0={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a=Symbol.for("react.element"),O1=Symbol.for("react.portal"),R1=Symbol.for("react.fragment"),N1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),D1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),F1=Symbol.for("react.forward_ref"),B1=Symbol.for("react.suspense"),j1=Symbol.for("react.memo"),H1=Symbol.for("react.lazy"),Ag=Symbol.iterator;function W1(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var a0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l0=Object.assign,u0={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=u0,this.updater=n||a0}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function c0(){}c0.prototype=Sr.prototype;function kf(e,t,n){this.props=e,this.context=t,this.refs=u0,this.updater=n||a0}var Tf=kf.prototype=new c0;Tf.constructor=kf;l0(Tf,Sr.prototype);Tf.isPureReactComponent=!0;var Dg=Array.isArray,h0=Object.prototype.hasOwnProperty,Pf={current:null},d0={key:!0,ref:!0,__self:!0,__source:!0};function f0(e,t,n){var i,s={},r=null,a=null;if(t!=null)for(i in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(r=""+t.key),t)h0.call(t,i)&&!d0.hasOwnProperty(i)&&(s[i]=t[i]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps,u)s[i]===void 0&&(s[i]=u[i]);return{$$typeof:_a,type:e,key:r,ref:a,props:s,_owner:Pf.current}}function U1(e,t){return{$$typeof:_a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function If(e){return typeof e=="object"&&e!==null&&e.$$typeof===_a}function V1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zg=/\/+/g;function nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V1(""+e.key):t.toString(36)}function Il(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _a:case O1:a=!0}}if(a)return a=e,s=s(a),e=i===""?"."+nh(a,0):i,Dg(s)?(n="",e!=null&&(n=e.replace(zg,"$&/")+"/"),Il(s,t,n,"",function(d){return d})):s!=null&&(If(s)&&(s=U1(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(zg,"$&/")+"/")+e)),t.push(s)),1;if(a=0,i=i===""?".":i+":",Dg(e))for(var u=0;u<e.length;u++){r=e[u];var c=i+nh(r,u);a+=Il(r,t,n,c,s)}else if(c=W1(e),typeof c=="function")for(e=c.call(e),u=0;!(r=e.next()).done;)r=r.value,c=i+nh(r,u++),a+=Il(r,t,n,c,s);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qa(e,t,n){if(e==null)return e;var i=[],s=0;return Il(e,i,"","",function(r){return t.call(n,r,s++)}),i}function $1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xe={current:null},Ll={transition:null},Z1={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Ll,ReactCurrentOwner:Pf};function p0(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:qa,forEach:function(e,t,n){qa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qa(e,function(){t++}),t},toArray:function(e){return qa(e,function(t){return t})||[]},only:function(e){if(!If(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=Sr;lt.Fragment=R1;lt.Profiler=A1;lt.PureComponent=kf;lt.StrictMode=N1;lt.Suspense=B1;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1;lt.act=p0;lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=l0({},e.props),s=e.key,r=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,a=Pf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)h0.call(t,c)&&!d0.hasOwnProperty(c)&&(i[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:_a,type:e.type,key:s,ref:r,props:i,_owner:a}};lt.createContext=function(e){return e={$$typeof:z1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D1,_context:e},e.Consumer=e};lt.createElement=f0;lt.createFactory=function(e){var t=f0.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:F1,render:e}};lt.isValidElement=If;lt.lazy=function(e){return{$$typeof:H1,_payload:{_status:-1,_result:e},_init:$1}};lt.memo=function(e,t){return{$$typeof:j1,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=Ll.transition;Ll.transition={};try{e()}finally{Ll.transition=t}};lt.unstable_act=p0;lt.useCallback=function(e,t){return xe.current.useCallback(e,t)};lt.useContext=function(e){return xe.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return xe.current.useDeferredValue(e)};lt.useEffect=function(e,t){return xe.current.useEffect(e,t)};lt.useId=function(){return xe.current.useId()};lt.useImperativeHandle=function(e,t,n){return xe.current.useImperativeHandle(e,t,n)};lt.useInsertionEffect=function(e,t){return xe.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return xe.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return xe.current.useMemo(e,t)};lt.useReducer=function(e,t,n){return xe.current.useReducer(e,t,n)};lt.useRef=function(e){return xe.current.useRef(e)};lt.useState=function(e){return xe.current.useState(e)};lt.useSyncExternalStore=function(e,t,n){return xe.current.useSyncExternalStore(e,t,n)};lt.useTransition=function(){return xe.current.useTransition()};lt.version="18.3.1";o0.exports=lt;var R=o0.exports;const lr=M1(R),G1=I1({__proto__:null,default:lr},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=R,K1=Symbol.for("react.element"),q1=Symbol.for("react.fragment"),Q1=Object.prototype.hasOwnProperty,X1=Y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J1={key:!0,ref:!0,__self:!0,__source:!0};function m0(e,t,n){var i,s={},r=null,a=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)Q1.call(t,i)&&!J1.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:K1,type:e,key:r,ref:a,props:s,_owner:X1.current}}$u.Fragment=q1;$u.jsx=m0;$u.jsxs=m0;r0.exports=$u;var T=r0.exports,g0={exports:{}},je={},_0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,Q){var j=A.length;A.push(Q);t:for(;0<j;){var Y=j-1>>>1,et=A[Y];if(0<s(et,Q))A[Y]=Q,A[j]=et,j=Y;else break t}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var Q=A[0],j=A.pop();if(j!==Q){A[0]=j;t:for(var Y=0,et=A.length,kt=et>>>1;Y<kt;){var ut=2*(Y+1)-1,it=A[ut],K=ut+1,Ce=A[K];if(0>s(it,j))K<et&&0>s(Ce,it)?(A[Y]=Ce,A[K]=j,Y=K):(A[Y]=it,A[ut]=j,Y=ut);else if(K<et&&0>s(Ce,j))A[Y]=Ce,A[K]=j,Y=K;else break t}}return Q}function s(A,Q){var j=A.sortIndex-Q.sortIndex;return j!==0?j:A.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],d=[],p=1,m=null,_=3,v=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=A)i(d),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(d)}}function P(A){if(S=!1,b(A),!x)if(n(c)!==null)x=!0,ct(M);else{var Q=n(d);Q!==null&&Bt(P,Q.startTime-A)}}function M(A,Q){x=!1,S&&(S=!1,w(F),F=-1),v=!0;var j=_;try{for(b(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||A&&!$());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,_=m.priorityLevel;var et=Y(m.expirationTime<=Q);Q=e.unstable_now(),typeof et=="function"?m.callback=et:m===n(c)&&i(c),b(Q)}else i(c);m=n(c)}if(m!==null)var kt=!0;else{var ut=n(d);ut!==null&&Bt(P,ut.startTime-Q),kt=!1}return kt}finally{m=null,_=j,v=!1}}var N=!1,D=null,F=-1,Z=5,U=-1;function $(){return!(e.unstable_now()-U<Z)}function q(){if(D!==null){var A=e.unstable_now();U=A;var Q=!0;try{Q=D(!0,A)}finally{Q?Ft():(N=!1,D=null)}}else N=!1}var Ft;if(typeof C=="function")Ft=function(){C(q)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,Et=Rt.port2;Rt.port1.onmessage=q,Ft=function(){Et.postMessage(null)}}else Ft=function(){E(q,0)};function ct(A){D=A,N||(N=!0,Ft())}function Bt(A,Q){F=E(function(){A(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ct(M))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var j=_;_=Q;try{return A()}finally{_=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,Q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var j=_;_=A;try{return Q()}finally{_=j}},e.unstable_scheduleCallback=function(A,Q,j){var Y=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Y+j:Y):j=Y,A){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=j+et,A={id:p++,callback:Q,priorityLevel:A,startTime:j,expirationTime:et,sortIndex:-1},j>Y?(A.sortIndex=j,t(d,A),n(c)===null&&A===n(d)&&(S?(w(F),F=-1):S=!0,Bt(P,j-Y))):(A.sortIndex=et,t(c,A),x||v||(x=!0,ct(M))),A},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(A){var Q=_;return function(){var j=_;_=Q;try{return A.apply(this,arguments)}finally{_=j}}}})(v0);_0.exports=v0;var tE=_0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE=R,Be=tE;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y0=new Set,zo={};function vs(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(zo[e]=t,e=0;e<t.length;e++)y0.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=Object.prototype.hasOwnProperty,nE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},Bg={};function iE(e){return Jh.call(Bg,e)?!0:Jh.call(Fg,e)?!1:nE.test(e)?Bg[e]=!0:(Fg[e]=!0,!1)}function sE(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rE(e,t,n,i){if(t===null||typeof t>"u"||sE(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,n,i,s,r,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lf=/[\-:]([a-z])/g;function Mf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lf,Mf);ue[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lf,Mf);ue[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lf,Mf);ue[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Of(e,t,n,i){var s=ue.hasOwnProperty(t)?ue[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rE(t,n,s,i)&&(n=null),i||s===null?iE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Xn=eE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),As=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),td=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Nf=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),nd=Symbol.for("react.suspense_list"),Af=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),S0=Symbol.for("react.offscreen"),jg=Symbol.iterator;function Yr(e){return e===null||typeof e!="object"?null:(e=jg&&e[jg]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,ih;function ho(e){if(ih===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ih=t&&t[1]||""}return`
`+ih+e}var sh=!1;function rh(e,t){if(!e||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),r=i.stack.split(`
`),a=s.length-1,u=r.length-1;1<=a&&0<=u&&s[a]!==r[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==r[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==r[u]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=u);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ho(e):""}function oE(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=rh(e.type,!1),e;case 11:return e=rh(e.type.render,!1),e;case 1:return e=rh(e.type,!0),e;default:return""}}function id(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case As:return"Portal";case td:return"Profiler";case Rf:return"StrictMode";case ed:return"Suspense";case nd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x0:return(e.displayName||"Context")+".Consumer";case w0:return(e._context.displayName||"Context")+".Provider";case Nf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Af:return t=e.displayName||null,t!==null?t:id(e.type)||"Memo";case ri:t=e._payload,e=e._init;try{return id(e(t))}catch{}}return null}function aE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return id(t);case 8:return t===Rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lE(e){var t=C0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xa(e){e._valueTracker||(e._valueTracker=lE(e))}function b0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=C0(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sd(e,t){var n=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hg(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E0(e,t){t=t.checked,t!=null&&Of(e,"checked",t,!1)}function rd(e,t){E0(e,t);var n=Ii(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?od(e,t.type,n):t.hasOwnProperty("defaultValue")&&od(e,t.type,Ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function od(e,t,n){(t!=="number"||Yl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fo=Array.isArray;function qs(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ii(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ad(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ug(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(fo(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ii(n)}}function k0(e,t){var n=Ii(t.value),i=Ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Vg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ld(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ja,P0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uE=["Webkit","ms","Moz","O"];Object.keys(yo).forEach(function(e){uE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yo[t]=yo[e]})});function I0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yo.hasOwnProperty(e)&&yo[e]?(""+t).trim():t+"px"}function L0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=I0(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var cE=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ud(e,t){if(t){if(cE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hd=null;function Df(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dd=null,Qs=null,Xs=null;function $g(e){if(e=wa(e)){if(typeof dd!="function")throw Error(B(280));var t=e.stateNode;t&&(t=qu(t),dd(e.stateNode,e.type,t))}}function M0(e){Qs?Xs?Xs.push(e):Xs=[e]:Qs=e}function O0(){if(Qs){var e=Qs,t=Xs;if(Xs=Qs=null,$g(e),t)for(e=0;e<t.length;e++)$g(t[e])}}function R0(e,t){return e(t)}function N0(){}var oh=!1;function A0(e,t,n){if(oh)return e(t,n);oh=!0;try{return R0(e,t,n)}finally{oh=!1,(Qs!==null||Xs!==null)&&(N0(),O0())}}function Bo(e,t){var n=e.stateNode;if(n===null)return null;var i=qu(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var fd=!1;if($n)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){fd=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{fd=!1}function hE(e,t,n,i,s,r,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var wo=!1,Kl=null,ql=!1,pd=null,dE={onError:function(e){wo=!0,Kl=e}};function fE(e,t,n,i,s,r,a,u,c){wo=!1,Kl=null,hE.apply(dE,arguments)}function pE(e,t,n,i,s,r,a,u,c){if(fE.apply(this,arguments),wo){if(wo){var d=Kl;wo=!1,Kl=null}else throw Error(B(198));ql||(ql=!0,pd=d)}}function ys(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function D0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zg(e){if(ys(e)!==e)throw Error(B(188))}function mE(e){var t=e.alternate;if(!t){if(t=ys(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Zg(s),e;if(r===i)return Zg(s),t;r=r.sibling}throw Error(B(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,u=s.child;u;){if(u===n){a=!0,n=s,i=r;break}if(u===i){a=!0,i=s,n=r;break}u=u.sibling}if(!a){for(u=r.child;u;){if(u===n){a=!0,n=r,i=s;break}if(u===i){a=!0,i=r,n=s;break}u=u.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function z0(e){return e=mE(e),e!==null?F0(e):null}function F0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F0(e);if(t!==null)return t;e=e.sibling}return null}var B0=Be.unstable_scheduleCallback,Gg=Be.unstable_cancelCallback,gE=Be.unstable_shouldYield,_E=Be.unstable_requestPaint,Ut=Be.unstable_now,vE=Be.unstable_getCurrentPriorityLevel,zf=Be.unstable_ImmediatePriority,j0=Be.unstable_UserBlockingPriority,Ql=Be.unstable_NormalPriority,yE=Be.unstable_LowPriority,H0=Be.unstable_IdlePriority,Zu=null,Pn=null;function wE(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Zu,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:CE,xE=Math.log,SE=Math.LN2;function CE(e){return e>>>=0,e===0?32:31-(xE(e)/SE|0)|0}var tl=64,el=4194304;function po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~s;u!==0?i=po(u):(r&=a,r!==0&&(i=po(r)))}else a=n&~s,a!==0?i=po(a):r!==0&&(i=po(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-pn(t),s=1<<n,i|=e[n],t&=~s;return i}function bE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-pn(r),u=1<<a,c=s[a];c===-1?(!(u&n)||u&i)&&(s[a]=bE(u,t)):c<=t&&(e.expiredLanes|=u),r&=~u}}function md(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W0(){var e=tl;return tl<<=1,!(tl&4194240)&&(tl=64),e}function ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function va(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function kE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pn(n),r=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~r}}function Ff(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pn(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var yt=0;function U0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V0,Bf,$0,Z0,G0,gd=!1,nl=[],pi=null,mi=null,gi=null,jo=new Map,Ho=new Map,ai=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yg(e,t){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function qr(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=wa(t),t!==null&&Bf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function PE(e,t,n,i,s){switch(t){case"focusin":return pi=qr(pi,e,t,n,i,s),!0;case"dragenter":return mi=qr(mi,e,t,n,i,s),!0;case"mouseover":return gi=qr(gi,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return jo.set(r,qr(jo.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Ho.set(r,qr(Ho.get(r)||null,e,t,n,i,s)),!0}return!1}function Y0(e){var t=Xi(e.target);if(t!==null){var n=ys(t);if(n!==null){if(t=n.tag,t===13){if(t=D0(n),t!==null){e.blockedOn=t,G0(e.priority,function(){$0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_d(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);hd=i,n.target.dispatchEvent(i),hd=null}else return t=wa(n),t!==null&&Bf(t),e.blockedOn=n,!1;t.shift()}return!0}function Kg(e,t,n){Ml(e)&&n.delete(t)}function IE(){gd=!1,pi!==null&&Ml(pi)&&(pi=null),mi!==null&&Ml(mi)&&(mi=null),gi!==null&&Ml(gi)&&(gi=null),jo.forEach(Kg),Ho.forEach(Kg)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,IE)))}function Wo(e){function t(s){return Qr(s,e)}if(0<nl.length){Qr(nl[0],e);for(var n=1;n<nl.length;n++){var i=nl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(pi!==null&&Qr(pi,e),mi!==null&&Qr(mi,e),gi!==null&&Qr(gi,e),jo.forEach(t),Ho.forEach(t),n=0;n<ai.length;n++)i=ai[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)Y0(n),n.blockedOn===null&&ai.shift()}var Js=Xn.ReactCurrentBatchConfig,Jl=!0;function LE(e,t,n,i){var s=yt,r=Js.transition;Js.transition=null;try{yt=1,jf(e,t,n,i)}finally{yt=s,Js.transition=r}}function ME(e,t,n,i){var s=yt,r=Js.transition;Js.transition=null;try{yt=4,jf(e,t,n,i)}finally{yt=s,Js.transition=r}}function jf(e,t,n,i){if(Jl){var s=_d(e,t,n,i);if(s===null)_h(e,t,i,tu,n),Yg(e,i);else if(PE(s,e,t,n,i))i.stopPropagation();else if(Yg(e,i),t&4&&-1<TE.indexOf(e)){for(;s!==null;){var r=wa(s);if(r!==null&&V0(r),r=_d(e,t,n,i),r===null&&_h(e,t,i,tu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else _h(e,t,i,null,n)}}var tu=null;function _d(e,t,n,i){if(tu=null,e=Df(i),e=Xi(e),e!==null)if(t=ys(e),t===null)e=null;else if(n=t.tag,n===13){if(e=D0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tu=e,null}function K0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vE()){case zf:return 1;case j0:return 4;case Ql:case yE:return 16;case H0:return 536870912;default:return 16}default:return 16}}var ui=null,Hf=null,Ol=null;function q0(){if(Ol)return Ol;var e,t=Hf,n=t.length,i,s="value"in ui?ui.value:ui.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return Ol=s.slice(e,1<i?1-i:void 0)}function Rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function qg(){return!1}function He(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?il:qg,this.isPropagationStopped=qg,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wf=He(Cr),ya=zt({},Cr,{view:0,detail:0}),OE=He(ya),lh,uh,Xr,Gu=zt({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(lh=e.screenX-Xr.screenX,uh=e.screenY-Xr.screenY):uh=lh=0,Xr=e),lh)},movementY:function(e){return"movementY"in e?e.movementY:uh}}),Qg=He(Gu),RE=zt({},Gu,{dataTransfer:0}),NE=He(RE),AE=zt({},ya,{relatedTarget:0}),ch=He(AE),DE=zt({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),zE=He(DE),FE=zt({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BE=He(FE),jE=zt({},Cr,{data:0}),Xg=He(jE),HE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UE[e])?!!t[e]:!1}function Uf(){return VE}var $E=zt({},ya,{key:function(e){if(e.key){var t=HE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZE=He($E),GE=zt({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=He(GE),YE=zt({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),KE=He(YE),qE=zt({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),QE=He(qE),XE=zt({},Gu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JE=He(XE),tk=[9,13,27,32],Vf=$n&&"CompositionEvent"in window,xo=null;$n&&"documentMode"in document&&(xo=document.documentMode);var ek=$n&&"TextEvent"in window&&!xo,Q0=$n&&(!Vf||xo&&8<xo&&11>=xo),t_=" ",e_=!1;function X0(e,t){switch(e){case"keyup":return tk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zs=!1;function nk(e,t){switch(e){case"compositionend":return J0(t);case"keypress":return t.which!==32?null:(e_=!0,t_);case"textInput":return e=t.data,e===t_&&e_?null:e;default:return null}}function ik(e,t){if(zs)return e==="compositionend"||!Vf&&X0(e,t)?(e=q0(),Ol=Hf=ui=null,zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q0&&t.locale!=="ko"?null:t.data;default:return null}}var sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sk[e.type]:t==="textarea"}function tw(e,t,n,i){M0(i),t=eu(t,"onChange"),0<t.length&&(n=new Wf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var So=null,Uo=null;function rk(e){hw(e,0)}function Yu(e){var t=js(e);if(b0(t))return e}function ok(e,t){if(e==="change")return t}var ew=!1;if($n){var hh;if($n){var dh="oninput"in document;if(!dh){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),dh=typeof i_.oninput=="function"}hh=dh}else hh=!1;ew=hh&&(!document.documentMode||9<document.documentMode)}function s_(){So&&(So.detachEvent("onpropertychange",nw),Uo=So=null)}function nw(e){if(e.propertyName==="value"&&Yu(Uo)){var t=[];tw(t,Uo,e,Df(e)),A0(rk,t)}}function ak(e,t,n){e==="focusin"?(s_(),So=t,Uo=n,So.attachEvent("onpropertychange",nw)):e==="focusout"&&s_()}function lk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yu(Uo)}function uk(e,t){if(e==="click")return Yu(t)}function ck(e,t){if(e==="input"||e==="change")return Yu(t)}function hk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:hk;function Vo(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Jh.call(t,s)||!_n(e[s],t[s]))return!1}return!0}function r_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o_(e,t){var n=r_(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=r_(n)}}function iw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sw(){for(var e=window,t=Yl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yl(e.document)}return t}function $f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dk(e){var t=sw(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iw(n.ownerDocument.documentElement,n)){if(i!==null&&$f(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!e.extend&&r>i&&(s=i,i=r,r=s),s=o_(n,r);var a=o_(n,i);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fk=$n&&"documentMode"in document&&11>=document.documentMode,Fs=null,vd=null,Co=null,yd=!1;function a_(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yd||Fs==null||Fs!==Yl(i)||(i=Fs,"selectionStart"in i&&$f(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Co&&Vo(Co,i)||(Co=i,i=eu(vd,"onSelect"),0<i.length&&(t=new Wf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Fs)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bs={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},fh={},rw={};$n&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ku(e){if(fh[e])return fh[e];if(!Bs[e])return e;var t=Bs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rw)return fh[e]=t[n];return e}var ow=Ku("animationend"),aw=Ku("animationiteration"),lw=Ku("animationstart"),uw=Ku("transitionend"),cw=new Map,l_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){cw.set(e,t),vs(t,[e])}for(var ph=0;ph<l_.length;ph++){var mh=l_[ph],pk=mh.toLowerCase(),mk=mh[0].toUpperCase()+mh.slice(1);Ni(pk,"on"+mk)}Ni(ow,"onAnimationEnd");Ni(aw,"onAnimationIteration");Ni(lw,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(uw,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function u_(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,pE(i,t,void 0,e),e.currentTarget=null}function hw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==r&&s.isPropagationStopped())break t;u_(s,u,d),r=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==r&&s.isPropagationStopped())break t;u_(s,u,d),r=c}}}if(ql)throw e=pd,ql=!1,pd=null,e}function Tt(e,t){var n=t[bd];n===void 0&&(n=t[bd]=new Set);var i=e+"__bubble";n.has(i)||(dw(t,e,2,!1),n.add(i))}function gh(e,t,n){var i=0;t&&(i|=4),dw(n,e,i,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[rl]){e[rl]=!0,y0.forEach(function(n){n!=="selectionchange"&&(gk.has(n)||gh(n,!1,e),gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,gh("selectionchange",!1,t))}}function dw(e,t,n,i){switch(K0(t)){case 1:var s=LE;break;case 4:s=ME;break;default:s=jf}n=s.bind(null,t,n,e),s=void 0,!fd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _h(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;u!==null;){if(a=Xi(u),a===null)return;if(c=a.tag,c===5||c===6){i=r=a;continue t}u=u.parentNode}}i=i.return}A0(function(){var d=r,p=Df(n),m=[];t:{var _=cw.get(e);if(_!==void 0){var v=Wf,x=e;switch(e){case"keypress":if(Rl(n)===0)break t;case"keydown":case"keyup":v=ZE;break;case"focusin":x="focus",v=ch;break;case"focusout":x="blur",v=ch;break;case"beforeblur":case"afterblur":v=ch;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=NE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=KE;break;case ow:case aw:case lw:v=zE;break;case uw:v=QE;break;case"scroll":v=OE;break;case"wheel":v=JE;break;case"copy":case"cut":case"paste":v=BE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Jg}var S=(t&4)!==0,E=!S&&e==="scroll",w=S?_!==null?_+"Capture":null:_;S=[];for(var C=d,b;C!==null;){b=C;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,w!==null&&(P=Bo(C,w),P!=null&&S.push(Zo(C,P,b)))),E)break;C=C.return}0<S.length&&(_=new v(_,x,null,n,p),m.push({event:_,listeners:S}))}}if(!(t&7)){t:{if(_=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",_&&n!==hd&&(x=n.relatedTarget||n.fromElement)&&(Xi(x)||x[Zn]))break t;if((v||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?Xi(x):null,x!==null&&(E=ys(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(S=Qg,P="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(S=Jg,P="onPointerLeave",w="onPointerEnter",C="pointer"),E=v==null?_:js(v),b=x==null?_:js(x),_=new S(P,C+"leave",v,n,p),_.target=E,_.relatedTarget=b,P=null,Xi(p)===d&&(S=new S(w,C+"enter",x,n,p),S.target=b,S.relatedTarget=E,P=S),E=P,v&&x)e:{for(S=v,w=x,C=0,b=S;b;b=Os(b))C++;for(b=0,P=w;P;P=Os(P))b++;for(;0<C-b;)S=Os(S),C--;for(;0<b-C;)w=Os(w),b--;for(;C--;){if(S===w||w!==null&&S===w.alternate)break e;S=Os(S),w=Os(w)}S=null}else S=null;v!==null&&c_(m,_,v,S,!1),x!==null&&E!==null&&c_(m,E,x,S,!0)}}t:{if(_=d?js(d):window,v=_.nodeName&&_.nodeName.toLowerCase(),v==="select"||v==="input"&&_.type==="file")var M=ok;else if(n_(_))if(ew)M=ck;else{M=lk;var N=ak}else(v=_.nodeName)&&v.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(M=uk);if(M&&(M=M(e,d))){tw(m,M,n,p);break t}N&&N(e,_,d),e==="focusout"&&(N=_._wrapperState)&&N.controlled&&_.type==="number"&&od(_,"number",_.value)}switch(N=d?js(d):window,e){case"focusin":(n_(N)||N.contentEditable==="true")&&(Fs=N,vd=d,Co=null);break;case"focusout":Co=vd=Fs=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,a_(m,n,p);break;case"selectionchange":if(fk)break;case"keydown":case"keyup":a_(m,n,p)}var D;if(Vf)t:{switch(e){case"compositionstart":var F="onCompositionStart";break t;case"compositionend":F="onCompositionEnd";break t;case"compositionupdate":F="onCompositionUpdate";break t}F=void 0}else zs?X0(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Q0&&n.locale!=="ko"&&(zs||F!=="onCompositionStart"?F==="onCompositionEnd"&&zs&&(D=q0()):(ui=p,Hf="value"in ui?ui.value:ui.textContent,zs=!0)),N=eu(d,F),0<N.length&&(F=new Xg(F,e,null,n,p),m.push({event:F,listeners:N}),D?F.data=D:(D=J0(n),D!==null&&(F.data=D)))),(D=ek?nk(e,n):ik(e,n))&&(d=eu(d,"onBeforeInput"),0<d.length&&(p=new Xg("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=D))}hw(m,t)})}function Zo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Bo(e,n),r!=null&&i.unshift(Zo(e,r,s)),r=Bo(e,t),r!=null&&i.push(Zo(e,r,s))),e=e.return}return i}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c_(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,s?(c=Bo(n,r),c!=null&&a.unshift(Zo(n,c,u))):s||(c=Bo(n,r),c!=null&&a.push(Zo(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var _k=/\r\n?/g,vk=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(_k,`
`).replace(vk,"")}function ol(e,t,n){if(t=h_(t),h_(e)!==t&&n)throw Error(B(425))}function nu(){}var wd=null,xd=null;function Sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cd=typeof setTimeout=="function"?setTimeout:void 0,yk=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,wk=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(e){return d_.resolve(null).then(e).catch(xk)}:Cd;function xk(e){setTimeout(function(){throw e})}function vh(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),Wo(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Wo(t)}function _i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),Tn="__reactFiber$"+br,Go="__reactProps$"+br,Zn="__reactContainer$"+br,bd="__reactEvents$"+br,Sk="__reactListeners$"+br,Ck="__reactHandles$"+br;function Xi(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[Tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=f_(e);e!==null;){if(n=e[Tn])return n;e=f_(e)}return t}e=n,n=e.parentNode}return null}function wa(e){return e=e[Tn]||e[Zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function qu(e){return e[Go]||null}var Ed=[],Hs=-1;function Ai(e){return{current:e}}function Mt(e){0>Hs||(e.current=Ed[Hs],Ed[Hs]=null,Hs--)}function bt(e,t){Hs++,Ed[Hs]=e.current,e.current=t}var Li={},_e=Ai(Li),Me=Ai(!1),ls=Li;function cr(e,t){var n=e.type.contextTypes;if(!n)return Li;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=t[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(e){return e=e.childContextTypes,e!=null}function iu(){Mt(Me),Mt(_e)}function p_(e,t,n){if(_e.current!==Li)throw Error(B(168));bt(_e,t),bt(Me,n)}function fw(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(B(108,aE(e)||"Unknown",s));return zt({},n,i)}function su(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,ls=_e.current,bt(_e,e),bt(Me,Me.current),!0}function m_(e,t,n){var i=e.stateNode;if(!i)throw Error(B(169));n?(e=fw(e,t,ls),i.__reactInternalMemoizedMergedChildContext=e,Mt(Me),Mt(_e),bt(_e,e)):Mt(Me),bt(Me,n)}var Fn=null,Qu=!1,yh=!1;function pw(e){Fn===null?Fn=[e]:Fn.push(e)}function bk(e){Qu=!0,pw(e)}function Di(){if(!yh&&Fn!==null){yh=!0;var e=0,t=yt;try{var n=Fn;for(yt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Fn=null,Qu=!1}catch(s){throw Fn!==null&&(Fn=Fn.slice(e+1)),B0(zf,Di),s}finally{yt=t,yh=!1}}return null}var Ws=[],Us=0,ru=null,ou=0,Ze=[],Ge=0,us=null,jn=1,Hn="";function Gi(e,t){Ws[Us++]=ou,Ws[Us++]=ru,ru=e,ou=t}function mw(e,t,n){Ze[Ge++]=jn,Ze[Ge++]=Hn,Ze[Ge++]=us,us=e;var i=jn;e=Hn;var s=32-pn(i)-1;i&=~(1<<s),n+=1;var r=32-pn(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,jn=1<<32-pn(t)+s|n<<s|i,Hn=r+e}else jn=1<<r|n<<s|i,Hn=e}function Zf(e){e.return!==null&&(Gi(e,1),mw(e,1,0))}function Gf(e){for(;e===ru;)ru=Ws[--Us],Ws[Us]=null,ou=Ws[--Us],Ws[Us]=null;for(;e===us;)us=Ze[--Ge],Ze[Ge]=null,Hn=Ze[--Ge],Ze[Ge]=null,jn=Ze[--Ge],Ze[Ge]=null}var Fe=null,ze=null,Ot=!1,ln=null;function gw(e,t){var n=Ye(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function g_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,ze=_i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=us!==null?{id:jn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ye(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,ze=null,!0):!1;default:return!1}}function kd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Td(e){if(Ot){var t=ze;if(t){var n=t;if(!g_(e,t)){if(kd(e))throw Error(B(418));t=_i(n.nextSibling);var i=Fe;t&&g_(e,t)?gw(i,n):(e.flags=e.flags&-4097|2,Ot=!1,Fe=e)}}else{if(kd(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ot=!1,Fe=e}}}function __(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function al(e){if(e!==Fe)return!1;if(!Ot)return __(e),Ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sd(e.type,e.memoizedProps)),t&&(t=ze)){if(kd(e))throw _w(),Error(B(418));for(;t;)gw(e,t),t=_i(t.nextSibling)}if(__(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=_i(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Fe?_i(e.stateNode.nextSibling):null;return!0}function _w(){for(var e=ze;e;)e=_i(e.nextSibling)}function hr(){ze=Fe=null,Ot=!1}function Yf(e){ln===null?ln=[e]:ln.push(e)}var Ek=Xn.ReactCurrentBatchConfig;function Jr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,e));var s=i,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(a){var u=s.refs;a===null?delete u[r]:u[r]=a},t._stringRef=r,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function ll(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v_(e){var t=e._init;return t(e._payload)}function vw(e){function t(w,C){if(e){var b=w.deletions;b===null?(w.deletions=[C],w.flags|=16):b.push(C)}}function n(w,C){if(!e)return null;for(;C!==null;)t(w,C),C=C.sibling;return null}function i(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function s(w,C){return w=xi(w,C),w.index=0,w.sibling=null,w}function r(w,C,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<C?(w.flags|=2,C):b):(w.flags|=2,C)):(w.flags|=1048576,C)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function u(w,C,b,P){return C===null||C.tag!==6?(C=kh(b,w.mode,P),C.return=w,C):(C=s(C,b),C.return=w,C)}function c(w,C,b,P){var M=b.type;return M===Ds?p(w,C,b.props.children,P,b.key):C!==null&&(C.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ri&&v_(M)===C.type)?(P=s(C,b.props),P.ref=Jr(w,C,b),P.return=w,P):(P=jl(b.type,b.key,b.props,null,w.mode,P),P.ref=Jr(w,C,b),P.return=w,P)}function d(w,C,b,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==b.containerInfo||C.stateNode.implementation!==b.implementation?(C=Th(b,w.mode,P),C.return=w,C):(C=s(C,b.children||[]),C.return=w,C)}function p(w,C,b,P,M){return C===null||C.tag!==7?(C=os(b,w.mode,P,M),C.return=w,C):(C=s(C,b),C.return=w,C)}function m(w,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return C=kh(""+C,w.mode,b),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Qa:return b=jl(C.type,C.key,C.props,null,w.mode,b),b.ref=Jr(w,null,C),b.return=w,b;case As:return C=Th(C,w.mode,b),C.return=w,C;case ri:var P=C._init;return m(w,P(C._payload),b)}if(fo(C)||Yr(C))return C=os(C,w.mode,b,null),C.return=w,C;ll(w,C)}return null}function _(w,C,b,P){var M=C!==null?C.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:u(w,C,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qa:return b.key===M?c(w,C,b,P):null;case As:return b.key===M?d(w,C,b,P):null;case ri:return M=b._init,_(w,C,M(b._payload),P)}if(fo(b)||Yr(b))return M!==null?null:p(w,C,b,P,null);ll(w,b)}return null}function v(w,C,b,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(b)||null,u(C,w,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Qa:return w=w.get(P.key===null?b:P.key)||null,c(C,w,P,M);case As:return w=w.get(P.key===null?b:P.key)||null,d(C,w,P,M);case ri:var N=P._init;return v(w,C,b,N(P._payload),M)}if(fo(P)||Yr(P))return w=w.get(b)||null,p(C,w,P,M,null);ll(C,P)}return null}function x(w,C,b,P){for(var M=null,N=null,D=C,F=C=0,Z=null;D!==null&&F<b.length;F++){D.index>F?(Z=D,D=null):Z=D.sibling;var U=_(w,D,b[F],P);if(U===null){D===null&&(D=Z);break}e&&D&&U.alternate===null&&t(w,D),C=r(U,C,F),N===null?M=U:N.sibling=U,N=U,D=Z}if(F===b.length)return n(w,D),Ot&&Gi(w,F),M;if(D===null){for(;F<b.length;F++)D=m(w,b[F],P),D!==null&&(C=r(D,C,F),N===null?M=D:N.sibling=D,N=D);return Ot&&Gi(w,F),M}for(D=i(w,D);F<b.length;F++)Z=v(D,w,F,b[F],P),Z!==null&&(e&&Z.alternate!==null&&D.delete(Z.key===null?F:Z.key),C=r(Z,C,F),N===null?M=Z:N.sibling=Z,N=Z);return e&&D.forEach(function($){return t(w,$)}),Ot&&Gi(w,F),M}function S(w,C,b,P){var M=Yr(b);if(typeof M!="function")throw Error(B(150));if(b=M.call(b),b==null)throw Error(B(151));for(var N=M=null,D=C,F=C=0,Z=null,U=b.next();D!==null&&!U.done;F++,U=b.next()){D.index>F?(Z=D,D=null):Z=D.sibling;var $=_(w,D,U.value,P);if($===null){D===null&&(D=Z);break}e&&D&&$.alternate===null&&t(w,D),C=r($,C,F),N===null?M=$:N.sibling=$,N=$,D=Z}if(U.done)return n(w,D),Ot&&Gi(w,F),M;if(D===null){for(;!U.done;F++,U=b.next())U=m(w,U.value,P),U!==null&&(C=r(U,C,F),N===null?M=U:N.sibling=U,N=U);return Ot&&Gi(w,F),M}for(D=i(w,D);!U.done;F++,U=b.next())U=v(D,w,F,U.value,P),U!==null&&(e&&U.alternate!==null&&D.delete(U.key===null?F:U.key),C=r(U,C,F),N===null?M=U:N.sibling=U,N=U);return e&&D.forEach(function(q){return t(w,q)}),Ot&&Gi(w,F),M}function E(w,C,b,P){if(typeof b=="object"&&b!==null&&b.type===Ds&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qa:t:{for(var M=b.key,N=C;N!==null;){if(N.key===M){if(M=b.type,M===Ds){if(N.tag===7){n(w,N.sibling),C=s(N,b.props.children),C.return=w,w=C;break t}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ri&&v_(M)===N.type){n(w,N.sibling),C=s(N,b.props),C.ref=Jr(w,N,b),C.return=w,w=C;break t}n(w,N);break}else t(w,N);N=N.sibling}b.type===Ds?(C=os(b.props.children,w.mode,P,b.key),C.return=w,w=C):(P=jl(b.type,b.key,b.props,null,w.mode,P),P.ref=Jr(w,C,b),P.return=w,w=P)}return a(w);case As:t:{for(N=b.key;C!==null;){if(C.key===N)if(C.tag===4&&C.stateNode.containerInfo===b.containerInfo&&C.stateNode.implementation===b.implementation){n(w,C.sibling),C=s(C,b.children||[]),C.return=w,w=C;break t}else{n(w,C);break}else t(w,C);C=C.sibling}C=Th(b,w.mode,P),C.return=w,w=C}return a(w);case ri:return N=b._init,E(w,C,N(b._payload),P)}if(fo(b))return x(w,C,b,P);if(Yr(b))return S(w,C,b,P);ll(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,C!==null&&C.tag===6?(n(w,C.sibling),C=s(C,b),C.return=w,w=C):(n(w,C),C=kh(b,w.mode,P),C.return=w,w=C),a(w)):n(w,C)}return E}var dr=vw(!0),yw=vw(!1),au=Ai(null),lu=null,Vs=null,Kf=null;function qf(){Kf=Vs=lu=null}function Qf(e){var t=au.current;Mt(au),e._currentValue=t}function Pd(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){lu=e,Kf=Vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(Kf!==e)if(e={context:e,memoizedValue:t,next:null},Vs===null){if(lu===null)throw Error(B(308));Vs=e,lu.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var Ji=null;function Xf(e){Ji===null?Ji=[e]:Ji.push(e)}function ww(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,Xf(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gn(e,i)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var oi=!1;function Jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ft&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Gn(e,n)}return s=i.interleaved,s===null?(t.next=t,Xf(i)):(t.next=s.next,s.next=t),i.interleaved=t,Gn(e,n)}function Nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ff(e,n)}}function y_(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uu(e,t,n,i){var s=e.updateQueue;oi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?r=d:a.next=d,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=d:u.next=d,p.lastBaseUpdate=c))}if(r!==null){var m=s.baseState;a=0,p=d=c=null,u=r;do{var _=u.lane,v=u.eventTime;if((i&_)===_){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var x=e,S=u;switch(_=t,v=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){m=x.call(v,m,_);break t}m=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,_=typeof x=="function"?x.call(v,m,_):x,_==null)break t;m=zt({},m,_);break t;case 2:oi=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[u]:_.push(u))}else v={eventTime:v,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(d=p=v,c=m):p=p.next=v,a|=_;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;_=u,u=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(p===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);hs|=a,e.lanes=a,e.memoizedState=m}}function w_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(B(191,s));s.call(i)}}}var xa={},In=Ai(xa),Yo=Ai(xa),Ko=Ai(xa);function ts(e){if(e===xa)throw Error(B(174));return e}function tp(e,t){switch(bt(Ko,t),bt(Yo,e),bt(In,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ld(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ld(t,e)}Mt(In),bt(In,t)}function fr(){Mt(In),Mt(Yo),Mt(Ko)}function Sw(e){ts(Ko.current);var t=ts(In.current),n=ld(t,e.type);t!==n&&(bt(Yo,e),bt(In,n))}function ep(e){Yo.current===e&&(Mt(In),Mt(Yo))}var At=Ai(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wh=[];function np(){for(var e=0;e<wh.length;e++)wh[e]._workInProgressVersionPrimary=null;wh.length=0}var Al=Xn.ReactCurrentDispatcher,xh=Xn.ReactCurrentBatchConfig,cs=0,Dt=null,Kt=null,ee=null,hu=!1,bo=!1,qo=0,kk=0;function ce(){throw Error(B(321))}function ip(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function sp(e,t,n,i,s,r){if(cs=r,Dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Al.current=e===null||e.memoizedState===null?Lk:Mk,e=n(i,s),bo){r=0;do{if(bo=!1,qo=0,25<=r)throw Error(B(301));r+=1,ee=Kt=null,t.updateQueue=null,Al.current=Ok,e=n(i,s)}while(bo)}if(Al.current=du,t=Kt!==null&&Kt.next!==null,cs=0,ee=Kt=Dt=null,hu=!1,t)throw Error(B(300));return e}function rp(){var e=qo!==0;return qo=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?Dt.memoizedState=ee=e:ee=ee.next=e,ee}function Je(){if(Kt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=ee===null?Dt.memoizedState:ee.next;if(t!==null)ee=t,Kt=e;else{if(e===null)throw Error(B(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ee===null?Dt.memoizedState=ee=e:ee=ee.next=e}return ee}function Qo(e,t){return typeof t=="function"?t(e):t}function Sh(e){var t=Je(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var i=Kt,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var u=a=null,c=null,d=r;do{var p=d.lane;if((cs&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,a=i):c=c.next=m,Dt.lanes|=p,hs|=p}d=d.next}while(d!==null&&d!==r);c===null?a=i:c.next=u,_n(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do r=s.lane,Dt.lanes|=r,hs|=r,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ch(e){var t=Je(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);_n(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Cw(){}function bw(e,t){var n=Dt,i=Je(),s=t(),r=!_n(i.memoizedState,s);if(r&&(i.memoizedState=s,Pe=!0),i=i.queue,op(Tw.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||ee!==null&&ee.memoizedState.tag&1){if(n.flags|=2048,Xo(9,kw.bind(null,n,i,s,t),void 0,null),se===null)throw Error(B(349));cs&30||Ew(n,t,s)}return s}function Ew(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kw(e,t,n,i){t.value=n,t.getSnapshot=i,Pw(t)&&Iw(e)}function Tw(e,t,n){return n(function(){Pw(t)&&Iw(e)})}function Pw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function Iw(e){var t=Gn(e,1);t!==null&&mn(t,e,1,-1)}function x_(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ik.bind(null,Dt,e),[t.memoizedState,e]}function Xo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Lw(){return Je().memoizedState}function Dl(e,t,n,i){var s=En();Dt.flags|=e,s.memoizedState=Xo(1|t,n,void 0,i===void 0?null:i)}function Xu(e,t,n,i){var s=Je();i=i===void 0?null:i;var r=void 0;if(Kt!==null){var a=Kt.memoizedState;if(r=a.destroy,i!==null&&ip(i,a.deps)){s.memoizedState=Xo(t,n,r,i);return}}Dt.flags|=e,s.memoizedState=Xo(1|t,n,r,i)}function S_(e,t){return Dl(8390656,8,e,t)}function op(e,t){return Xu(2048,8,e,t)}function Mw(e,t){return Xu(4,2,e,t)}function Ow(e,t){return Xu(4,4,e,t)}function Rw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nw(e,t,n){return n=n!=null?n.concat([e]):null,Xu(4,4,Rw.bind(null,t,e),n)}function ap(){}function Aw(e,t){var n=Je();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ip(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Dw(e,t){var n=Je();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ip(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function zw(e,t,n){return cs&21?(_n(n,t)||(n=W0(),Dt.lanes|=n,hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function Tk(e,t){var n=yt;yt=n!==0&&4>n?n:4,e(!0);var i=xh.transition;xh.transition={};try{e(!1),t()}finally{yt=n,xh.transition=i}}function Fw(){return Je().memoizedState}function Pk(e,t,n){var i=wi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Bw(e))jw(t,n);else if(n=ww(e,t,n,i),n!==null){var s=we();mn(n,e,i,s),Hw(n,t,i)}}function Ik(e,t,n){var i=wi(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bw(e))jw(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,u=r(a,n);if(s.hasEagerState=!0,s.eagerState=u,_n(u,a)){var c=t.interleaved;c===null?(s.next=s,Xf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ww(e,t,s,i),n!==null&&(s=we(),mn(n,e,i,s),Hw(n,t,i))}}function Bw(e){var t=e.alternate;return e===Dt||t!==null&&t===Dt}function jw(e,t){bo=hu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hw(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ff(e,n)}}var du={readContext:Xe,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Lk={readContext:Xe,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:S_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,Rw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=En();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Pk.bind(null,Dt,e),[i.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:x_,useDebugValue:ap,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=x_(!1),t=e[0];return e=Tk.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Dt,s=En();if(Ot){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),se===null)throw Error(B(349));cs&30||Ew(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,S_(Tw.bind(null,i,r,e),[e]),i.flags|=2048,Xo(9,kw.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=En(),t=se.identifierPrefix;if(Ot){var n=Hn,i=jn;n=(i&~(1<<32-pn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=qo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mk={readContext:Xe,useCallback:Aw,useContext:Xe,useEffect:op,useImperativeHandle:Nw,useInsertionEffect:Mw,useLayoutEffect:Ow,useMemo:Dw,useReducer:Sh,useRef:Lw,useState:function(){return Sh(Qo)},useDebugValue:ap,useDeferredValue:function(e){var t=Je();return zw(t,Kt.memoizedState,e)},useTransition:function(){var e=Sh(Qo)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Cw,useSyncExternalStore:bw,useId:Fw,unstable_isNewReconciler:!1},Ok={readContext:Xe,useCallback:Aw,useContext:Xe,useEffect:op,useImperativeHandle:Nw,useInsertionEffect:Mw,useLayoutEffect:Ow,useMemo:Dw,useReducer:Ch,useRef:Lw,useState:function(){return Ch(Qo)},useDebugValue:ap,useDeferredValue:function(e){var t=Je();return Kt===null?t.memoizedState=e:zw(t,Kt.memoizedState,e)},useTransition:function(){var e=Ch(Qo)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Cw,useSyncExternalStore:bw,useId:Fw,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Id(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ju={isMounted:function(e){return(e=e._reactInternals)?ys(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=we(),s=wi(e),r=Un(i,s);r.payload=t,n!=null&&(r.callback=n),t=vi(e,r,s),t!==null&&(mn(t,e,s,i),Nl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=we(),s=wi(e),r=Un(i,s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=vi(e,r,s),t!==null&&(mn(t,e,s,i),Nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=we(),i=wi(e),s=Un(n,i);s.tag=2,t!=null&&(s.callback=t),t=vi(e,s,i),t!==null&&(mn(t,e,i,n),Nl(t,e,i))}};function C_(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Vo(n,i)||!Vo(s,r):!0}function Ww(e,t,n){var i=!1,s=Li,r=t.contextType;return typeof r=="object"&&r!==null?r=Xe(r):(s=Oe(t)?ls:_e.current,i=t.contextTypes,r=(i=i!=null)?cr(e,s):Li),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ju,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function b_(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ju.enqueueReplaceState(t,t.state,null)}function Ld(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Jf(e);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Xe(r):(r=Oe(t)?ls:_e.current,s.context=cr(e,r)),s.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Id(e,t,r,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ju.enqueueReplaceState(s,s.state,null),uu(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pr(e,t){try{var n="",i=t;do n+=oE(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:s,digest:null}}function bh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Md(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function Uw(e,t,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){pu||(pu=!0,Hd=i),Md(e,t)},n}function Vw(e,t,n){n=Un(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Md(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Md(e,t),typeof i!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function E_(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Rk;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=Gk.bind(null,e,t,n),t.then(e,e))}function k_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T_(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Un(-1,1),t.tag=2,vi(n,t,1))),n.lanes|=1),e)}var Nk=Xn.ReactCurrentOwner,Pe=!1;function ye(e,t,n,i){t.child=e===null?yw(t,null,n,i):dr(t,e.child,n,i)}function P_(e,t,n,i,s){n=n.render;var r=t.ref;return tr(t,s),i=sp(e,t,n,i,r,s),n=rp(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(Ot&&n&&Zf(t),t.flags|=1,ye(e,t,i,s),t.child)}function I_(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!mp(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,$w(e,t,r,i,s)):(e=jl(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Vo,n(a,i)&&e.ref===t.ref)return Yn(e,t,s)}return t.flags|=1,e=xi(r,i),e.ref=t.ref,e.return=t,t.child=e}function $w(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Vo(r,i)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=i=r,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,Yn(e,t,s)}return Od(e,t,n,i,s)}function Zw(e,t,n){var i=t.pendingProps,s=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Zs,De),De|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(Zs,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,bt(Zs,De),De|=i}else r!==null?(i=r.baseLanes|n,t.memoizedState=null):i=n,bt(Zs,De),De|=i;return ye(e,t,s,n),t.child}function Gw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Od(e,t,n,i,s){var r=Oe(n)?ls:_e.current;return r=cr(t,r),tr(t,s),n=sp(e,t,n,i,r,s),i=rp(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(Ot&&i&&Zf(t),t.flags|=1,ye(e,t,n,s),t.child)}function L_(e,t,n,i,s){if(Oe(n)){var r=!0;su(t)}else r=!1;if(tr(t,s),t.stateNode===null)zl(e,t),Ww(t,n,i),Ld(t,n,i,s),i=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Xe(d):(d=Oe(n)?ls:_e.current,d=cr(t,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||c!==d)&&b_(t,a,i,d),oi=!1;var _=t.memoizedState;a.state=_,uu(t,i,a,s),c=t.memoizedState,u!==i||_!==c||Me.current||oi?(typeof p=="function"&&(Id(t,n,p,i),c=t.memoizedState),(u=oi||C_(t,n,u,i,_,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=d,i=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,xw(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:on(t.type,u),a.props=d,m=t.pendingProps,_=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=Oe(n)?ls:_e.current,c=cr(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==m||_!==c)&&b_(t,a,i,c),oi=!1,_=t.memoizedState,a.state=_,uu(t,i,a,s);var x=t.memoizedState;u!==m||_!==x||Me.current||oi?(typeof v=="function"&&(Id(t,n,v,i),x=t.memoizedState),(d=oi||C_(t,n,d,i,_,x,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),a.props=i,a.state=x,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),i=!1)}return Rd(e,t,n,i,r,s)}function Rd(e,t,n,i,s,r){Gw(e,t);var a=(t.flags&128)!==0;if(!i&&!a)return s&&m_(t,n,!1),Yn(e,t,r);i=t.stateNode,Nk.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&a?(t.child=dr(t,e.child,null,r),t.child=dr(t,null,u,r)):ye(e,t,u,r),t.memoizedState=i.state,s&&m_(t,n,!0),t.child}function Yw(e){var t=e.stateNode;t.pendingContext?p_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&p_(e,t.context,!1),tp(e,t.containerInfo)}function M_(e,t,n,i,s){return hr(),Yf(s),t.flags|=256,ye(e,t,n,i),t.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Ad(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kw(e,t,n){var i=t.pendingProps,s=At.current,r=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),bt(At,s&1),e===null)return Td(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,r?(i=t.mode,r=t.child,a={mode:"hidden",children:a},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=nc(a,i,0,null),e=os(e,i,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=Ad(n),t.memoizedState=Nd,e):lp(t,a));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return Ak(e,t,a,i,u,s,n);if(r){r=i.fallback,a=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=c,t.deletions=null):(i=xi(s,c),i.subtreeFlags=s.subtreeFlags&14680064),u!==null?r=xi(u,r):(r=os(r,a,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,a=e.child.memoizedState,a=a===null?Ad(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=e.childLanes&~n,t.memoizedState=Nd,i}return r=e.child,e=r.sibling,i=xi(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function lp(e,t){return t=nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ul(e,t,n,i){return i!==null&&Yf(i),dr(t,e.child,null,n),e=lp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ak(e,t,n,i,s,r,a){if(n)return t.flags&256?(t.flags&=-257,i=bh(Error(B(422))),ul(e,t,a,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=nc({mode:"visible",children:i.children},s,0,null),r=os(r,s,a,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&dr(t,e.child,null,a),t.child.memoizedState=Ad(a),t.memoizedState=Nd,r);if(!(t.mode&1))return ul(e,t,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var u=i.dgst;return i=u,r=Error(B(419)),i=bh(r,i,void 0),ul(e,t,a,i)}if(u=(a&e.childLanes)!==0,Pe||u){if(i=se,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Gn(e,s),mn(i,e,s,-1))}return pp(),i=bh(Error(B(421))),ul(e,t,a,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yk.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,ze=_i(s.nextSibling),Fe=t,Ot=!0,ln=null,e!==null&&(Ze[Ge++]=jn,Ze[Ge++]=Hn,Ze[Ge++]=us,jn=e.id,Hn=e.overflow,us=t),t=lp(t,i.children),t.flags|=4096,t)}function O_(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pd(e.return,t,n)}function Eh(e,t,n,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function qw(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(ye(e,t,i.children,n),i=At.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O_(e,n,t);else if(e.tag===19)O_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(bt(At,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&cu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Eh(t,!1,s,n,r);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Eh(t,!0,n,null,r);break;case"together":Eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dk(e,t,n){switch(t.tag){case 3:Yw(t),hr();break;case 5:Sw(t);break;case 1:Oe(t.type)&&su(t);break;case 4:tp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;bt(au,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(bt(At,At.current&1),t.flags|=128,null):n&t.child.childLanes?Kw(e,t,n):(bt(At,At.current&1),e=Yn(e,t,n),e!==null?e.sibling:null);bt(At,At.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return qw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bt(At,At.current),i)break;return null;case 22:case 23:return t.lanes=0,Zw(e,t,n)}return Yn(e,t,n)}var Qw,Dd,Xw,Jw;Qw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dd=function(){};Xw=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,ts(In.current);var r=null;switch(n){case"input":s=sd(e,s),i=sd(e,i),r=[];break;case"select":s=zt({},s,{value:void 0}),i=zt({},i,{value:void 0}),r=[];break;case"textarea":s=ad(e,s),i=ad(e,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=nu)}ud(n,i);var a;n=null;for(d in s)if(!i.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var u=s[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(zo.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var c=i[d];if(u=s!=null?s[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(r||(r=[]),r.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(zo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Tt("scroll",e),r||u===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}};Jw=function(e,t,n,i){n!==i&&(t.flags|=4)};function to(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function zk(e,t,n){var i=t.pendingProps;switch(Gf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return Oe(t.type)&&iu(),he(t),null;case 3:return i=t.stateNode,fr(),Mt(Me),Mt(_e),np(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(Vd(ln),ln=null))),Dd(e,t),he(t),null;case 5:ep(t);var s=ts(Ko.current);if(n=t.type,e!==null&&t.stateNode!=null)Xw(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(B(166));return he(t),null}if(e=ts(In.current),al(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[Tn]=t,i[Go]=r,e=(t.mode&1)!==0,n){case"dialog":Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":case"embed":Tt("load",i);break;case"video":case"audio":for(s=0;s<mo.length;s++)Tt(mo[s],i);break;case"source":Tt("error",i);break;case"img":case"image":case"link":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"input":Hg(i,r),Tt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Tt("invalid",i);break;case"textarea":Ug(i,r),Tt("invalid",i)}ud(n,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a];a==="children"?typeof u=="string"?i.textContent!==u&&(r.suppressHydrationWarning!==!0&&ol(i.textContent,u,e),s=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&ol(i.textContent,u,e),s=["children",""+u]):zo.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Tt("scroll",i)}switch(n){case"input":Xa(i),Wg(i,r,!0);break;case"textarea":Xa(i),Vg(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=nu)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=a.createElement(n,{is:i.is}):(e=a.createElement(n),n==="select"&&(a=e,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):e=a.createElementNS(e,n),e[Tn]=t,e[Go]=i,Qw(e,t,!1,!1),t.stateNode=e;t:{switch(a=cd(n,i),n){case"dialog":Tt("cancel",e),Tt("close",e),s=i;break;case"iframe":case"object":case"embed":Tt("load",e),s=i;break;case"video":case"audio":for(s=0;s<mo.length;s++)Tt(mo[s],e);s=i;break;case"source":Tt("error",e),s=i;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),s=i;break;case"details":Tt("toggle",e),s=i;break;case"input":Hg(e,i),s=sd(e,i),Tt("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=zt({},i,{value:void 0}),Tt("invalid",e);break;case"textarea":Ug(e,i),s=ad(e,i),Tt("invalid",e);break;default:s=i}ud(n,s),u=s;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?L0(e,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&P0(e,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fo(e,c):typeof c=="number"&&Fo(e,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(zo.hasOwnProperty(r)?c!=null&&r==="onScroll"&&Tt("scroll",e):c!=null&&Of(e,r,c,a))}switch(n){case"input":Xa(e),Wg(e,i,!1);break;case"textarea":Xa(e),Vg(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ii(i.value));break;case"select":e.multiple=!!i.multiple,r=i.value,r!=null?qs(e,!!i.multiple,r,!1):i.defaultValue!=null&&qs(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return he(t),null;case 6:if(e&&t.stateNode!=null)Jw(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(B(166));if(n=ts(Ko.current),ts(In.current),al(t)){if(i=t.stateNode,n=t.memoizedProps,i[Tn]=t,(r=i.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:ol(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(i.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Tn]=t,t.stateNode=i}return he(t),null;case 13:if(Mt(At),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&ze!==null&&t.mode&1&&!(t.flags&128))_w(),hr(),t.flags|=98560,r=!1;else if(r=al(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(B(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(B(317));r[Tn]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;he(t),r=!1}else ln!==null&&(Vd(ln),ln=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||At.current&1?Xt===0&&(Xt=3):pp())),t.updateQueue!==null&&(t.flags|=4),he(t),null);case 4:return fr(),Dd(e,t),e===null&&$o(t.stateNode.containerInfo),he(t),null;case 10:return Qf(t.type._context),he(t),null;case 17:return Oe(t.type)&&iu(),he(t),null;case 19:if(Mt(At),r=t.memoizedState,r===null)return he(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)to(r,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=cu(e),a!==null){for(t.flags|=128,to(r,!1),i=a.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)r=n,e=i,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,e=a.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bt(At,At.current&1|2),t.child}e=e.sibling}r.tail!==null&&Ut()>mr&&(t.flags|=128,i=!0,to(r,!1),t.lanes=4194304)}else{if(!i)if(e=cu(a),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),to(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ot)return he(t),null}else 2*Ut()-r.renderingStartTime>mr&&n!==1073741824&&(t.flags|=128,i=!0,to(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(n=r.last,n!==null?n.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ut(),t.sibling=null,n=At.current,bt(At,i?n&1|2:n&1),t):(he(t),null);case 22:case 23:return fp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?De&1073741824&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Fk(e,t){switch(Gf(t),t.tag){case 1:return Oe(t.type)&&iu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),Mt(Me),Mt(_e),np(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ep(t),null;case 13:if(Mt(At),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mt(At),null;case 4:return fr(),null;case 10:return Qf(t.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var cl=!1,fe=!1,Bk=typeof WeakSet=="function"?WeakSet:Set,V=null;function $s(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){jt(e,t,i)}else n.current=null}function zd(e,t,n){try{n()}catch(i){jt(e,t,i)}}var R_=!1;function jk(e,t){if(wd=Jl,e=sw(),$f(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,u=-1,c=-1,d=0,p=0,m=e,_=null;e:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(u=a+s),m!==r||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)_=m,m=v;for(;;){if(m===e)break e;if(_===n&&++d===s&&(u=a),_===r&&++p===i&&(c=a),(v=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xd={focusedElem:e,selectionRange:n},Jl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,E=x.memoizedState,w=t.stateNode,C=w.getSnapshotBeforeUpdate(t.elementType===t.type?S:on(t.type,S),E);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){jt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=R_,R_=!1,x}function Eo(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,r!==void 0&&zd(t,n,r)}s=s.next}while(s!==i)}}function tc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Fd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tx(e){var t=e.alternate;t!==null&&(e.alternate=null,tx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tn],delete t[Go],delete t[bd],delete t[Sk],delete t[Ck])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ex(e){return e.tag===5||e.tag===3||e.tag===4}function N_(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ex(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nu));else if(i!==4&&(e=e.child,e!==null))for(Bd(e,t,n),e=e.sibling;e!==null;)Bd(e,t,n),e=e.sibling}function jd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(jd(e,t,n),e=e.sibling;e!==null;)jd(e,t,n),e=e.sibling}var oe=null,an=!1;function ii(e,t,n){for(n=n.child;n!==null;)nx(e,t,n),n=n.sibling}function nx(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Zu,n)}catch{}switch(n.tag){case 5:fe||$s(n,t);case 6:var i=oe,s=an;oe=null,ii(e,t,n),oe=i,an=s,oe!==null&&(an?(e=oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(an?(e=oe,n=n.stateNode,e.nodeType===8?vh(e.parentNode,n):e.nodeType===1&&vh(e,n),Wo(e)):vh(oe,n.stateNode));break;case 4:i=oe,s=an,oe=n.stateNode.containerInfo,an=!0,ii(e,t,n),oe=i,an=s;break;case 0:case 11:case 14:case 15:if(!fe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&zd(n,t,a),s=s.next}while(s!==i)}ii(e,t,n);break;case 1:if(!fe&&($s(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){jt(n,t,u)}ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:n.mode&1?(fe=(i=fe)||n.memoizedState!==null,ii(e,t,n),fe=i):ii(e,t,n);break;default:ii(e,t,n)}}function A_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bk),t.forEach(function(i){var s=Kk.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=e,a=t,u=a;t:for(;u!==null;){switch(u.tag){case 5:oe=u.stateNode,an=!1;break t;case 3:oe=u.stateNode.containerInfo,an=!0;break t;case 4:oe=u.stateNode.containerInfo,an=!0;break t}u=u.return}if(oe===null)throw Error(B(160));nx(r,a,s),oe=null,an=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){jt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ix(t,e),t=t.sibling}function ix(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),Sn(e),i&4){try{Eo(3,e,e.return),tc(3,e)}catch(S){jt(e,e.return,S)}try{Eo(5,e,e.return)}catch(S){jt(e,e.return,S)}}break;case 1:rn(t,e),Sn(e),i&512&&n!==null&&$s(n,n.return);break;case 5:if(rn(t,e),Sn(e),i&512&&n!==null&&$s(n,n.return),e.flags&32){var s=e.stateNode;try{Fo(s,"")}catch(S){jt(e,e.return,S)}}if(i&4&&(s=e.stateNode,s!=null)){var r=e.memoizedProps,a=n!==null?n.memoizedProps:r,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&E0(s,r),cd(u,a);var d=cd(u,r);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?L0(s,m):p==="dangerouslySetInnerHTML"?P0(s,m):p==="children"?Fo(s,m):Of(s,p,m,d)}switch(u){case"input":rd(s,r);break;case"textarea":k0(s,r);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?qs(s,!!r.multiple,v,!1):_!==!!r.multiple&&(r.defaultValue!=null?qs(s,!!r.multiple,r.defaultValue,!0):qs(s,!!r.multiple,r.multiple?[]:"",!1))}s[Go]=r}catch(S){jt(e,e.return,S)}}break;case 6:if(rn(t,e),Sn(e),i&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(S){jt(e,e.return,S)}}break;case 3:if(rn(t,e),Sn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(t.containerInfo)}catch(S){jt(e,e.return,S)}break;case 4:rn(t,e),Sn(e);break;case 13:rn(t,e),Sn(e),s=e.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(hp=Ut())),i&4&&A_(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(fe=(d=fe)||p,rn(t,e),fe=d):rn(t,e),Sn(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(V=e,p=e.child;p!==null;){for(m=V=p;V!==null;){switch(_=V,v=_.child,_.tag){case 0:case 11:case 14:case 15:Eo(4,_,_.return);break;case 1:$s(_,_.return);var x=_.stateNode;if(typeof x.componentWillUnmount=="function"){i=_,n=_.return;try{t=i,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){jt(i,n,S)}}break;case 5:$s(_,_.return);break;case 22:if(_.memoizedState!==null){z_(m);continue}}v!==null?(v.return=_,V=v):z_(m)}p=p.sibling}t:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,d?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=I0("display",a))}catch(S){jt(e,e.return,S)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(S){jt(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break t;for(;m.sibling===null;){if(m.return===null||m.return===e)break t;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:rn(t,e),Sn(e),i&4&&A_(e);break;case 21:break;default:rn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(ex(n)){var i=n;break t}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Fo(s,""),i.flags&=-33);var r=N_(e);jd(e,r,s);break;case 3:case 4:var a=i.stateNode.containerInfo,u=N_(e);Bd(e,u,a);break;default:throw Error(B(161))}}catch(c){jt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hk(e,t,n){V=e,sx(e)}function sx(e,t,n){for(var i=(e.mode&1)!==0;V!==null;){var s=V,r=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||cl;if(!a){var u=s.alternate,c=u!==null&&u.memoizedState!==null||fe;u=cl;var d=fe;if(cl=a,(fe=c)&&!d)for(V=s;V!==null;)a=V,c=a.child,a.tag===22&&a.memoizedState!==null?F_(s):c!==null?(c.return=a,V=c):F_(s);for(;r!==null;)V=r,sx(r),r=r.sibling;V=s,cl=u,fe=d}D_(e)}else s.subtreeFlags&8772&&r!==null?(r.return=s,V=r):D_(e)}}function D_(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||tc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!fe)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:on(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&w_(t,r,i);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}w_(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Wo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}fe||t.flags&512&&Fd(t)}catch(_){jt(t,t.return,_)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function z_(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function F_(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tc(4,t)}catch(c){jt(t,n,c)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(c){jt(t,s,c)}}var r=t.return;try{Fd(t)}catch(c){jt(t,r,c)}break;case 5:var a=t.return;try{Fd(t)}catch(c){jt(t,a,c)}}}catch(c){jt(t,t.return,c)}if(t===e){V=null;break}var u=t.sibling;if(u!==null){u.return=t.return,V=u;break}V=t.return}}var Wk=Math.ceil,fu=Xn.ReactCurrentDispatcher,up=Xn.ReactCurrentOwner,qe=Xn.ReactCurrentBatchConfig,ft=0,se=null,Gt=null,le=0,De=0,Zs=Ai(0),Xt=0,Jo=null,hs=0,ec=0,cp=0,ko=null,ke=null,hp=0,mr=1/0,zn=null,pu=!1,Hd=null,yi=null,hl=!1,ci=null,mu=0,To=0,Wd=null,Fl=-1,Bl=0;function we(){return ft&6?Ut():Fl!==-1?Fl:Fl=Ut()}function wi(e){return e.mode&1?ft&2&&le!==0?le&-le:Ek.transition!==null?(Bl===0&&(Bl=W0()),Bl):(e=yt,e!==0||(e=window.event,e=e===void 0?16:K0(e.type)),e):1}function mn(e,t,n,i){if(50<To)throw To=0,Wd=null,Error(B(185));va(e,n,i),(!(ft&2)||e!==se)&&(e===se&&(!(ft&2)&&(ec|=n),Xt===4&&li(e,le)),Re(e,i),n===1&&ft===0&&!(t.mode&1)&&(mr=Ut()+500,Qu&&Di()))}function Re(e,t){var n=e.callbackNode;EE(e,t);var i=Xl(e,e===se?le:0);if(i===0)n!==null&&Gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Gg(n),t===1)e.tag===0?bk(B_.bind(null,e)):pw(B_.bind(null,e)),wk(function(){!(ft&6)&&Di()}),n=null;else{switch(U0(i)){case 1:n=zf;break;case 4:n=j0;break;case 16:n=Ql;break;case 536870912:n=H0;break;default:n=Ql}n=dx(n,rx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rx(e,t){if(Fl=-1,Bl=0,ft&6)throw Error(B(327));var n=e.callbackNode;if(er()&&e.callbackNode!==n)return null;var i=Xl(e,e===se?le:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=gu(e,i);else{t=i;var s=ft;ft|=2;var r=ax();(se!==e||le!==t)&&(zn=null,mr=Ut()+500,rs(e,t));do try{$k();break}catch(u){ox(e,u)}while(!0);qf(),fu.current=r,ft=s,Gt!==null?t=0:(se=null,le=0,t=Xt)}if(t!==0){if(t===2&&(s=md(e),s!==0&&(i=s,t=Ud(e,s))),t===1)throw n=Jo,rs(e,0),li(e,i),Re(e,Ut()),n;if(t===6)li(e,i);else{if(s=e.current.alternate,!(i&30)&&!Uk(s)&&(t=gu(e,i),t===2&&(r=md(e),r!==0&&(i=r,t=Ud(e,r))),t===1))throw n=Jo,rs(e,0),li(e,i),Re(e,Ut()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(B(345));case 2:Yi(e,ke,zn);break;case 3:if(li(e,i),(i&130023424)===i&&(t=hp+500-Ut(),10<t)){if(Xl(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){we(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Cd(Yi.bind(null,e,ke,zn),t);break}Yi(e,ke,zn);break;case 4:if(li(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var a=31-pn(i);r=1<<a,a=t[a],a>s&&(s=a),i&=~r}if(i=s,i=Ut()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Wk(i/1960))-i,10<i){e.timeoutHandle=Cd(Yi.bind(null,e,ke,zn),i);break}Yi(e,ke,zn);break;case 5:Yi(e,ke,zn);break;default:throw Error(B(329))}}}return Re(e,Ut()),e.callbackNode===n?rx.bind(null,e):null}function Ud(e,t){var n=ko;return e.current.memoizedState.isDehydrated&&(rs(e,t).flags|=256),e=gu(e,t),e!==2&&(t=ke,ke=n,t!==null&&Vd(t)),e}function Vd(e){ke===null?ke=e:ke.push.apply(ke,e)}function Uk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!_n(r(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t){for(t&=~cp,t&=~ec,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),i=1<<n;e[n]=-1,t&=~i}}function B_(e){if(ft&6)throw Error(B(327));er();var t=Xl(e,0);if(!(t&1))return Re(e,Ut()),null;var n=gu(e,t);if(e.tag!==0&&n===2){var i=md(e);i!==0&&(t=i,n=Ud(e,i))}if(n===1)throw n=Jo,rs(e,0),li(e,t),Re(e,Ut()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yi(e,ke,zn),Re(e,Ut()),null}function dp(e,t){var n=ft;ft|=1;try{return e(t)}finally{ft=n,ft===0&&(mr=Ut()+500,Qu&&Di())}}function ds(e){ci!==null&&ci.tag===0&&!(ft&6)&&er();var t=ft;ft|=1;var n=qe.transition,i=yt;try{if(qe.transition=null,yt=1,e)return e()}finally{yt=i,qe.transition=n,ft=t,!(ft&6)&&Di()}}function fp(){De=Zs.current,Mt(Zs)}function rs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yk(n)),Gt!==null)for(n=Gt.return;n!==null;){var i=n;switch(Gf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&iu();break;case 3:fr(),Mt(Me),Mt(_e),np();break;case 5:ep(i);break;case 4:fr();break;case 13:Mt(At);break;case 19:Mt(At);break;case 10:Qf(i.type._context);break;case 22:case 23:fp()}n=n.return}if(se=e,Gt=e=xi(e.current,null),le=De=t,Xt=0,Jo=null,cp=ec=hs=0,ke=ko=null,Ji!==null){for(t=0;t<Ji.length;t++)if(n=Ji[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var a=r.next;r.next=s,i.next=a}n.pending=i}Ji=null}return e}function ox(e,t){do{var n=Gt;try{if(qf(),Al.current=du,hu){for(var i=Dt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}hu=!1}if(cs=0,ee=Kt=Dt=null,bo=!1,qo=0,up.current=null,n===null||n.return===null){Xt=1,Jo=t,Gt=null;break}t:{var r=e,a=n.return,u=n,c=t;if(t=le,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=k_(a);if(v!==null){v.flags&=-257,T_(v,a,u,r,t),v.mode&1&&E_(r,d,t),t=v,c=d;var x=t.updateQueue;if(x===null){var S=new Set;S.add(c),t.updateQueue=S}else x.add(c);break t}else{if(!(t&1)){E_(r,d,t),pp();break t}c=Error(B(426))}}else if(Ot&&u.mode&1){var E=k_(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),T_(E,a,u,r,t),Yf(pr(c,u));break t}}r=c=pr(c,u),Xt!==4&&(Xt=2),ko===null?ko=[r]:ko.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var w=Uw(r,c,t);y_(r,w);break t;case 1:u=c;var C=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof C.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yi===null||!yi.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t;var P=Vw(r,u,t);y_(r,P);break t}}r=r.return}while(r!==null)}ux(n)}catch(M){t=M,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(!0)}function ax(){var e=fu.current;return fu.current=du,e===null?du:e}function pp(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),se===null||!(hs&268435455)&&!(ec&268435455)||li(se,le)}function gu(e,t){var n=ft;ft|=2;var i=ax();(se!==e||le!==t)&&(zn=null,rs(e,t));do try{Vk();break}catch(s){ox(e,s)}while(!0);if(qf(),ft=n,fu.current=i,Gt!==null)throw Error(B(261));return se=null,le=0,Xt}function Vk(){for(;Gt!==null;)lx(Gt)}function $k(){for(;Gt!==null&&!gE();)lx(Gt)}function lx(e){var t=hx(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?ux(e):Gt=t,up.current=null}function ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fk(n,t),n!==null){n.flags&=32767,Gt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Gt=null;return}}else if(n=zk(n,t,De),n!==null){Gt=n;return}if(t=t.sibling,t!==null){Gt=t;return}Gt=t=e}while(t!==null);Xt===0&&(Xt=5)}function Yi(e,t,n){var i=yt,s=qe.transition;try{qe.transition=null,yt=1,Zk(e,t,n,i)}finally{qe.transition=s,yt=i}return null}function Zk(e,t,n,i){do er();while(ci!==null);if(ft&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(kE(e,r),e===se&&(Gt=se=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,dx(Ql,function(){return er(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=qe.transition,qe.transition=null;var a=yt;yt=1;var u=ft;ft|=4,up.current=null,jk(e,n),ix(n,e),dk(xd),Jl=!!wd,xd=wd=null,e.current=n,Hk(n),_E(),ft=u,yt=a,qe.transition=r}else e.current=n;if(hl&&(hl=!1,ci=e,mu=s),r=e.pendingLanes,r===0&&(yi=null),wE(n.stateNode),Re(e,Ut()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(pu)throw pu=!1,e=Hd,Hd=null,e;return mu&1&&e.tag!==0&&er(),r=e.pendingLanes,r&1?e===Wd?To++:(To=0,Wd=e):To=0,Di(),null}function er(){if(ci!==null){var e=U0(mu),t=qe.transition,n=yt;try{if(qe.transition=null,yt=16>e?16:e,ci===null)var i=!1;else{if(e=ci,ci=null,mu=0,ft&6)throw Error(B(331));var s=ft;for(ft|=4,V=e.current;V!==null;){var r=V,a=r.child;if(V.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(V=d;V!==null;){var p=V;switch(p.tag){case 0:case 11:case 15:Eo(8,p,r)}var m=p.child;if(m!==null)m.return=p,V=m;else for(;V!==null;){p=V;var _=p.sibling,v=p.return;if(tx(p),p===d){V=null;break}if(_!==null){_.return=v,V=_;break}V=v}}}var x=r.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}V=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,V=a;else t:for(;V!==null;){if(r=V,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Eo(9,r,r.return)}var w=r.sibling;if(w!==null){w.return=r.return,V=w;break t}V=r.return}}var C=e.current;for(V=C;V!==null;){a=V;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,V=b;else t:for(a=C;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:tc(9,u)}}catch(M){jt(u,u.return,M)}if(u===a){V=null;break t}var P=u.sibling;if(P!==null){P.return=u.return,V=P;break t}V=u.return}}if(ft=s,Di(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Zu,e)}catch{}i=!0}return i}finally{yt=n,qe.transition=t}}return!1}function j_(e,t,n){t=pr(n,t),t=Uw(e,t,1),e=vi(e,t,1),t=we(),e!==null&&(va(e,1,t),Re(e,t))}function jt(e,t,n){if(e.tag===3)j_(e,e,n);else for(;t!==null;){if(t.tag===3){j_(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yi===null||!yi.has(i))){e=pr(n,e),e=Vw(t,e,1),t=vi(t,e,1),e=we(),t!==null&&(va(t,1,e),Re(t,e));break}}t=t.return}}function Gk(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&n,se===e&&(le&n)===n&&(Xt===4||Xt===3&&(le&130023424)===le&&500>Ut()-hp?rs(e,0):cp|=n),Re(e,t)}function cx(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var n=we();e=Gn(e,t),e!==null&&(va(e,t,n),Re(e,n))}function Yk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cx(e,n)}function Kk(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(t),cx(e,n)}var hx;hx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,Dk(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,Ot&&t.flags&1048576&&mw(t,ou,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;zl(e,t),e=t.pendingProps;var s=cr(t,_e.current);tr(t,n),s=sp(null,t,i,e,s,n);var r=rp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(i)?(r=!0,su(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jf(t),s.updater=Ju,t.stateNode=s,s._reactInternals=t,Ld(t,i,e,n),t=Rd(null,t,i,!0,r,n)):(t.tag=0,Ot&&r&&Zf(t),ye(null,t,s,n),t=t.child),t;case 16:i=t.elementType;t:{switch(zl(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Qk(i),e=on(i,e),s){case 0:t=Od(null,t,i,e,n);break t;case 1:t=L_(null,t,i,e,n);break t;case 11:t=P_(null,t,i,e,n);break t;case 14:t=I_(null,t,i,on(i.type,e),n);break t}throw Error(B(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:on(i,s),Od(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:on(i,s),L_(e,t,i,s,n);case 3:t:{if(Yw(t),e===null)throw Error(B(387));i=t.pendingProps,r=t.memoizedState,s=r.element,xw(e,t),uu(t,i,null,n);var a=t.memoizedState;if(i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=pr(Error(B(423)),t),t=M_(e,t,i,n,s);break t}else if(i!==s){s=pr(Error(B(424)),t),t=M_(e,t,i,n,s);break t}else for(ze=_i(t.stateNode.containerInfo.firstChild),Fe=t,Ot=!0,ln=null,n=yw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),i===s){t=Yn(e,t,n);break t}ye(e,t,i,n)}t=t.child}return t;case 5:return Sw(t),e===null&&Td(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Sd(i,s)?a=null:r!==null&&Sd(i,r)&&(t.flags|=32),Gw(e,t),ye(e,t,a,n),t.child;case 6:return e===null&&Td(t),null;case 13:return Kw(e,t,n);case 4:return tp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=dr(t,null,i,n):ye(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:on(i,s),P_(e,t,i,s,n);case 7:return ye(e,t,t.pendingProps,n),t.child;case 8:return ye(e,t,t.pendingProps.children,n),t.child;case 12:return ye(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,a=s.value,bt(au,i._currentValue),i._currentValue=a,r!==null)if(_n(r.value,a)){if(r.children===s.children&&!Me.current){t=Yn(e,t,n);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var u=r.dependencies;if(u!==null){a=r.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(r.tag===1){c=Un(-1,n&-n),c.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Pd(r.return,n,t),u.lanes|=n;break}c=c.next}}else if(r.tag===10)a=r.type===t.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(B(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Pd(a,n,t),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,tr(t,n),s=Xe(s),i=i(s),t.flags|=1,ye(e,t,i,n),t.child;case 14:return i=t.type,s=on(i,t.pendingProps),s=on(i.type,s),I_(e,t,i,s,n);case 15:return $w(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:on(i,s),zl(e,t),t.tag=1,Oe(i)?(e=!0,su(t)):e=!1,tr(t,n),Ww(t,i,s),Ld(t,i,s,n),Rd(null,t,i,!0,e,n);case 19:return qw(e,t,n);case 22:return Zw(e,t,n)}throw Error(B(156,t.tag))};function dx(e,t){return B0(e,t)}function qk(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,i){return new qk(e,t,n,i)}function mp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qk(e){if(typeof e=="function")return mp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nf)return 11;if(e===Af)return 14}return 2}function xi(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,i,s,r){var a=2;if(i=e,typeof e=="function")mp(e)&&(a=1);else if(typeof e=="string")a=5;else t:switch(e){case Ds:return os(n.children,s,r,t);case Rf:a=8,s|=8;break;case td:return e=Ye(12,n,t,s|2),e.elementType=td,e.lanes=r,e;case ed:return e=Ye(13,n,t,s),e.elementType=ed,e.lanes=r,e;case nd:return e=Ye(19,n,t,s),e.elementType=nd,e.lanes=r,e;case S0:return nc(n,s,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w0:a=10;break t;case x0:a=9;break t;case Nf:a=11;break t;case Af:a=14;break t;case ri:a=16,i=null;break t}throw Error(B(130,e==null?e:typeof e,""))}return t=Ye(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function os(e,t,n,i){return e=Ye(7,e,i,t),e.lanes=n,e}function nc(e,t,n,i){return e=Ye(22,e,i,t),e.elementType=S0,e.lanes=n,e.stateNode={isHidden:!1},e}function kh(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function Th(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xk(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ah(0),this.expirationTimes=ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gp(e,t,n,i,s,r,a,u,c){return e=new Xk(e,t,n,u,c),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Ye(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jf(r),e}function Jk(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function fx(e){if(!e)return Li;e=e._reactInternals;t:{if(ys(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Oe(n))return fw(e,n,t)}return t}function px(e,t,n,i,s,r,a,u,c){return e=gp(n,i,!0,e,s,r,a,u,c),e.context=fx(null),n=e.current,i=we(),s=wi(n),r=Un(i,s),r.callback=t??null,vi(n,r,s),e.current.lanes=s,va(e,s,i),Re(e,i),e}function ic(e,t,n,i){var s=t.current,r=we(),a=wi(s);return n=fx(n),t.context===null?t.context=n:t.pendingContext=n,t=Un(r,a),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=vi(s,t,a),e!==null&&(mn(e,s,a,r),Nl(e,s,a)),a}function _u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function H_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _p(e,t){H_(e,t),(e=e.alternate)&&H_(e,t)}function tT(){return null}var mx=typeof reportError=="function"?reportError:function(e){console.error(e)};function vp(e){this._internalRoot=e}sc.prototype.render=vp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));ic(e,t,null,null)};sc.prototype.unmount=vp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ds(function(){ic(null,e,null,null)}),t[Zn]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ai.length&&t!==0&&t<ai[n].priority;n++);ai.splice(n,0,e),n===0&&Y0(e)}};function yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function W_(){}function eT(e,t,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var d=_u(a);r.call(d)}}var a=px(t,i,e,0,null,!1,!1,"",W_);return e._reactRootContainer=a,e[Zn]=a.current,$o(e.nodeType===8?e.parentNode:e),ds(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var u=i;i=function(){var d=_u(c);u.call(d)}}var c=gp(e,0,!1,null,null,!1,!1,"",W_);return e._reactRootContainer=c,e[Zn]=c.current,$o(e.nodeType===8?e.parentNode:e),ds(function(){ic(t,c,n,i)}),c}function oc(e,t,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var u=s;s=function(){var c=_u(a);u.call(c)}}ic(t,a,e,s)}else a=eT(n,t,e,s,i);return _u(a)}V0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=po(t.pendingLanes);n!==0&&(Ff(t,n|1),Re(t,Ut()),!(ft&6)&&(mr=Ut()+500,Di()))}break;case 13:ds(function(){var i=Gn(e,1);if(i!==null){var s=we();mn(i,e,1,s)}}),_p(e,1)}};Bf=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=we();mn(t,e,134217728,n)}_p(e,134217728)}};$0=function(e){if(e.tag===13){var t=wi(e),n=Gn(e,t);if(n!==null){var i=we();mn(n,e,t,i)}_p(e,t)}};Z0=function(){return yt};G0=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}};dd=function(e,t,n){switch(t){case"input":if(rd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=qu(i);if(!s)throw Error(B(90));b0(i),rd(i,s)}}}break;case"textarea":k0(e,n);break;case"select":t=n.value,t!=null&&qs(e,!!n.multiple,t,!1)}};R0=dp;N0=ds;var nT={usingClientEntryPoint:!1,Events:[wa,js,qu,M0,O0,dp]},eo={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iT={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=z0(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||tT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Zu=dl.inject(iT),Pn=dl}catch{}}je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nT;je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(t))throw Error(B(200));return Jk(e,t,null,n)};je.createRoot=function(e,t){if(!yp(e))throw Error(B(299));var n=!1,i="",s=mx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gp(e,1,!1,null,null,n,!1,i,s),e[Zn]=t.current,$o(e.nodeType===8?e.parentNode:e),new vp(t)};je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=z0(t),e=e===null?null:e.stateNode,e};je.flushSync=function(e){return ds(e)};je.hydrate=function(e,t,n){if(!rc(t))throw Error(B(200));return oc(null,e,t,!0,n)};je.hydrateRoot=function(e,t,n){if(!yp(e))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",a=mx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=px(t,null,e,1,n??null,s,!1,r,a),e[Zn]=t.current,$o(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new sc(t)};je.render=function(e,t,n){if(!rc(t))throw Error(B(200));return oc(null,e,t,!1,n)};je.unmountComponentAtNode=function(e){if(!rc(e))throw Error(B(40));return e._reactRootContainer?(ds(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[Zn]=null})}),!0):!1};je.unstable_batchedUpdates=dp;je.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!rc(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return oc(e,t,n,!1,i)};je.version="18.3.1-next-f1338f8080-20240426";function gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gx)}catch(e){console.error(e)}}gx(),g0.exports=je;var _x=g0.exports,vx,U_=_x;vx=U_.createRoot,U_.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ta.apply(this,arguments)}var hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hi||(hi={}));const V_="popstate";function sT(e){e===void 0&&(e={});function t(i,s){let{pathname:r,search:a,hash:u}=i.location;return $d("",{pathname:r,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:vu(s)}return oT(t,n,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rT(){return Math.random().toString(36).substr(2,8)}function $_(e,t){return{usr:e.state,key:e.key,idx:t}}function $d(e,t,n,i){return n===void 0&&(n=null),ta({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||i||rT()})}function vu(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function oT(e,t,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,u=hi.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(ta({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){u=hi.Pop;let E=p(),w=E==null?null:E-d;d=E,c&&c({action:u,location:S.location,delta:w})}function _(E,w){u=hi.Push;let C=$d(S.location,E,w);d=p()+1;let b=$_(C,d),P=S.createHref(C);try{a.pushState(b,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(P)}r&&c&&c({action:u,location:S.location,delta:1})}function v(E,w){u=hi.Replace;let C=$d(S.location,E,w);d=p();let b=$_(C,d),P=S.createHref(C);a.replaceState(b,"",P),r&&c&&c({action:u,location:S.location,delta:0})}function x(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof E=="string"?E:vu(E);return C=C.replace(/ $/,"%20"),Yt(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let S={get action(){return u},get location(){return e(s,a)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(V_,m),c=E,()=>{s.removeEventListener(V_,m),c=null}},createHref(E){return t(s,E)},createURL:x,encodeLocation(E){let w=x(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:_,replace:v,go(E){return a.go(E)}};return S}var Z_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Z_||(Z_={}));function aT(e,t,n){return n===void 0&&(n="/"),lT(e,t,n,!1)}function lT(e,t,n,i){let s=typeof t=="string"?Er(t):t,r=wp(s.pathname||"/",n);if(r==null)return null;let a=wx(e);uT(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=wT(r);u=vT(a[c],d,i)}return u}function wx(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,a,u)=>{let c={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};c.relativePath.startsWith("/")&&(Yt(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=Si([i,c.relativePath]),p=n.concat(c);r.children&&r.children.length>0&&(Yt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),wx(r.children,t,p,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:gT(d,r.index),routesMeta:p})};return e.forEach((r,a)=>{var u;if(r.path===""||!((u=r.path)!=null&&u.includes("?")))s(r,a);else for(let c of xx(r.path))s(r,a,c)}),t}function xx(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=xx(i.join("/")),u=[];return u.push(...a.map(c=>c===""?r:[r,c].join("/"))),s&&u.push(...a),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function uT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_T(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const cT=/^:[\w-]+$/,hT=3,dT=2,fT=1,pT=10,mT=-2,G_=e=>e==="*";function gT(e,t){let n=e.split("/"),i=n.length;return n.some(G_)&&(i+=mT),t&&(i+=dT),n.filter(s=>!G_(s)).reduce((s,r)=>s+(cT.test(r)?hT:r===""?fT:pT),i)}function _T(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function vT(e,t,n){let{routesMeta:i}=e,s={},r="/",a=[];for(let u=0;u<i.length;++u){let c=i[u],d=u===i.length-1,p=r==="/"?t:t.slice(r.length)||"/",m=Y_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),_=c.route;if(!m&&d&&n&&!i[i.length-1].route.index&&(m=Y_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Si([r,m.pathname]),pathnameBase:bT(Si([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=Si([r,m.pathnameBase]))}return a}function Y_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=yT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,p,m)=>{let{paramName:_,isOptional:v}=p;if(_==="*"){let S=u[m]||"";a=r.slice(0,r.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[m];return v&&!x?d[_]=void 0:d[_]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:a,pattern:e}}function yT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function wT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function xT(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Er(e):e;return{pathname:n?n.startsWith("/")?n:ST(n,t):t,search:ET(i),hash:kT(s)}}function ST(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ph(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Sx(e,t){let n=CT(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Cx(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=Er(e):(s=ta({},e),Yt(!s.pathname||!s.pathname.includes("?"),Ph("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),Ph("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),Ph("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,u;if(a==null)u=n;else{let m=t.length-1;if(!i&&a.startsWith("..")){let _=a.split("/");for(;_[0]==="..";)_.shift(),m-=1;s.pathname=_.join("/")}u=m>=0?t[m]:"/"}let c=xT(s,u),d=a&&a!=="/"&&a.endsWith("/"),p=(r||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Si=e=>e.join("/").replace(/\/\/+/g,"/"),bT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ET=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bx=["post","put","patch","delete"];new Set(bx);const PT=["get",...bx];new Set(PT);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ea.apply(this,arguments)}const xp=R.createContext(null),IT=R.createContext(null),ws=R.createContext(null),ac=R.createContext(null),xs=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Ex=R.createContext(null);function LT(e,t){let{relative:n}=t===void 0?{}:t;Sa()||Yt(!1);let{basename:i,navigator:s}=R.useContext(ws),{hash:r,pathname:a,search:u}=Px(e,{relative:n}),c=a;return i!=="/"&&(c=a==="/"?i:Si([i,a])),s.createHref({pathname:c,search:u,hash:r})}function Sa(){return R.useContext(ac)!=null}function lc(){return Sa()||Yt(!1),R.useContext(ac).location}function kx(e){R.useContext(ws).static||R.useLayoutEffect(e)}function Tx(){let{isDataRoute:e}=R.useContext(xs);return e?UT():MT()}function MT(){Sa()||Yt(!1);let e=R.useContext(xp),{basename:t,future:n,navigator:i}=R.useContext(ws),{matches:s}=R.useContext(xs),{pathname:r}=lc(),a=JSON.stringify(Sx(s,n.v7_relativeSplatPath)),u=R.useRef(!1);return kx(()=>{u.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){i.go(d);return}let m=Cx(d,JSON.parse(a),r,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Si([t,m.pathname])),(p.replace?i.replace:i.push)(m,p.state,p)},[t,i,a,r,e])}function Px(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=R.useContext(ws),{matches:s}=R.useContext(xs),{pathname:r}=lc(),a=JSON.stringify(Sx(s,i.v7_relativeSplatPath));return R.useMemo(()=>Cx(e,JSON.parse(a),r,n==="path"),[e,a,r,n])}function OT(e,t){return RT(e,t)}function RT(e,t,n,i){Sa()||Yt(!1);let{navigator:s}=R.useContext(ws),{matches:r}=R.useContext(xs),a=r[r.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=lc(),p;if(t){var m;let E=typeof t=="string"?Er(t):t;c==="/"||(m=E.pathname)!=null&&m.startsWith(c)||Yt(!1),p=E}else p=d;let _=p.pathname||"/",v=_;if(c!=="/"){let E=c.replace(/^\//,"").split("/");v="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=aT(e,{pathname:v}),S=FT(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Si([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Si([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),r,n,i);return t&&S?R.createElement(ac.Provider,{value:{location:ea({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:hi.Pop}},S):S}function NT(){let e=WT(),t=TT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:s},n):null,null)}const AT=R.createElement(NT,null);class DT extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(xs.Provider,{value:this.props.routeContext},R.createElement(Ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zT(e){let{routeContext:t,match:n,children:i}=e,s=R.useContext(xp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(xs.Provider,{value:t},i)}function FT(e,t,n,i){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var r;if(!n)return null;if(n.errors)e=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let p=a.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Yt(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:v}=n,x=m.route.loader&&_[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,_)=>{let v,x=!1,S=null,E=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,S=m.route.errorElement||AT,c&&(d<0&&_===0?(x=!0,E=null):d===_&&(x=!0,E=m.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,_+1)),C=()=>{let b;return v?b=S:x?b=E:m.route.Component?b=R.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=p,R.createElement(zT,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?R.createElement(DT,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var Ix=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ix||{}),yu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yu||{});function BT(e){let t=R.useContext(xp);return t||Yt(!1),t}function jT(e){let t=R.useContext(IT);return t||Yt(!1),t}function HT(e){let t=R.useContext(xs);return t||Yt(!1),t}function Lx(e){let t=HT(),n=t.matches[t.matches.length-1];return n.route.id||Yt(!1),n.route.id}function WT(){var e;let t=R.useContext(Ex),n=jT(yu.UseRouteError),i=Lx(yu.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function UT(){let{router:e}=BT(Ix.UseNavigateStable),t=Lx(yu.UseNavigateStable),n=R.useRef(!1);return kx(()=>{n.current=!0}),R.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ea({fromRouteId:t},r)))},[e,t])}function Hl(e){Yt(!1)}function VT(e){let{basename:t="/",children:n=null,location:i,navigationType:s=hi.Pop,navigator:r,static:a=!1,future:u}=e;Sa()&&Yt(!1);let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:r,static:a,future:ea({v7_relativeSplatPath:!1},u)}),[c,u,r,a]);typeof i=="string"&&(i=Er(i));let{pathname:p="/",search:m="",hash:_="",state:v=null,key:x="default"}=i,S=R.useMemo(()=>{let E=wp(p,c);return E==null?null:{location:{pathname:E,search:m,hash:_,state:v,key:x},navigationType:s}},[c,p,m,_,v,x,s]);return S==null?null:R.createElement(ws.Provider,{value:d},R.createElement(ac.Provider,{children:n,value:S}))}function $T(e){let{children:t,location:n}=e;return OT(Zd(t),n)}new Promise(()=>{});function Zd(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(i,s)=>{if(!R.isValidElement(i))return;let r=[...t,s];if(i.type===R.Fragment){n.push.apply(n,Zd(i.props.children,r));return}i.type!==Hl&&Yt(!1),!i.props.index||!i.props.children||Yt(!1);let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Zd(i.props.children,r)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gd.apply(this,arguments)}function ZT(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function GT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YT(e,t){return e.button===0&&(!t||t==="_self")&&!GT(e)}const KT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qT="6";try{window.__reactRouterVersion=qT}catch{}const QT="startTransition",K_=G1[QT];function XT(e){let{basename:t,children:n,future:i,window:s}=e,r=R.useRef();r.current==null&&(r.current=sT({window:s,v5Compat:!0}));let a=r.current,[u,c]=R.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},p=R.useCallback(m=>{d&&K_?K_(()=>c(m)):c(m)},[c,d]);return R.useLayoutEffect(()=>a.listen(p),[a,p]),R.createElement(VT,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a,future:i})}const JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=R.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:u,target:c,to:d,preventScrollReset:p,viewTransition:m}=t,_=ZT(t,KT),{basename:v}=R.useContext(ws),x,S=!1;if(typeof d=="string"&&tP.test(d)&&(x=d,JT))try{let b=new URL(window.location.href),P=d.startsWith("//")?new URL(b.protocol+d):new URL(d),M=wp(P.pathname,v);P.origin===b.origin&&M!=null?d=M+P.search+P.hash:S=!0}catch{}let E=LT(d,{relative:s}),w=eP(d,{replace:a,state:u,target:c,preventScrollReset:p,relative:s,viewTransition:m});function C(b){i&&i(b),b.defaultPrevented||w(b)}return R.createElement("a",Gd({},_,{href:x||E,onClick:S||r?i:C,ref:n,target:c}))});var q_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(q_||(q_={}));var Q_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Q_||(Q_={}));function eP(e,t){let{target:n,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:u}=t===void 0?{}:t,c=Tx(),d=lc(),p=Px(e,{relative:a});return R.useCallback(m=>{if(YT(m,n)){m.preventDefault();let _=i!==void 0?i:vu(d)===vu(p);c(e,{replace:_,state:s,preventScrollReset:r,relative:a,viewTransition:u})}},[d,c,p,i,s,n,e,r,a,u])}function nP(){const[e,t]=R.useState(!1),n=R.useRef(null),i=R.useRef(null),s=()=>{t(!e)},r=a=>{n.current&&!n.current.contains(a.target)&&i.current&&!i.current.contains(a.target)&&t(!1)};return R.useEffect(()=>(e?document.addEventListener("click",r):document.removeEventListener("click",r),()=>{document.removeEventListener("click",r)}),[e]),T.jsx("header",{className:"navbar",children:T.jsxs("div",{className:"navbarContent",children:[T.jsx("div",{children:T.jsx(es,{to:"/",onClick:()=>t(!1),className:"logo",children:"RACCOON RECON"})}),T.jsx("button",{ref:i,className:"hamburgerToggle",onClick:s,children:T.jsx("img",{src:"hamburger-menu.svg",alt:"Menu"})}),T.jsxs("nav",{ref:n,className:`mainNav ${e?"open":""}`,children:[T.jsx(es,{to:"/",onClick:()=>t(!1),children:"Home"}),T.jsx(es,{to:"/submissions",onClick:()=>t(!1),children:"Submit"}),T.jsx(es,{to:"/dashboard",onClick:()=>t(!1),children:"Dashboard"})]})]})})}function iP(){return T.jsx("footer",{className:"footer",children:T.jsx("div",{className:"footerContent",children:T.jsxs("div",{children:[T.jsx("div",{className:"logos",children:T.jsx("a",{"aria-label":"github",href:"https://www.github.com/krakenattacken",target:"_blank",rel:"noopener noreferrer",children:T.jsx("img",{src:"github.svg",alt:"Github logo"})})}),T.jsx("p",{children:"© Raccoon Recon 2024"})]})})})}function sP(){return T.jsxs("div",{className:"home",children:[T.jsxs("section",{className:"hero",children:[T.jsxs("div",{children:[T.jsx("h1",{children:"Toronto has a lot of raccoons."}),T.jsx("p",{children:"help find them!"})]}),T.jsxs("div",{className:"buttonGroup",children:[T.jsx(es,{to:"/submissions",children:T.jsx("button",{type:"button",children:"REPORT A SIGHTING"})}),T.jsx(es,{to:"/dashboard",children:T.jsx("button",{type:"button",children:"VIEW THE DASHBOARD"})})]}),T.jsx("img",{className:"heroImage",src:"/raccoon-recon/images/landing_hero.png"})]}),T.jsx("section",{className:"sectionContainer about bg-green-300",children:T.jsxs("div",{className:"wrapper",children:[T.jsx("h2",{className:"sectionTitle",children:"About Raccoon Recon"}),T.jsx("p",{children:"Once upon a time, raccoons were rare enough in Toronto that a sighting warranted a news article. But now, they're everywhere. And despite some... valiant efforts by the city, they've won the war and will continue causing chaos. Forever."}),T.jsx("p",{children:"Raccoon Recon is a simple web app that lets people report raccoon sightings and builds a spatio-temporal record of where these furry fellows have been."})]})}),T.jsx("section",{className:"sectionContainer bg-green-200",children:T.jsxs("div",{className:"wrapper",children:[T.jsx("h2",{className:"sectionTitle",children:"Raccoon Behaviour (and protecting yourself)"}),T.jsxs("p",{children:["Though urban raccoons do not usually approach humans and are relatively tame, with all wild animals it's best to exercise caution. Don't feed the raccoons, please. The following information comes from the ",T.jsx("a",{href:"https://www.toronto.ca/community-people/animals-pets/wildlife-in-the-city/raccoons/",target:"_blank",rel:"noopener noreferrer",children:" City of Toronto's page on raccoons."})]}),T.jsx("h3",{children:"Normal Behaviour"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Nocturnal. You may see raccoons in the daytime during breeding season (January to mid-March) or if they have been scared out of a hiding spot."}),T.jsx("li",{children:"Docile unless provoked. Raccoons would rather run away. Do not corner them."})]}),T.jsx("h3",{children:"Rabies"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Rabies is a viral infection of the central nervous system that can affect all mammals. It is fatal once clinical signs appear."}),T.jsx("li",{children:"Clinical signs may include restlessness, anorexia, difficulty swallowing, vomiting, or diarrhea"}),T.jsx("li",{children:"After clinical signs appear, infected creatures may have problems with balance, aggression, salivating poor coordination, and self-mutilation."})]}),T.jsx("h3",{children:"Canine Distemper (CDV)"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Canine distemper is a virus that is present in the raccoon population at low levels. As the name suggests, dogs can also contract the virus if they are not vaccinated. Humans cannot be infected."}),T.jsx("li",{children:"Raccoons with distemper may approach people, or curl up to sleep in open areas in close proximity to people. They generally act disoriented or lethargic, but can become aggressive if cornered. They may have seizures. Symptoms of CDV appear similar to rabies. Exercise caution."})]}),T.jsx("p",{children:"Please seek immediate medical attention if you are bitten or scratched by a raccoon (or any wild animal)."})]})}),T.jsx("section",{className:"sectionContainer issue bg-green-100",children:T.jsxs("div",{className:"wrapper",children:[T.jsx("h2",{className:"sectionTitle",children:"Got an issue?"}),T.jsxs("p",{children:["If it's a bug, report it on the ",T.jsx("a",{href:"https://www.github.com/krakenattacken/raccoon-recon/issues",target:"_blank",rel:"noopener noreferrer",children:"Github page"}),"."]}),T.jsx("p",{children:"If it's related to a real raccoon, please call 311 (or your local non-emergency service that handles wild animals) "}),T.jsx("ul",{children:T.jsxs("li",{children:[T.jsx("a",{href:"https://www.toronto.ca/home/311-toronto-at-your-service/submit-a-service-request-or-feedback/",target:"_blank",rel:"noopener noreferrer",children:"Toronto 311 service requests"}),"."]})})]})})]})}var X_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(e,t){if(!e)throw kr(t)},kr=function(e){return new Error("Firebase Database ("+Mx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},rP=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],u=e[n++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},Sp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,u=a?e[s+1]:0,c=s+2<e.length,d=c?e[s+2]:0,p=r>>2,m=(r&3)<<4|u>>4;let _=(u&15)<<2|d>>6,v=d&63;c||(v=64,a||(_=64)),i.push(n[p],n[m],n[_],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ox(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],u=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const m=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||u==null||d==null||m==null)throw new oP;const _=r<<2|u>>4;if(i.push(_),d!==64){const v=u<<4&240|d>>2;if(i.push(v),m!==64){const x=d<<6&192|m;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class oP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rx=function(e){const t=Ox(e);return Sp.encodeByteArray(t,!0)},wu=function(e){return Rx(e).replace(/\./g,"")},Yd=function(e){try{return Sp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e){return Nx(void 0,e)}function Nx(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!lP(n)||(e[n]=Nx(e[n],t[n]));return e}function lP(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=()=>uP().__FIREBASE_DEFAULTS__,hP=()=>{if(typeof process>"u"||typeof X_>"u")return;const e=X_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},dP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Yd(e[1]);return t&&JSON.parse(t)},Ax=()=>{try{return cP()||hP()||dP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fP=e=>{var t,n;return(n=(t=Ax())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},pP=e=>{const t=fP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Dx=()=>{var e;return(e=Ax())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wu(JSON.stringify(n)),wu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gP())}function _P(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fx(){return Mx.NODE_ADMIN===!0}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function yP(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="FirebaseError";class Ca extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=wP,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bx.prototype.create)}}class Bx{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?xP(r,i):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Ca(s,u,i)}}function xP(e,t){return e.replace(SP,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const SP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(e){return JSON.parse(e)}function ie(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=function(e){let t={},n={},i={},s="";try{const r=e.split(".");t=na(Yd(r[0])||""),n=na(Yd(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:s}},CP=function(e){const t=jx(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bP=function(e){const t=jx(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function J_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xu(e,t,n){const i={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=t.call(n,e[s],s,e));return i}function Kd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(tv(r)&&tv(a)){if(!Kd(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function tv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let m=0;m<16;m++)i[m]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)i[m]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let m=16;m<80;m++){const _=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(_<<1|_>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4],d,p;for(let m=0;m<80;m++){m<40?m<20?(d=u^r&(a^u),p=1518500249):(d=r^a^u,p=1859775393):m<60?(d=r&a|u&(r|a),p=2400959708):(d=r^a^u,p=3395469782);const _=(s<<5|s>>>27)+d+c+p+i[m]&4294967295;c=u,u=a,a=(r<<30|r>>>2)&4294967295,r=s,s=_}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<n;)if(r[a]=t.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=t[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)t[i]=this.chain_[s]>>r&255,++i;return t}}function Cp(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,H(i<e.length,"Surrogate pair missing trail surrogate.");const a=e.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},cc=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(e){return e&&e._delegate?e._delegate:e}class ia{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new uc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LP(t))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Ki){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ki){return this.instances.has(t)}getOptions(t=Ki){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);i===u&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IP(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ki){return this.component?this.component.multipleInstances?t:Ki:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IP(e){return e===Ki?void 0:e}function LP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new PP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));const OP={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},RP=St.INFO,NP={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},AP=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=NP[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hx{constructor(t){this.name=t,this._logLevel=RP,this._logHandler=AP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}}const DP=(e,t)=>t.some(n=>e instanceof n);let ev,nv;function zP(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FP(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wx=new WeakMap,qd=new WeakMap,Ux=new WeakMap,Ih=new WeakMap,bp=new WeakMap;function BP(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Ci(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Wx.set(n,e)}).catch(()=>{}),bp.set(t,e),t}function jP(e){if(qd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});qd.set(e,t)}let Qd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ux.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HP(e){Qd=e(Qd)}function WP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Lh(this),t,...n);return Ux.set(i,t.sort?t.sort():[t]),Ci(i)}:FP().includes(e)?function(...t){return e.apply(Lh(this),t),Ci(Wx.get(this))}:function(...t){return Ci(e.apply(Lh(this),t))}}function UP(e){return typeof e=="function"?WP(e):(e instanceof IDBTransaction&&jP(e),DP(e,zP())?new Proxy(e,Qd):e)}function Ci(e){if(e instanceof IDBRequest)return BP(e);if(Ih.has(e))return Ih.get(e);const t=UP(e);return t!==e&&(Ih.set(e,t),bp.set(t,e)),t}const Lh=e=>bp.get(e);function VP(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),u=Ci(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Ci(a.result),c.oldVersion,c.newVersion,Ci(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const $P=["get","getKey","getAll","getAllKeys","count"],ZP=["put","add","delete","clear"],Mh=new Map;function iv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mh.get(t))return Mh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=ZP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||$P.includes(n)))return;const r=async function(a,...u){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return Mh.set(t,r),r}HP(e=>({...e,get:(t,n,i)=>iv(t,n)||e.get(t,n,i),has:(t,n)=>!!iv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xd="@firebase/app",sv="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Hx("@firebase/app"),KP="@firebase/app-compat",qP="@firebase/analytics-compat",QP="@firebase/analytics",XP="@firebase/app-check-compat",JP="@firebase/app-check",tI="@firebase/auth",eI="@firebase/auth-compat",nI="@firebase/database",iI="@firebase/data-connect",sI="@firebase/database-compat",rI="@firebase/functions",oI="@firebase/functions-compat",aI="@firebase/installations",lI="@firebase/installations-compat",uI="@firebase/messaging",cI="@firebase/messaging-compat",hI="@firebase/performance",dI="@firebase/performance-compat",fI="@firebase/remote-config",pI="@firebase/remote-config-compat",mI="@firebase/storage",gI="@firebase/storage-compat",_I="@firebase/firestore",vI="@firebase/vertexai",yI="@firebase/firestore-compat",wI="firebase",xI="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",SI={[Xd]:"fire-core",[KP]:"fire-core-compat",[QP]:"fire-analytics",[qP]:"fire-analytics-compat",[JP]:"fire-app-check",[XP]:"fire-app-check-compat",[tI]:"fire-auth",[eI]:"fire-auth-compat",[nI]:"fire-rtdb",[iI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[rI]:"fire-fn",[oI]:"fire-fn-compat",[aI]:"fire-iid",[lI]:"fire-iid-compat",[uI]:"fire-fcm",[cI]:"fire-fcm-compat",[hI]:"fire-perf",[dI]:"fire-perf-compat",[fI]:"fire-rc",[pI]:"fire-rc-compat",[mI]:"fire-gcs",[gI]:"fire-gcs-compat",[_I]:"fire-fst",[yI]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[wI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,CI=new Map,tf=new Map;function rv(e,t){try{e.container.addComponent(t)}catch(n){Kn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Cu(e){const t=e.name;if(tf.has(t))return Kn.debug(`There were multiple attempts to register component ${t}.`),!1;tf.set(t,e);for(const n of Su.values())rv(n,e);for(const n of CI.values())rv(n,e);return!0}function bI(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Bx("app","Firebase",EI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=xI;function Vx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw bi.create("bad-app-name",{appName:String(s)});if(n||(n=Dx()),!n)throw bi.create("no-options");const r=Su.get(s);if(r){if(Kd(n,r.options)&&Kd(i,r.config))return r;throw bi.create("duplicate-app",{appName:s})}const a=new MP(s);for(const c of tf.values())a.addComponent(c);const u=new kI(n,i,a);return Su.set(s,u),u}function PI(e=Jd){const t=Su.get(e);if(!t&&e===Jd&&Dx())return Vx();if(!t)throw bi.create("no-app",{appName:e});return t}function nr(e,t,n){var i;let s=(i=SI[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const u=[`Unable to register library "${s}" with version "${t}":`];r&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&u.push("and"),a&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kn.warn(u.join(" "));return}Cu(new ia(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebase-heartbeat-database",LI=1,sa="firebase-heartbeat-store";let Oh=null;function $x(){return Oh||(Oh=VP(II,LI,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(e=>{throw bi.create("idb-open",{originalErrorMessage:e.message})})),Oh}async function MI(e){try{const n=(await $x()).transaction(sa),i=await n.objectStore(sa).get(Zx(e));return await n.done,i}catch(t){if(t instanceof Ca)Kn.warn(t.message);else{const n=bi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kn.warn(n.message)}}}async function ov(e,t){try{const i=(await $x()).transaction(sa,"readwrite");await i.objectStore(sa).put(t,Zx(e)),await i.done}catch(n){if(n instanceof Ca)Kn.warn(n.message);else{const i=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(i.message)}}}function Zx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1024,RI=30*24*60*60*1e3;class NI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=av();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=RI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=av(),{heartbeatsToSend:i,unsentEntries:s}=AI(this._heartbeatsCache.heartbeats),r=wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Kn.warn(n),""}}}function av(){return new Date().toISOString().substring(0,10)}function AI(e,t=OI){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),lv(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lv(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class DI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vP()?yP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ov(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ov(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function lv(e){return wu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e){Cu(new ia("platform-logger",t=>new GP(t),"PRIVATE")),Cu(new ia("heartbeat",t=>new NI(t),"PRIVATE")),nr(Xd,sv,e),nr(Xd,sv,"esm2017"),nr("fire-js","")}zI("");var uv={};const cv="@firebase/database",hv="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gx="";function FI(e){Gx=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ie(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:na(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Jn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new BI(t)}}catch{}return new jI},ns=Yx("localStorage"),HI=Yx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Hx("@firebase/database"),WI=function(){let e=1;return function(){return e++}}(),Kx=function(e){const t=TP(e),n=new kP;n.update(t);const i=n.digest();return Sp.encodeByteArray(i)},ba=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ba.apply(null,i):typeof i=="object"?t+=ie(i):t+=i,t+=" "}return t};let Po=null,dv=!0;const UI=function(e,t){H(!t,"Can't turn on custom loggers persistently."),ir.logLevel=St.VERBOSE,Po=ir.log.bind(ir)},pe=function(...e){if(dv===!0&&(dv=!1,Po===null&&HI.get("logging_enabled")===!0&&UI()),Po){const t=ba.apply(null,e);Po(t)}},Ea=function(e){return function(...t){pe(e,...t)}},ef=function(...e){const t="FIREBASE INTERNAL ERROR: "+ba(...e);ir.error(t)},qn=function(...e){const t=`FIREBASE FATAL ERROR: ${ba(...e)}`;throw ir.error(t),new Error(t)},Ne=function(...e){const t="FIREBASE WARNING: "+ba(...e);ir.warn(t)},VI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ne("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qx=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},$I=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_r="[MIN_NAME]",fs="[MAX_NAME]",Pr=function(e,t){if(e===t)return 0;if(e===_r||t===fs)return-1;if(t===_r||e===fs)return 1;{const n=fv(e),i=fv(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},ZI=function(e,t){return e===t?0:e<t?-1:1},no=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ie(t))},Ep=function(e){if(typeof e!="object"||e===null)return ie(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ie(t[i]),n+=":",n+=Ep(e[t[i]]);return n+="}",n},Qx=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let s=0;s<n;s+=t)s+t>n?i.push(e.substring(s,n)):i.push(e.substring(s,s+t));return i};function Ae(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Xx=function(e){H(!qx(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let s,r,a,u,c;e===0?(r=0,a=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),i),r=u+i,a=Math.round(e*Math.pow(2,n-u)-Math.pow(2,n))):(r=0,a=Math.round(e/Math.pow(2,1-i-n))));const d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)d.push(r%2?1:0),r=Math.floor(r/2);d.push(s?1:0),d.reverse();const p=d.join("");let m="";for(c=0;c<64;c+=8){let _=parseInt(p.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),m=m+_}return m.toLowerCase()},GI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function KI(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const qI=new RegExp("^-?(0*)\\d{1,10}$"),QI=-2147483648,XI=2147483647,fv=function(e){if(qI.test(e)){const t=Number(e);if(t>=QI&&t<=XI)return t}return null},Ir=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ne("Exception was thrown by user callback.",n),t},Math.floor(0))}},JI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Io=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ne(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ne(t)}}class Wl{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Wl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="5",Jx="v",tS="s",eS="r",nS="f",iS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sS="ls",rS="p",nf="ac",oS="websocket",aS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n,i,s,r=!1,a="",u=!1,c=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ns.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ns.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function nL(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function uS(e,t,n){H(typeof t=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let i;if(t===oS)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===aS)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);nL(e)&&(n.ns=e.namespace);const s=[];return Ae(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.counters_={}}incrementCounter(t,n=1){Jn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return aP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh={},Nh={};function Tp(e){const t=e.toString();return Rh[t]||(Rh[t]=new iL),Rh[t]}function sL(e,t){const n=e.toString();return Nh[n]||(Nh[n]=t()),Nh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Ir(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="start",oL="close",aL="pLPCommand",lL="pRTLPCB",cS="id",hS="pw",dS="ser",uL="cb",cL="seg",hL="ts",dL="d",fL="dframe",fS=1870,pS=30,pL=fS-pS,mL=25e3,gL=3e4;class Gs{constructor(t,n,i,s,r,a,u){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ea(t),this.stats_=Tp(n),this.urlFn=c=>(this.appCheckToken&&(c[nf]=this.appCheckToken),uS(n,aS,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rL(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gL)),$I(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pp((...r)=>{const[a,u,c,d,p]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===pv)this.id=u,this.password=c;else if(a===oL)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,u]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[pv]="t",i[dS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[uL]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Jx]=kp,this.transportSessionId&&(i[tS]=this.transportSessionId),this.lastSessionId&&(i[sS]=this.lastSessionId),this.applicationId&&(i[rS]=this.applicationId),this.appCheckToken&&(i[nf]=this.appCheckToken),typeof location<"u"&&location.hostname&&iS.test(location.hostname)&&(i[eS]=nS);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gs.forceAllow_=!0}static forceDisallow(){Gs.forceDisallow_=!0}static isAvailable(){return Gs.forceAllow_?!0:!Gs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!GI()&&!YI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ie(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Rx(n),s=Qx(i,pL);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[fL]="t",i[cS]=t,i[hS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ie(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pp{constructor(t,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WI(),window[aL+this.uniqueCallbackIdentifier]=t,window[lL+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pp.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){pe("frame writing exception"),u.stack&&pe(u.stack),pe(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||pe("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[cS]=this.myID,t[hS]=this.myPW,t[dS]=this.currentSerial;let n=this.urlFn(t),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pS+i.length<=fS;){const a=this.pendingSegs.shift();i=i+"&"+cL+s+"="+a.seg+"&"+hL+s+"="+a.ts+"&"+dL+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(mL)),r=()=>{clearTimeout(s),i()};this.addTag(t,r)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{pe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=16384,vL=45e3;let bu=null;typeof MozWebSocket<"u"?bu=MozWebSocket:typeof WebSocket<"u"&&(bu=WebSocket);class un{constructor(t,n,i,s,r,a,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ea(this.connId),this.stats_=Tp(n),this.connURL=un.connectionURL_(n,a,u,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,s,r){const a={};return a[Jx]=kp,typeof location<"u"&&location.hostname&&iS.test(location.hostname)&&(a[eS]=nS),n&&(a[tS]=n),i&&(a[sS]=i),s&&(a[nf]=s),r&&(a[rS]=r),uS(t,oS,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ns.set("previous_websocket_failure",!0);try{let i;Fx(),this.mySock=new bu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&bu!==null&&!un.forceDisallow_}static previouslyFailed(){return ns.isInMemoryStorage||ns.get("previous_websocket_failure")===!0}markConnectionHealthy(){ns.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=na(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=ie(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Qx(n,_L);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vL))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static get ALL_TRANSPORTS(){return[Gs,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=un&&un.isAvailable();let i=n&&!un.previouslyFailed();if(t.webSocketOnly&&(n||Ne("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[un];else{const s=this.transports_=[];for(const r of ra.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);ra.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ra.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=6e4,wL=5e3,xL=10*1024,SL=100*1024,Ah="t",mv="d",CL="s",gv="r",bL="e",_v="o",vv="a",yv="n",wv="p",EL="h";class kL{constructor(t,n,i,s,r,a,u,c,d,p){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ea("c:"+this.id+":"),this.transportManager_=new ra(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=Io(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ah in t){const n=t[Ah];n===vv?this.upgradeIfSecondaryHealthy_():n===gv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_v&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=no("t",t),i=no("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=no("t",t),i=no("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=no(Ah,t);if(mv in t){const i=t[mv];if(n===EL){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===yv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CL?this.onConnectionShutdown_(i):n===gv?this.onReset_(i):n===bL?ef("Server Error: "+i):n===_v?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ef("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),kp!==i&&Ne("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Io(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yL))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ns.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{put(t,n,i,s){}merge(t,n,i,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const s=this.getInitialEvent(t);s&&n.apply(i,s)}off(t,n,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(t){H(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends gS{static getInstance(){return new Eu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=32,Sv=768;class wt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function gt(){return new wt("")}function rt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mi(e){return e.pieces_.length-e.pieceNum_}function Ct(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new wt(e.pieces_,t)}function _S(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function TL(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function vS(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yS(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new wt(t,0)}function qt(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof wt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new wt(n,0)}function at(e){return e.pieceNum_>=e.pieces_.length}function Ie(e,t){const n=rt(e),i=rt(t);if(n===null)return t;if(n===i)return Ie(Ct(e),Ct(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ip(e,t){if(Mi(e)!==Mi(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function cn(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Mi(e)>Mi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class PL{constructor(t,n){this.errorPrefix_=n,this.parts_=vS(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=cc(this.parts_[i]);wS(this)}}function IL(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=cc(t),wS(e)}function LL(e){const t=e.parts_.pop();e.byteLength_-=cc(t),e.parts_.length>0&&(e.byteLength_-=1)}function wS(e){if(e.byteLength_>Sv)throw new Error(e.errorPrefix_+"has a key path longer than "+Sv+" bytes ("+e.byteLength_+").");if(e.parts_.length>xv)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xv+") or object contains a cycle "+qi(e))}function qi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends gS{static getInstance(){return new Lp}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=1e3,ML=60*5*1e3,Cv=30*1e3,OL=1.3,RL=3e4,NL="server_kill",bv=3;class Vn extends mS{constructor(t,n,i,s,r,a,u,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=Vn.nextPersistentConnectionId_++,this.log_=Ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=io,this.maxReconnectDelay_=ML,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Fx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Eu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const s=++this.requestNumber_,r={r:s,a:t,b:n};this.log_(ie(r)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const n=new uc,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(t,n,i,s){this.initConnection_();const r=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:n,query:t,tag:i};this.listens.get(a).set(r,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";t.tag&&(r.q=n._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(a,r,u=>{const c=u.d,d=u.s;Vn.warnOnListenWarnings_(c,n),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),d!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Jn(t,"w")){const i=gr(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Ne(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||bP(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cv)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=CP(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,n)}sendUnlisten_(t,n,i,s){this.log_("Unlisten on "+t+" for "+n);const r={p:t},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,n,i,s){this.putInternal("p",t,n,i,s)}merge(t,n,i,s){this.putInternal("m",t,n,i,s)}putInternal(t,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ie(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):ef("Unrecognized action received from server: "+ie(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=io,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=io,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RL&&(this.reconnectDelay_=io),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*OL)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Vn.nextConnectionId_++,r=this.lastSessionId;let a=!1,u=null;const c=function(){u?u.close():(a=!0,i())},d=function(m){H(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(m)};this.realtime_={close:c,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?pe("getToken() completed but was canceled"):(pe("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=_&&_.token,u=new kL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,v=>{Ne(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(NL)},r))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Ne(m),c())}}}interrupt(t){pe("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){pe("Resuming connection for reason: "+t),delete this.interruptReasons_[t],J_(this.interruptReasons_)&&(this.reconnectDelay_=io,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(r=>Ep(r)).join("$"):i="default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const i=new wt(t).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,n){pe("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bv&&(this.reconnectDelay_=Cv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){pe("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Gx.replace(/\./g,"-")]=1,zx()?t["framework.cordova"]=1:_P()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Eu.getInstance().currentlyOnline();return J_(this.interruptReasons_)&&t}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ot(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new ot(_r,t),s=new ot(_r,n);return this.compare(i,s)!==0}minPost(){return ot.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class xS extends hc{static get __EMPTY_NODE(){return fl}static set __EMPTY_NODE(t){fl=t}compare(t,n){return Pr(t.name,n.name)}isDefinedOn(t){throw kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ot.MIN}maxPost(){return new ot(fs,fl)}makePost(t,n){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new ot(t,fl)}toString(){return".key"}}const sr=new xS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?i(t.key,n):1,s&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ne{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??ne.RED,this.left=s??Le.EMPTY_NODE,this.right=r??Le.EMPTY_NODE}copy(t,n,i,s,r){return new ne(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Le.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,s;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return Le.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ne.RED=!0;ne.BLACK=!1;class AL{copy(t,n,i,s,r){return this}insert(t,n,i){return new ne(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Le{constructor(t,n=Le.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Le(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ne.BLACK,null,null))}remove(t){return new Le(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ne.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new pl(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new pl(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new pl(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new pl(this.root_,null,this.comparator_,!0,t)}}Le.EMPTY_NODE=new AL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(e,t){return Pr(e.name,t.name)}function Mp(e,t){return Pr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf;function zL(e){sf=e}const SS=function(e){return typeof e=="number"?"number:"+Xx(e):"string:"+e},CS=function(e){if(e.isLeafNode()){const t=e.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Jn(t,".sv"),"Priority must be a string or number.")}else H(e===sf||e.isEmpty(),"priority of unexpected type.");H(e===sf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev;class te{static set __childrenNodeConstructor(t){Ev=t}static get __childrenNodeConstructor(){return Ev}constructor(t,n=te.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new te(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:te.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return at(t)?this:rt(t)===".priority"?this.priorityNode_:te.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:te.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=rt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(H(i!==".priority"||Mi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,te.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ct(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+SS(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Xx(this.value_):t+=this.value_,this.lazyHash_=Kx(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===te.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof te.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,s=te.VALUE_TYPE_ORDER.indexOf(n),r=te.VALUE_TYPE_ORDER.indexOf(i);return H(s>=0,"Unknown leaf type: "+n),H(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}te.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bS,ES;function FL(e){bS=e}function BL(e){ES=e}class jL extends hc{compare(t,n){const i=t.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Pr(t.name,n.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ot.MIN}maxPost(){return new ot(fs,new te("[PRIORITY-POST]",ES))}makePost(t,n){const i=bS(t);return new ot(n,new te("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ht=new jL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=Math.log(2);class WL{constructor(t){const n=r=>parseInt(Math.log(r)/HL,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=i(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ku=function(e,t,n,i){e.sort(t);const s=function(c,d){const p=d-c;let m,_;if(p===0)return null;if(p===1)return m=e[c],_=n?n(m):m,new ne(_,m.node,ne.BLACK,null,null);{const v=parseInt(p/2,10)+c,x=s(c,v),S=s(v+1,d);return m=e[v],_=n?n(m):m,new ne(_,m.node,ne.BLACK,x,S)}},r=function(c){let d=null,p=null,m=e.length;const _=function(x,S){const E=m-x,w=m;m-=x;const C=s(E+1,w),b=e[E],P=n?n(b):b;v(new ne(P,b.node,S,null,C))},v=function(x){d?(d.left=x,d=x):(p=x,d=x)};for(let x=0;x<c.count;++x){const S=c.nextBitIsOne(),E=Math.pow(2,c.count-(x+1));S?_(E,ne.BLACK):(_(E,ne.BLACK),_(E,ne.RED))}return p},a=new WL(e.length),u=r(a);return new Le(i||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh;const Rs={};class Wn{static get Default(){return H(Rs&&Ht,"ChildrenNode.ts has not been loaded"),Dh=Dh||new Wn({".priority":Rs},{".priority":Ht}),Dh}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=gr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Le?n:null}hasIndex(t){return Jn(this.indexSet_,t.toString())}addIndex(t,n){H(t!==sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(ot.Wrap);let a=r.getNext();for(;a;)s=s||t.isDefinedOn(a.node),i.push(a),a=r.getNext();let u;s?u=ku(i,t.getCompare()):u=Rs;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const p=Object.assign({},this.indexes_);return p[c]=u,new Wn(p,d)}addToIndexes(t,n){const i=xu(this.indexes_,(s,r)=>{const a=gr(this.indexSet_,r);if(H(a,"Missing index implementation for "+r),s===Rs)if(a.isDefinedOn(t.node)){const u=[],c=n.getIterator(ot.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&u.push(d),d=c.getNext();return u.push(t),ku(u,a.getCompare())}else return Rs;else{const u=n.get(t.name);let c=s;return u&&(c=c.remove(new ot(t.name,u))),c.insert(t,t.node)}});return new Wn(i,this.indexSet_)}removeFromIndexes(t,n){const i=xu(this.indexes_,s=>{if(s===Rs)return s;{const r=n.get(t.name);return r?s.remove(new ot(t.name,r)):s}});return new Wn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so;class J{static get EMPTY_NODE(){return so||(so=new J(new Le(Mp),null,Wn.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CS(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||so}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?so:n}}getChild(t){const n=rt(t);return n===null?this:this.getImmediateChild(n).getChild(Ct(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(H(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new ot(t,n);let s,r;n.isEmpty()?(s=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?so:this.priorityNode_;return new J(s,a,r)}}updateChild(t,n){const i=rt(t);if(i===null)return n;{H(rt(t)!==".priority"||Mi(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ct(t),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(Ht,(a,u)=>{n[a]=u.val(t),i++,r&&J.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!t&&r&&s<2*i){const a=[];for(const u in n)a[u]=n[u];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+SS(this.getPriority().val())+":"),this.forEachChild(Ht,(n,i)=>{const s=i.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":Kx(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new ot(t,n));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ot(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ot(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ot.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,t)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ot.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,t)>0;)s.getNext(),r=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ka?-1:0}withIndex(t){if(t===sr||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===sr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ht),s=n.getIterator(Ht);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===sr?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UL extends J{constructor(){super(new Le(Mp),J.EMPTY_NODE,Wn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const ka=new UL;Object.defineProperties(ot,{MIN:{value:new ot(_r,J.EMPTY_NODE)},MAX:{value:new ot(fs,ka)}});xS.__EMPTY_NODE=J.EMPTY_NODE;te.__childrenNodeConstructor=J;zL(ka);BL(ka);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=!0;function ae(e,t=null){if(e===null)return J.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new te(n,ae(t))}if(!(e instanceof Array)&&VL){const n=[];let i=!1;if(Ae(e,(a,u)=>{if(a.substring(0,1)!=="."){const c=ae(u);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new ot(a,c)))}}),n.length===0)return J.EMPTY_NODE;const r=ku(n,DL,a=>a.name,Mp);if(i){const a=ku(n,Ht.getCompare());return new J(r,ae(t),new Wn({".priority":a},{".priority":Ht}))}else return new J(r,ae(t),Wn.Default)}else{let n=J.EMPTY_NODE;return Ae(e,(i,s)=>{if(Jn(e,i)&&i.substring(0,1)!=="."){const r=ae(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(ae(t))}}FL(ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L extends hc{constructor(t){super(),this.indexPath_=t,H(!at(t)&&rt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Pr(t.name,n.name):r}makePost(t,n){const i=ae(t),s=J.EMPTY_NODE.updateChild(this.indexPath_,i);return new ot(n,s)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,ka);return new ot(fs,t)}toString(){return vS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL extends hc{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Pr(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ot.MIN}maxPost(){return ot.MAX}makePost(t,n){const i=ae(t);return new ot(n,i)}toString(){return".value"}}const GL=new ZL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(e){return{type:"value",snapshotNode:e}}function vr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function oa(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function aa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function YL(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){this.index_=t}updateChild(t,n,i,s,r,a){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(n);return u.getChild(s).equals(i.getChild(s))&&u.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?t.hasChild(n)?a.trackChildChange(oa(n,u)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(vr(n,i)):a.trackChildChange(aa(n,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Ht,(s,r)=>{n.hasChild(s)||i.trackChildChange(oa(s,r))}),n.isLeafNode()||n.forEachChild(Ht,(s,r)=>{if(t.hasChild(s)){const a=t.getImmediateChild(s);a.equals(r)||i.trackChildChange(aa(s,r,a))}else i.trackChildChange(vr(s,r))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.indexedFilter_=new Op(t.getIndex()),this.index_=t.getIndex(),this.startPost_=la.getStartPost_(t),this.endPost_=la.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,s,r,a){return this.matches(new ot(n,i))||(i=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,s,r,a)}updateFullNode(t,n,i){n.isLeafNode()&&(n=J.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(J.EMPTY_NODE);const r=this;return n.forEachChild(Ht,(a,u)=>{r.matches(new ot(a,u))||(s=s.updateImmediateChild(a,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new la(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,s,r,a){return this.rangedFilter_.matches(new ot(n,i))||(i=J.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,s,r,a):this.fullLimitUpdateChild_(t,n,i,r,a)}updateFullNode(t,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=J.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;r.hasNext()&&a<this.limit_;){const u=r.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))s=s.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(J.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let a=0;for(;r.hasNext();){const u=r.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:s=s.updateImmediateChild(u.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,s,r){let a;if(this.reverse_){const m=this.index_.getCompare();a=(_,v)=>m(v,_)}else a=this.index_.getCompare();const u=t;H(u.numChildren()===this.limit_,"");const c=new ot(n,i),d=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(u.hasChild(n)){const m=u.getImmediateChild(n);let _=s.getChildAfterChild(this.index_,d,this.reverse_);for(;_!=null&&(_.name===n||u.hasChild(_.name));)_=s.getChildAfterChild(this.index_,_,this.reverse_);const v=_==null?1:a(_,c);if(p&&!i.isEmpty()&&v>=0)return r!=null&&r.trackChildChange(aa(n,i,m)),u.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(oa(n,m));const S=u.updateImmediateChild(n,J.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(r!=null&&r.trackChildChange(vr(_.name,_.node)),S.updateImmediateChild(_.name,_.node)):S}}else return i.isEmpty()?t:p&&a(d,c)>=0?(r!=null&&(r.trackChildChange(oa(d.name,d.node)),r.trackChildChange(vr(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(d.name,J.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_r}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const t=new Rp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function qL(e){return e.loadsAllData()?new Op(e.getIndex()):e.hasLimit()?new KL(e):new la(e)}function kv(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ht?n="$priority":e.index_===GL?n="$value":e.index_===sr?n="$key":(H(e.index_ instanceof $L,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ie(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=ie(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+ie(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=ie(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+ie(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Tv(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ht&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends mS{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Ea("p:rest:"),this.listens_={}}listen(t,n,i,s){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const a=Tu.getListenId_(t,i),u={};this.listens_[a]=u;const c=kv(t._queryParams);this.restRequest_(r+".json",c,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(r,m,!1,i),gr(this.listens_,a)===u){let _;d?d===401?_="permission_denied":_="rest_error:"+d:_="ok",s(_,null)}})}unlisten(t,n){const i=Tu.getListenId_(t,n);delete this.listens_[i]}get(t){const n=kv(t._queryParams),i=t._path.toString(),s=new uc;return this.restRequest_(i+".json",n,(r,a)=>{let u=a;r===404&&(u=null,r=null),r===null?(this.onDataUpdate_(i,u,!1,null),s.resolve(u)):s.reject(new Error(u))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+EP(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=na(u.responseText)}catch{Ne("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,c)}else u.status!==401&&u.status!==404&&Ne("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(){return{value:null,children:new Map}}function TS(e,t,n){if(at(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=rt(t);e.children.has(i)||e.children.set(i,Pu());const s=e.children.get(i);t=Ct(t),TS(s,t,n)}}function rf(e,t,n){e.value!==null?n(t,e.value):XL(e,(i,s)=>{const r=new wt(t.toString()+"/"+i);rf(s,r,n)})}function XL(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ae(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=10*1e3,tM=30*1e3,eM=5*60*1e3;class nM{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new JL(t);const i=Pv+(tM-Pv)*Math.random();Io(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Ae(t,(s,r)=>{r>0&&Jn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Io(this.reportStats_.bind(this),Math.floor(Math.random()*2*eM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(hn||(hn={}));function PS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Np(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ap(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=hn.ACK_USER_WRITE,this.source=PS()}operationForChild(t){if(at(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new wt(t));return new Iu(gt(),n,this.revert)}}else return H(rt(this.path)===t,"operationForChild called for unrelated child."),new Iu(Ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,n){this.source=t,this.path=n,this.type=hn.LISTEN_COMPLETE}operationForChild(t){return at(this.path)?new ua(this.source,gt()):new ua(this.source,Ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=hn.OVERWRITE}operationForChild(t){return at(this.path)?new ps(this.source,gt(),this.snap.getImmediateChild(t)):new ps(this.source,Ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=hn.MERGE}operationForChild(t){if(at(this.path)){const n=this.children.subtree(new wt(t));return n.isEmpty()?null:n.value?new ps(this.source,gt(),n.value):new ca(this.source,gt(),n)}else return H(rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ca(this.source,Ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(at(t))return this.isFullyInitialized()&&!this.filtered_;const n=rt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sM(e,t,n,i){const s=[],r=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(YL(a.childName,a.snapshotNode))}),ro(e,s,"child_removed",t,i,n),ro(e,s,"child_added",t,i,n),ro(e,s,"child_moved",r,i,n),ro(e,s,"child_changed",t,i,n),ro(e,s,"value",t,i,n),s}function ro(e,t,n,i,s,r){const a=i.filter(u=>u.type===n);a.sort((u,c)=>oM(e,u,c)),a.forEach(u=>{const c=rM(e,u,r);s.forEach(d=>{d.respondsTo(u.type)&&t.push(d.createEvent(c,e.query_))})})}function rM(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function oM(e,t,n){if(t.childName==null||n.childName==null)throw kr("Should only compare child_ events.");const i=new ot(t.childName,t.snapshotNode),s=new ot(n.childName,n.snapshotNode);return e.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e,t){return{eventCache:e,serverCache:t}}function Lo(e,t,n,i){return dc(new ms(t,n,i),e.serverCache)}function IS(e,t,n,i){return dc(e.eventCache,new ms(t,n,i))}function of(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh;const aM=()=>(zh||(zh=new Le(ZI)),zh);class Pt{static fromObject(t){let n=new Pt(null);return Ae(t,(i,s)=>{n=n.set(new wt(i),s)}),n}constructor(t,n=aM()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:gt(),value:this.value};if(at(t))return null;{const i=rt(t),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Ct(t),n);return r!=null?{path:qt(new wt(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(at(t))return this;{const n=rt(t),i=this.children.get(n);return i!==null?i.subtree(Ct(t)):new Pt(null)}}set(t,n){if(at(t))return new Pt(n,this.children);{const i=rt(t),r=(this.children.get(i)||new Pt(null)).set(Ct(t),n),a=this.children.insert(i,r);return new Pt(this.value,a)}}remove(t){if(at(t))return this.children.isEmpty()?new Pt(null):new Pt(null,this.children);{const n=rt(t),i=this.children.get(n);if(i){const s=i.remove(Ct(t));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Pt(null):new Pt(this.value,r)}else return this}}get(t){if(at(t))return this.value;{const n=rt(t),i=this.children.get(n);return i?i.get(Ct(t)):null}}setTree(t,n){if(at(t))return n;{const i=rt(t),r=(this.children.get(i)||new Pt(null)).setTree(Ct(t),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new Pt(this.value,a)}}fold(t){return this.fold_(gt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(qt(t,s),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,gt(),n)}findOnPath_(t,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(at(t))return null;{const r=rt(t),a=this.children.get(r);return a?a.findOnPath_(Ct(t),qt(n,r),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,gt(),n)}foreachOnPath_(t,n,i){if(at(t))return this;{this.value&&i(n,this.value);const s=rt(t),r=this.children.get(s);return r?r.foreachOnPath_(Ct(t),qt(n,s),i):new Pt(null)}}foreach(t){this.foreach_(gt(),t)}foreach_(t,n){this.children.inorderTraversal((i,s)=>{s.foreach_(qt(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.writeTree_=t}static empty(){return new gn(new Pt(null))}}function Mo(e,t,n){if(at(t))return new gn(new Pt(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const s=i.path;let r=i.value;const a=Ie(s,t);return r=r.updateChild(a,n),new gn(e.writeTree_.set(s,r))}else{const s=new Pt(n),r=e.writeTree_.setTree(t,s);return new gn(r)}}}function Iv(e,t,n){let i=e;return Ae(n,(s,r)=>{i=Mo(i,qt(t,s),r)}),i}function Lv(e,t){if(at(t))return gn.empty();{const n=e.writeTree_.setTree(t,new Pt(null));return new gn(n)}}function af(e,t){return Ss(e,t)!=null}function Ss(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ie(n.path,t)):null}function Mv(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ht,(i,s)=>{t.push(new ot(i,s))}):e.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&t.push(new ot(i,s.value))}),t}function Ei(e,t){if(at(t))return e;{const n=Ss(e,t);return n!=null?new gn(new Pt(n)):new gn(e.writeTree_.subtree(t))}}function lf(e){return e.writeTree_.isEmpty()}function yr(e,t){return LS(gt(),e.writeTree_,t)}function LS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((s,r)=>{s===".priority"?(H(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=LS(qt(e,s),r,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(qt(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e,t){return NS(t,e)}function lM(e,t,n,i,s){H(i>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:s}),s&&(e.visibleWrites=Mo(e.visibleWrites,t,n)),e.lastWriteId=i}function uM(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function cM(e,t){const n=e.allWrites.findIndex(u=>u.writeId===t);H(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let s=i.visible,r=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const u=e.allWrites[a];u.visible&&(a>=n&&hM(u,i.path)?s=!1:cn(i.path,u.path)&&(r=!0)),a--}if(s){if(r)return dM(e),!0;if(i.snap)e.visibleWrites=Lv(e.visibleWrites,i.path);else{const u=i.children;Ae(u,c=>{e.visibleWrites=Lv(e.visibleWrites,qt(i.path,c))})}return!0}else return!1}function hM(e,t){if(e.snap)return cn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&cn(qt(e.path,n),t))return!0;return!1}function dM(e){e.visibleWrites=MS(e.allWrites,fM,gt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function fM(e){return e.visible}function MS(e,t,n){let i=gn.empty();for(let s=0;s<e.length;++s){const r=e[s];if(t(r)){const a=r.path;let u;if(r.snap)cn(n,a)?(u=Ie(n,a),i=Mo(i,u,r.snap)):cn(a,n)&&(u=Ie(a,n),i=Mo(i,gt(),r.snap.getChild(u)));else if(r.children){if(cn(n,a))u=Ie(n,a),i=Iv(i,u,r.children);else if(cn(a,n))if(u=Ie(a,n),at(u))i=Iv(i,gt(),r.children);else{const c=gr(r.children,rt(u));if(c){const d=c.getChild(Ct(u));i=Mo(i,gt(),d)}}}else throw kr("WriteRecord should have .snap or .children")}}return i}function OS(e,t,n,i,s){if(!i&&!s){const r=Ss(e.visibleWrites,t);if(r!=null)return r;{const a=Ei(e.visibleWrites,t);if(lf(a))return n;if(n==null&&!af(a,gt()))return null;{const u=n||J.EMPTY_NODE;return yr(a,u)}}}else{const r=Ei(e.visibleWrites,t);if(!s&&lf(r))return n;if(!s&&n==null&&!af(r,gt()))return null;{const a=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(cn(d.path,t)||cn(t,d.path))},u=MS(e.allWrites,a,t),c=n||J.EMPTY_NODE;return yr(u,c)}}}function pM(e,t,n){let i=J.EMPTY_NODE;const s=Ss(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Ht,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=Ei(e.visibleWrites,t);return n.forEachChild(Ht,(a,u)=>{const c=yr(Ei(r,new wt(a)),u);i=i.updateImmediateChild(a,c)}),Mv(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=Ei(e.visibleWrites,t);return Mv(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function mM(e,t,n,i,s){H(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=qt(t,n);if(af(e.visibleWrites,r))return null;{const a=Ei(e.visibleWrites,r);return lf(a)?s.getChild(n):yr(a,s.getChild(n))}}function gM(e,t,n,i){const s=qt(t,n),r=Ss(e.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=Ei(e.visibleWrites,s);return yr(a,i.getNode().getImmediateChild(n))}else return null}function _M(e,t){return Ss(e.visibleWrites,t)}function vM(e,t,n,i,s,r,a){let u;const c=Ei(e.visibleWrites,t),d=Ss(c,gt());if(d!=null)u=d;else if(n!=null)u=yr(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const p=[],m=a.getCompare(),_=r?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let v=_.getNext();for(;v&&p.length<s;)m(v,i)!==0&&p.push(v),v=_.getNext();return p}else return[]}function yM(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function Lu(e,t,n,i){return OS(e.writeTree,e.treePath,t,n,i)}function zp(e,t){return pM(e.writeTree,e.treePath,t)}function Ov(e,t,n,i){return mM(e.writeTree,e.treePath,t,n,i)}function Mu(e,t){return _M(e.writeTree,qt(e.treePath,t))}function wM(e,t,n,i,s,r){return vM(e.writeTree,e.treePath,t,n,i,s,r)}function Fp(e,t,n){return gM(e.writeTree,e.treePath,t,n)}function RS(e,t){return NS(qt(e.treePath,t),e.writeTree)}function NS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,aa(i,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,oa(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,vr(i,t.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,aa(i,t.snapshotNode,s.oldSnap));else throw kr("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const AS=new SM;class Bp{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fp(this.writes_,t,i)}}getChildAfterChild(t,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gs(this.viewCache_),r=wM(this.writes_,s,n,1,i,t);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(e){return{filter:e}}function bM(e,t){H(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function EM(e,t,n,i,s){const r=new xM;let a,u;if(n.type===hn.OVERWRITE){const d=n;d.source.fromUser?a=uf(e,t,d.path,d.snap,i,s,r):(H(d.source.fromServer,"Unknown source."),u=d.source.tagged||t.serverCache.isFiltered()&&!at(d.path),a=Ou(e,t,d.path,d.snap,i,s,u,r))}else if(n.type===hn.MERGE){const d=n;d.source.fromUser?a=TM(e,t,d.path,d.children,i,s,r):(H(d.source.fromServer,"Unknown source."),u=d.source.tagged||t.serverCache.isFiltered(),a=cf(e,t,d.path,d.children,i,s,u,r))}else if(n.type===hn.ACK_USER_WRITE){const d=n;d.revert?a=LM(e,t,d.path,i,s,r):a=PM(e,t,d.path,d.affectedTree,i,s,r)}else if(n.type===hn.LISTEN_COMPLETE)a=IM(e,t,n.path,i,r);else throw kr("Unknown operation type: "+n.type);const c=r.getChanges();return kM(t,a,c),{viewCache:a,changes:c}}function kM(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=of(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(kS(of(t)))}}function DS(e,t,n,i,s,r){const a=t.eventCache;if(Mu(i,n)!=null)return t;{let u,c;if(at(n))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=gs(t),p=d instanceof J?d:J.EMPTY_NODE,m=zp(i,p);u=e.filter.updateFullNode(t.eventCache.getNode(),m,r)}else{const d=Lu(i,gs(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,r)}else{const d=rt(n);if(d===".priority"){H(Mi(n)===1,"Can't have a priority with additional path components");const p=a.getNode();c=t.serverCache.getNode();const m=Ov(i,n,p,c);m!=null?u=e.filter.updatePriority(p,m):u=a.getNode()}else{const p=Ct(n);let m;if(a.isCompleteForChild(d)){c=t.serverCache.getNode();const _=Ov(i,n,a.getNode(),c);_!=null?m=a.getNode().getImmediateChild(d).updateChild(p,_):m=a.getNode().getImmediateChild(d)}else m=Fp(i,d,t.serverCache);m!=null?u=e.filter.updateChild(a.getNode(),d,m,p,s,r):u=a.getNode()}}return Lo(t,u,a.isFullyInitialized()||at(n),e.filter.filtersNodes())}}function Ou(e,t,n,i,s,r,a,u){const c=t.serverCache;let d;const p=a?e.filter:e.filter.getIndexedFilter();if(at(n))d=p.updateFullNode(c.getNode(),i,null);else if(p.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,i);d=p.updateFullNode(c.getNode(),v,null)}else{const v=rt(n);if(!c.isCompleteForPath(n)&&Mi(n)>1)return t;const x=Ct(n),E=c.getNode().getImmediateChild(v).updateChild(x,i);v===".priority"?d=p.updatePriority(c.getNode(),E):d=p.updateChild(c.getNode(),v,E,x,AS,null)}const m=IS(t,d,c.isFullyInitialized()||at(n),p.filtersNodes()),_=new Bp(s,m,r);return DS(e,m,n,s,_,u)}function uf(e,t,n,i,s,r,a){const u=t.eventCache;let c,d;const p=new Bp(s,t,r);if(at(n))d=e.filter.updateFullNode(t.eventCache.getNode(),i,a),c=Lo(t,d,!0,e.filter.filtersNodes());else{const m=rt(n);if(m===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),i),c=Lo(t,d,u.isFullyInitialized(),u.isFiltered());else{const _=Ct(n),v=u.getNode().getImmediateChild(m);let x;if(at(_))x=i;else{const S=p.getCompleteChild(m);S!=null?_S(_)===".priority"&&S.getChild(yS(_)).isEmpty()?x=S:x=S.updateChild(_,i):x=J.EMPTY_NODE}if(v.equals(x))c=t;else{const S=e.filter.updateChild(u.getNode(),m,x,_,p,a);c=Lo(t,S,u.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Rv(e,t){return e.eventCache.isCompleteForChild(t)}function TM(e,t,n,i,s,r,a){let u=t;return i.foreach((c,d)=>{const p=qt(n,c);Rv(t,rt(p))&&(u=uf(e,u,p,d,s,r,a))}),i.foreach((c,d)=>{const p=qt(n,c);Rv(t,rt(p))||(u=uf(e,u,p,d,s,r,a))}),u}function Nv(e,t,n){return n.foreach((i,s)=>{t=t.updateChild(i,s)}),t}function cf(e,t,n,i,s,r,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,d;at(n)?d=i:d=new Pt(null).setTree(n,i);const p=t.serverCache.getNode();return d.children.inorderTraversal((m,_)=>{if(p.hasChild(m)){const v=t.serverCache.getNode().getImmediateChild(m),x=Nv(e,v,_);c=Ou(e,c,new wt(m),x,s,r,a,u)}}),d.children.inorderTraversal((m,_)=>{const v=!t.serverCache.isCompleteForChild(m)&&_.value===null;if(!p.hasChild(m)&&!v){const x=t.serverCache.getNode().getImmediateChild(m),S=Nv(e,x,_);c=Ou(e,c,new wt(m),S,s,r,a,u)}}),c}function PM(e,t,n,i,s,r,a){if(Mu(s,n)!=null)return t;const u=t.serverCache.isFiltered(),c=t.serverCache;if(i.value!=null){if(at(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ou(e,t,n,c.getNode().getChild(n),s,r,u,a);if(at(n)){let d=new Pt(null);return c.getNode().forEachChild(sr,(p,m)=>{d=d.set(new wt(p),m)}),cf(e,t,n,d,s,r,u,a)}else return t}else{let d=new Pt(null);return i.foreach((p,m)=>{const _=qt(n,p);c.isCompleteForPath(_)&&(d=d.set(p,c.getNode().getChild(_)))}),cf(e,t,n,d,s,r,u,a)}}function IM(e,t,n,i,s){const r=t.serverCache,a=IS(t,r.getNode(),r.isFullyInitialized()||at(n),r.isFiltered());return DS(e,a,n,i,AS,s)}function LM(e,t,n,i,s,r){let a;if(Mu(i,n)!=null)return t;{const u=new Bp(i,t,s),c=t.eventCache.getNode();let d;if(at(n)||rt(n)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=Lu(i,gs(t));else{const m=t.serverCache.getNode();H(m instanceof J,"serverChildren would be complete if leaf node"),p=zp(i,m)}p=p,d=e.filter.updateFullNode(c,p,r)}else{const p=rt(n);let m=Fp(i,p,t.serverCache);m==null&&t.serverCache.isCompleteForChild(p)&&(m=c.getImmediateChild(p)),m!=null?d=e.filter.updateChild(c,p,m,Ct(n),u,r):t.eventCache.getNode().hasChild(p)?d=e.filter.updateChild(c,p,J.EMPTY_NODE,Ct(n),u,r):d=c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Lu(i,gs(t)),a.isLeafNode()&&(d=e.filter.updateFullNode(d,a,r)))}return a=t.serverCache.isFullyInitialized()||Mu(i,gt())!=null,Lo(t,d,a,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Op(i.getIndex()),r=qL(i);this.processor_=CM(r);const a=n.serverCache,u=n.eventCache,c=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),d=r.updateFullNode(J.EMPTY_NODE,u.getNode(),null),p=new ms(c,a.isFullyInitialized(),s.filtersNodes()),m=new ms(d,u.isFullyInitialized(),r.filtersNodes());this.viewCache_=dc(m,p),this.eventGenerator_=new iM(this.query_)}get query(){return this.query_}}function OM(e){return e.viewCache_.serverCache.getNode()}function RM(e,t){const n=gs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!at(t)&&!n.getImmediateChild(rt(t)).isEmpty())?n.getChild(t):null}function Av(e){return e.eventRegistrations_.length===0}function NM(e,t){e.eventRegistrations_.push(t)}function Dv(e,t,n){const i=[];if(n){H(t==null,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(r=>{const a=r.createCancelEvent(n,s);a&&i.push(a)})}if(t){let s=[];for(let r=0;r<e.eventRegistrations_.length;++r){const a=e.eventRegistrations_[r];if(!a.matches(t))s.push(a);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(r+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return i}function zv(e,t,n,i){t.type===hn.MERGE&&t.source.queryId!==null&&(H(gs(e.viewCache_),"We should always have a full cache before handling merges"),H(of(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,r=EM(e.processor_,s,t,n,i);return bM(e.processor_,r.viewCache),H(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=r.viewCache,zS(e,r.changes,r.viewCache.eventCache.getNode(),null)}function AM(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ht,(r,a)=>{i.push(vr(r,a))}),n.isFullyInitialized()&&i.push(kS(n.getNode())),zS(e,i,n.getNode(),t)}function zS(e,t,n,i){const s=i?[i]:e.eventRegistrations_;return sM(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;class DM{constructor(){this.views=new Map}}function zM(e){H(!Ru,"__referenceConstructor has already been defined"),Ru=e}function FM(){return H(Ru,"Reference.ts has not been loaded"),Ru}function BM(e){return e.views.size===0}function jp(e,t,n,i){const s=t.source.queryId;if(s!==null){const r=e.views.get(s);return H(r!=null,"SyncTree gave us an op for an invalid query."),zv(r,t,n,i)}else{let r=[];for(const a of e.views.values())r=r.concat(zv(a,t,n,i));return r}}function jM(e,t,n,i,s){const r=t._queryIdentifier,a=e.views.get(r);if(!a){let u=Lu(n,s?i:null),c=!1;u?c=!0:i instanceof J?(u=zp(n,i),c=!1):(u=J.EMPTY_NODE,c=!1);const d=dc(new ms(u,c,!1),new ms(i,s,!1));return new MM(t,d)}return a}function HM(e,t,n,i,s,r){const a=jM(e,t,i,s,r);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),NM(a,n),AM(a,n)}function WM(e,t,n,i){const s=t._queryIdentifier,r=[];let a=[];const u=Oi(e);if(s==="default")for(const[c,d]of e.views.entries())a=a.concat(Dv(d,n,i)),Av(d)&&(e.views.delete(c),d.query._queryParams.loadsAllData()||r.push(d.query));else{const c=e.views.get(s);c&&(a=a.concat(Dv(c,n,i)),Av(c)&&(e.views.delete(s),c.query._queryParams.loadsAllData()||r.push(c.query)))}return u&&!Oi(e)&&r.push(new(FM())(t._repo,t._path)),{removed:r,events:a}}function FS(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function rr(e,t){let n=null;for(const i of e.views.values())n=n||RM(i,t);return n}function BS(e,t){if(t._queryParams.loadsAllData())return fc(e);{const i=t._queryIdentifier;return e.views.get(i)}}function jS(e,t){return BS(e,t)!=null}function Oi(e){return fc(e)!=null}function fc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;function UM(e){H(!Nu,"__referenceConstructor has already been defined"),Nu=e}function VM(){return H(Nu,"Reference.ts has not been loaded"),Nu}let $M=1;class Fv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pt(null),this.pendingWriteTree_=yM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HS(e,t,n,i,s){return lM(e.pendingWriteTree_,t,n,i,s),s?Ta(e,new ps(PS(),t,n)):[]}function is(e,t,n=!1){const i=uM(e.pendingWriteTree_,t);if(cM(e.pendingWriteTree_,t)){let r=new Pt(null);return i.snap!=null?r=r.set(gt(),!0):Ae(i.children,a=>{r=r.set(new wt(a),!0)}),Ta(e,new Iu(i.path,r,n))}else return[]}function pc(e,t,n){return Ta(e,new ps(Np(),t,n))}function ZM(e,t,n){const i=Pt.fromObject(n);return Ta(e,new ca(Np(),t,i))}function GM(e,t){return Ta(e,new ua(Np(),t))}function YM(e,t,n){const i=Wp(e,n);if(i){const s=Up(i),r=s.path,a=s.queryId,u=Ie(r,t),c=new ua(Ap(a),u);return Vp(e,r,c)}else return[]}function hf(e,t,n,i,s=!1){const r=t._path,a=e.syncPointTree_.get(r);let u=[];if(a&&(t._queryIdentifier==="default"||jS(a,t))){const c=WM(a,t,n,i);BM(a)&&(e.syncPointTree_=e.syncPointTree_.remove(r));const d=c.removed;if(u=c.events,!s){const p=d.findIndex(_=>_._queryParams.loadsAllData())!==-1,m=e.syncPointTree_.findOnPath(r,(_,v)=>Oi(v));if(p&&!m){const _=e.syncPointTree_.subtree(r);if(!_.isEmpty()){const v=QM(_);for(let x=0;x<v.length;++x){const S=v[x],E=S.query,w=VS(e,S);e.listenProvider_.startListening(Oo(E),Au(e,E),w.hashFn,w.onComplete)}}}!m&&d.length>0&&!i&&(p?e.listenProvider_.stopListening(Oo(t),null):d.forEach(_=>{const v=e.queryToTagMap.get(mc(_));e.listenProvider_.stopListening(Oo(_),v)}))}XM(e,d)}return u}function KM(e,t,n,i){const s=Wp(e,i);if(s!=null){const r=Up(s),a=r.path,u=r.queryId,c=Ie(a,t),d=new ps(Ap(u),c,n);return Vp(e,a,d)}else return[]}function qM(e,t,n,i){const s=Wp(e,i);if(s){const r=Up(s),a=r.path,u=r.queryId,c=Ie(a,t),d=Pt.fromObject(n),p=new ca(Ap(u),c,d);return Vp(e,a,p)}else return[]}function Bv(e,t,n,i=!1){const s=t._path;let r=null,a=!1;e.syncPointTree_.foreachOnPath(s,(_,v)=>{const x=Ie(_,s);r=r||rr(v,x),a=a||Oi(v)});let u=e.syncPointTree_.get(s);u?(a=a||Oi(u),r=r||rr(u,gt())):(u=new DM,e.syncPointTree_=e.syncPointTree_.set(s,u));let c;r!=null?c=!0:(c=!1,r=J.EMPTY_NODE,e.syncPointTree_.subtree(s).foreachChild((v,x)=>{const S=rr(x,gt());S&&(r=r.updateImmediateChild(v,S))}));const d=jS(u,t);if(!d&&!t._queryParams.loadsAllData()){const _=mc(t);H(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=JM();e.queryToTagMap.set(_,v),e.tagToQueryMap.set(v,_)}const p=Dp(e.pendingWriteTree_,s);let m=HM(u,t,n,p,r,c);if(!d&&!a&&!i){const _=BS(u,t);m=m.concat(tO(e,t,_))}return m}function Hp(e,t,n){const s=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(a,u)=>{const c=Ie(a,t),d=rr(u,c);if(d)return d});return OS(s,t,r,n,!0)}function Ta(e,t){return WS(t,e.syncPointTree_,null,Dp(e.pendingWriteTree_,gt()))}function WS(e,t,n,i){if(at(e.path))return US(e,t,n,i);{const s=t.get(gt());n==null&&s!=null&&(n=rr(s,gt()));let r=[];const a=rt(e.path),u=e.operationForChild(a),c=t.children.get(a);if(c&&u){const d=n?n.getImmediateChild(a):null,p=RS(i,a);r=r.concat(WS(u,c,d,p))}return s&&(r=r.concat(jp(s,e,i,n))),r}}function US(e,t,n,i){const s=t.get(gt());n==null&&s!=null&&(n=rr(s,gt()));let r=[];return t.children.inorderTraversal((a,u)=>{const c=n?n.getImmediateChild(a):null,d=RS(i,a),p=e.operationForChild(a);p&&(r=r.concat(US(p,u,c,d)))}),s&&(r=r.concat(jp(s,e,i,n))),r}function VS(e,t){const n=t.query,i=Au(e,n);return{hashFn:()=>(OM(t)||J.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?YM(e,n._path,i):GM(e,n._path);{const r=KI(s,n);return hf(e,n,null,r)}}}}function Au(e,t){const n=mc(t);return e.queryToTagMap.get(n)}function mc(e){return e._path.toString()+"$"+e._queryIdentifier}function Wp(e,t){return e.tagToQueryMap.get(t)}function Up(e){const t=e.indexOf("$");return H(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new wt(e.substr(0,t))}}function Vp(e,t,n){const i=e.syncPointTree_.get(t);H(i,"Missing sync point for query tag that we're tracking");const s=Dp(e.pendingWriteTree_,t);return jp(i,n,s,null)}function QM(e){return e.fold((t,n,i)=>{if(n&&Oi(n))return[fc(n)];{let s=[];return n&&(s=FS(n)),Ae(i,(r,a)=>{s=s.concat(a)}),s}})}function Oo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(VM())(e._repo,e._path):e}function XM(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const s=mc(i),r=e.queryToTagMap.get(s);e.queryToTagMap.delete(s),e.tagToQueryMap.delete(r)}}}function JM(){return $M++}function tO(e,t,n){const i=t._path,s=Au(e,t),r=VS(e,n),a=e.listenProvider_.startListening(Oo(t),s,r.hashFn,r.onComplete),u=e.syncPointTree_.subtree(i);if(s)H(!Oi(u.value),"If we're adding a query, it shouldn't be shadowed");else{const c=u.fold((d,p,m)=>{if(!at(d)&&p&&Oi(p))return[fc(p).query];{let _=[];return p&&(_=_.concat(FS(p).map(v=>v.query))),Ae(m,(v,x)=>{_=_.concat(x)}),_}});for(let d=0;d<c.length;++d){const p=c[d];e.listenProvider_.stopListening(Oo(p),Au(e,p))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new $p(n)}node(){return this.node_}}class Zp{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=qt(this.path_,t);return new Zp(this.syncTree_,n)}node(){return Hp(this.syncTree_,this.path_)}}const eO=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},jv=function(e,t,n){if(!e||typeof e!="object")return e;if(H(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return nO(e[".sv"],t,n);if(typeof e[".sv"]=="object")return iO(e[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},nO=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+e)}},iO=function(e,t,n){e.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&H(!1,"Unexpected increment value: "+i);const s=t.node();if(H(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},sO=function(e,t,n,i){return Gp(t,new Zp(n,e),i)},$S=function(e,t,n){return Gp(e,new $p(t),n)};function Gp(e,t,n){const i=e.getPriority().val(),s=jv(i,t.getImmediateChild(".priority"),n);let r;if(e.isLeafNode()){const a=e,u=jv(a.getValue(),t,n);return u!==a.getValue()||s!==a.getPriority().val()?new te(u,ae(s)):e}else{const a=e;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new te(s))),a.forEachChild(Ht,(u,c)=>{const d=Gp(c,t.getImmediateChild(u),n);d!==c&&(r=r.updateImmediateChild(u,d))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function Kp(e,t){let n=t instanceof wt?t:new wt(t),i=e,s=rt(n);for(;s!==null;){const r=gr(i.node.children,s)||{children:{},childCount:0};i=new Yp(s,i,r),n=Ct(n),s=rt(n)}return i}function Lr(e){return e.node.value}function ZS(e,t){e.node.value=t,df(e)}function GS(e){return e.node.childCount>0}function rO(e){return Lr(e)===void 0&&!GS(e)}function gc(e,t){Ae(e.node.children,(n,i)=>{t(new Yp(n,e,i))})}function YS(e,t,n,i){n&&!i&&t(e),gc(e,s=>{YS(s,t,!0,i)}),n&&i&&t(e)}function oO(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Pa(e){return new wt(e.parent===null?e.name:Pa(e.parent)+"/"+e.name)}function df(e){e.parent!==null&&aO(e.parent,e.name,e)}function aO(e,t,n){const i=rO(n),s=Jn(e.node.children,t);i&&s?(delete e.node.children[t],e.node.childCount--,df(e)):!i&&!s&&(e.node.children[t]=n.node,e.node.childCount++,df(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/[\[\].#$\/\u0000-\u001F\u007F]/,uO=/[\[\].#$\u0000-\u001F\u007F]/,Fh=10*1024*1024,KS=function(e){return typeof e=="string"&&e.length!==0&&!lO.test(e)},qS=function(e){return typeof e=="string"&&e.length!==0&&!uO.test(e)},cO=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qS(e)},QS=function(e,t,n,i){i&&t===void 0||qp(Cp(e,"value"),t,n)},qp=function(e,t,n){const i=n instanceof wt?new PL(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+qi(i));if(typeof t=="function")throw new Error(e+"contains a function "+qi(i)+" with contents = "+t.toString());if(qx(t))throw new Error(e+"contains "+t.toString()+" "+qi(i));if(typeof t=="string"&&t.length>Fh/3&&cc(t)>Fh)throw new Error(e+"contains a string greater than "+Fh+" utf8 bytes "+qi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,r=!1;if(Ae(t,(a,u)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!KS(a)))throw new Error(e+" contains an invalid key ("+a+") "+qi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IL(i,a),qp(e,u,i),LL(i)}),s&&r)throw new Error(e+' contains ".value" child '+qi(i)+" in addition to actual children.")}},XS=function(e,t,n,i){if(!qS(n))throw new Error(Cp(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hO=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XS(e,t,n)},JS=function(e,t){if(rt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},dO=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!KS(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cO(n))throw new Error(Cp(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qp(e,t){let n=null;for(let i=0;i<t.length;i++){const s=t[i],r=s.getPath();n!==null&&!Ip(r,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&e.eventLists_.push(n)}function tC(e,t,n){Qp(e,n),eC(e,i=>Ip(i,t))}function Qn(e,t,n){Qp(e,n),eC(e,i=>cn(i,t)||cn(t,i))}function eC(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const s=e.eventLists_[i];if(s){const r=s.path;t(r)?(pO(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function pO(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Po&&pe("event: "+n.toString()),Ir(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="repo_interrupt",gO=25;class _O{constructor(t,n,i,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pu(),this.transactionQueueTree_=new Yp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vO(e,t,n){if(e.stats_=Tp(e.repoInfo_),e.forceRestClient_||JI())e.server_=new Tu(e.repoInfo_,(i,s,r,a)=>{Hv(e,i,s,r,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Wv(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ie(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Vn(e.repoInfo_,t,(i,s,r,a)=>{Hv(e,i,s,r,a)},i=>{Wv(e,i)},i=>{yO(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=sL(e.repoInfo_,()=>new nM(e.stats_,e.server_)),e.infoData_=new QL,e.infoSyncTree_=new Fv({startListening:(i,s,r,a)=>{let u=[];const c=e.infoData_.getNode(i._path);return c.isEmpty()||(u=pc(e.infoSyncTree_,i._path,c),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),Jp(e,"connected",!1),e.serverSyncTree_=new Fv({startListening:(i,s,r,a)=>(e.server_.listen(i,r,s,(u,c)=>{const d=a(u,c);Qn(e.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{e.server_.unlisten(i,s)}})}function nC(e){const n=e.infoData_.getNode(new wt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Xp(e){return eO({timestamp:nC(e)})}function Hv(e,t,n,i,s){e.dataUpdateCount++;const r=new wt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(i){const c=xu(n,d=>ae(d));a=qM(e.serverSyncTree_,r,c,s)}else{const c=ae(n);a=KM(e.serverSyncTree_,r,c,s)}else if(i){const c=xu(n,d=>ae(d));a=ZM(e.serverSyncTree_,r,c)}else{const c=ae(n);a=pc(e.serverSyncTree_,r,c)}let u=r;a.length>0&&(u=_c(e,r)),Qn(e.eventQueue_,u,a)}function Wv(e,t){Jp(e,"connected",t),t===!1&&xO(e)}function yO(e,t){Ae(t,(n,i)=>{Jp(e,n,i)})}function Jp(e,t,n){const i=new wt("/.info/"+t),s=ae(n);e.infoData_.updateSnapshot(i,s);const r=pc(e.infoSyncTree_,i,s);Qn(e.eventQueue_,i,r)}function iC(e){return e.nextWriteId_++}function wO(e,t,n,i,s){tm(e,"set",{path:t.toString(),value:n,priority:i});const r=Xp(e),a=ae(n,i),u=Hp(e.serverSyncTree_,t),c=$S(a,u,r),d=iC(e),p=HS(e.serverSyncTree_,t,c,d,!0);Qp(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),(_,v)=>{const x=_==="ok";x||Ne("set at "+t+" failed: "+_);const S=is(e.serverSyncTree_,d,!x);Qn(e.eventQueue_,t,S),EO(e,s,_,v)});const m=lC(e,t);_c(e,m),Qn(e.eventQueue_,m,[])}function xO(e){tm(e,"onDisconnectEvents");const t=Xp(e),n=Pu();rf(e.onDisconnect_,gt(),(s,r)=>{const a=sO(s,r,e.serverSyncTree_,t);TS(n,s,a)});let i=[];rf(n,gt(),(s,r)=>{i=i.concat(pc(e.serverSyncTree_,s,r));const a=lC(e,s);_c(e,a)}),e.onDisconnect_=Pu(),Qn(e.eventQueue_,gt(),i)}function SO(e,t,n){let i;rt(t._path)===".info"?i=Bv(e.infoSyncTree_,t,n):i=Bv(e.serverSyncTree_,t,n),tC(e.eventQueue_,t._path,i)}function CO(e,t,n){let i;rt(t._path)===".info"?i=hf(e.infoSyncTree_,t,n):i=hf(e.serverSyncTree_,t,n),tC(e.eventQueue_,t._path,i)}function bO(e){e.persistentConnection_&&e.persistentConnection_.interrupt(mO)}function tm(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),pe(n,...t)}function EO(e,t,n,i){t&&Ir(()=>{if(n==="ok")t(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const a=new Error(r);a.code=s,t(a)}})}function sC(e,t,n){return Hp(e.serverSyncTree_,t,n)||J.EMPTY_NODE}function em(e,t=e.transactionQueueTree_){if(t||vc(e,t),Lr(t)){const n=oC(e,t);H(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&kO(e,Pa(t),n)}else GS(t)&&gc(t,n=>{em(e,n)})}function kO(e,t,n){const i=n.map(d=>d.currentWriteId),s=sC(e,t,i);let r=s;const a=s.hash();for(let d=0;d<n.length;d++){const p=n[d];H(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Ie(t,p.path);r=r.updateChild(m,p.currentOutputSnapshotRaw)}const u=r.val(!0),c=t;e.server_.put(c.toString(),u,d=>{tm(e,"transaction put response",{path:c.toString(),status:d});let p=[];if(d==="ok"){const m=[];for(let _=0;_<n.length;_++)n[_].status=2,p=p.concat(is(e.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&m.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();vc(e,Kp(e.transactionQueueTree_,t)),em(e,e.transactionQueueTree_),Qn(e.eventQueue_,t,p);for(let _=0;_<m.length;_++)Ir(m[_])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Ne("transaction at "+c.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}_c(e,t)}},a)}function _c(e,t){const n=rC(e,t),i=Pa(n),s=oC(e,n);return TO(e,s,i),i}function TO(e,t,n){if(t.length===0)return;const i=[];let s=[];const a=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const c=t[u],d=Ie(n,c.path);let p=!1,m;if(H(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,m=c.abortReason,s=s.concat(is(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=gO)p=!0,m="maxretry",s=s.concat(is(e.serverSyncTree_,c.currentWriteId,!0));else{const _=sC(e,c.path,a);c.currentInputSnapshot=_;const v=t[u].update(_.val());if(v!==void 0){qp("transaction failed: Data returned ",v,c.path);let x=ae(v);typeof v=="object"&&v!=null&&Jn(v,".priority")||(x=x.updatePriority(_.getPriority()));const E=c.currentWriteId,w=Xp(e),C=$S(x,_,w);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=C,c.currentWriteId=iC(e),a.splice(a.indexOf(E),1),s=s.concat(HS(e.serverSyncTree_,c.path,C,c.currentWriteId,c.applyLocally)),s=s.concat(is(e.serverSyncTree_,E,!0))}else p=!0,m="nodata",s=s.concat(is(e.serverSyncTree_,c.currentWriteId,!0))}Qn(e.eventQueue_,n,s),s=[],p&&(t[u].status=2,function(_){setTimeout(_,Math.floor(0))}(t[u].unwatcher),t[u].onComplete&&(m==="nodata"?i.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):i.push(()=>t[u].onComplete(new Error(m),!1,null))))}vc(e,e.transactionQueueTree_);for(let u=0;u<i.length;u++)Ir(i[u]);em(e,e.transactionQueueTree_)}function rC(e,t){let n,i=e.transactionQueueTree_;for(n=rt(t);n!==null&&Lr(i)===void 0;)i=Kp(i,n),t=Ct(t),n=rt(t);return i}function oC(e,t){const n=[];return aC(e,t,n),n.sort((i,s)=>i.order-s.order),n}function aC(e,t,n){const i=Lr(t);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);gc(t,s=>{aC(e,s,n)})}function vc(e,t){const n=Lr(t);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,ZS(t,n.length>0?n:void 0)}gc(t,i=>{vc(e,i)})}function lC(e,t){const n=Pa(rC(e,t)),i=Kp(e.transactionQueueTree_,t);return oO(i,s=>{Bh(e,s)}),Bh(e,i),YS(i,s=>{Bh(e,s)}),n}function Bh(e,t){const n=Lr(t);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(H(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):(H(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(is(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?ZS(t,void 0):n.length=r+1,Qn(e.eventQueue_,Pa(t),s);for(let a=0;a<i.length;a++)Ir(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function IO(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ne(`Invalid query segment '${n}' in query '${e}'`)}return t}const Uv=function(e,t){const n=LO(e),i=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||VI();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lS(n.host,n.secure,i,s,t,"",i!==n.subdomain),path:new wt(n.pathString)}},LO=function(e){let t="",n="",i="",s="",r="",a=!0,u="https",c=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(u=e.substring(0,d-1),e=e.substring(d+2));let p=e.indexOf("/");p===-1&&(p=e.length);let m=e.indexOf("?");m===-1&&(m=e.length),t=e.substring(0,Math.min(p,m)),p<m&&(s=PO(e.substring(p,m)));const _=IO(e.substring(Math.min(e.length,m)));d=t.indexOf(":"),d>=0?(a=u==="https"||u==="wss",c=parseInt(t.substring(d+1),10)):d=t.length;const v=t.slice(0,d);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const x=t.indexOf(".");i=t.substring(0,x).toLowerCase(),n=t.substring(x+1),r=i}"ns"in _&&(r=_.ns)}return{host:t,port:c,domain:n,subdomain:i,secure:a,scheme:u,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",MO=function(){let e=0;const t=[];return function(n){const i=n===e;e=n;let s;const r=new Array(8);for(s=7;s>=0;s--)r[s]=Vv.charAt(n%64),n=Math.floor(n/64);H(n===0,"Cannot push at time == 0");let a=r.join("");if(i){for(s=11;s>=0&&t[s]===63;s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)a+=Vv.charAt(t[s]);return H(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,n,i,s){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ie(this.snapshot.exportVal())}}class RO{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n,i,s){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return at(this._path)?null:_S(this._path)}get ref(){return new zi(this._repo,this._path)}get _queryIdentifier(){const t=Tv(this._queryParams),n=Ep(t);return n==="{}"?"default":n}get _queryObject(){return Tv(this._queryParams)}isEqual(t){if(t=Tr(t),!(t instanceof nm))return!1;const n=this._repo===t._repo,i=Ip(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+TL(this._path)}}class zi extends nm{constructor(t,n){super(t,n,new Rp,!1)}get parent(){const t=yS(this._path);return t===null?null:new zi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Du{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new wt(t),i=ha(this.ref,t);return new Du(this._node.getChild(n),i,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>t(new Du(s,ha(this.ref,i),Ht)))}hasChild(t){const n=new wt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uC(e,t){return e=Tr(e),e._checkNotDeleted("ref"),ha(e._root,t)}function ha(e,t){return e=Tr(e),rt(e._path)===null?hO("child","path",t):XS("child","path",t),new zi(e._repo,qt(e._path,t))}function AO(e,t){e=Tr(e),JS("push",e._path),QS("push",t,e._path,!0);const n=nC(e._repo),i=MO(n),s=ha(e,i),r=ha(e,i);let a;return t!=null?a=DO(r,t).then(()=>r):a=Promise.resolve(r),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function DO(e,t){e=Tr(e),JS("set",e._path),QS("set",t,e._path,!1);const n=new uc;return wO(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class im{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new OO("value",this,new Du(t.snapshotNode,new zi(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new RO(this,t,n):null}matches(t){return t instanceof im?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function zO(e,t,n,i,s){const r=new NO(n,void 0),a=new im(r);return SO(e._repo,e,a),()=>CO(e._repo,e,a)}function FO(e,t,n,i){return zO(e,"value",t)}zM(zi);UM(zi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="FIREBASE_DATABASE_EMULATOR_HOST",ff={};let jO=!1;function HO(e,t,n,i){e.repoInfo_=new lS(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function WO(e,t,n,i,s){let r=i||e.options.databaseURL;r===void 0&&(e.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pe("Using default host for project ",e.options.projectId),r=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=Uv(r,s),u=a.repoInfo,c;typeof process<"u"&&uv&&(c=uv[BO]),c?(r=`http://${c}?ns=${u.namespace}`,a=Uv(r,s),u=a.repoInfo):a.repoInfo.secure;const d=new eL(e.name,e.options,t);dO("Invalid Firebase Database URL",a),at(a.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=VO(u,e,d,new tL(e.name,n));return new $O(p,e)}function UO(e,t){const n=ff[t];(!n||n[e.key]!==e)&&qn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),bO(e),delete n[e.key]}function VO(e,t,n,i){let s=ff[t.name];s||(s={},ff[t.name]=s);let r=s[e.toURLString()];return r&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new _O(e,jO,n,i),s[e.toURLString()]=r,r}class $O{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zi(this._repo,gt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&qn("Cannot call "+t+" on a deleted database.")}}function cC(e=PI(),t){const n=bI(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=pP("database");i&&ZO(n,...i)}return n}function ZO(e,t,n,i={}){e=Tr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Wl(Wl.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:mP(i.mockUserToken,e.app.options.projectId);r=new Wl(a)}HO(s,t,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(e){FI(TI),Cu(new ia("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return WO(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),nr(cv,hv,e),nr(cv,hv,"esm2017")}Vn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Vn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GO();function hC(e,t){const n=R.useRef(t);R.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const YO=1;function KO(e){return Object.freeze({__version:YO,map:e})}function qO(e,t){return Object.freeze({...e,...t})}const dC=R.createContext(null),fC=dC.Provider;function sm(){const e=R.useContext(dC);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function QO(e){function t(n,i){const{instance:s,context:r}=e(n).current;return R.useImperativeHandle(i,()=>s),n.children==null?null:lr.createElement(fC,{value:r},n.children)}return R.forwardRef(t)}function XO(e){function t(n,i){const[s,r]=R.useState(!1),{instance:a}=e(n,r).current;R.useImperativeHandle(i,()=>a),R.useEffect(function(){s&&a.update()},[a,s,n.children]);const u=a._contentNode;return u?_x.createPortal(n.children,u):null}return R.forwardRef(t)}function JO(e){function t(n,i){const{instance:s}=e(n).current;return R.useImperativeHandle(i,()=>s),null}return R.forwardRef(t)}function pC(e,t){const n=R.useRef();R.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function rm(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function tR(e,t){return function(i,s){const r=sm(),a=e(rm(i,r),r);return hC(r.map,i.attribution),pC(a.current,i.eventHandlers),t(a.current,r,i,s),a}}var pf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(L1,function(n){var i="1.9.4";function s(o){var l,h,f,g;for(h=1,f=arguments.length;h<f;h++){g=arguments[h];for(l in g)o[l]=g[l]}return o}var r=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function a(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var f=h.call(arguments,2);return function(){return o.apply(l,f.length?f.concat(h.call(arguments)):arguments)}}var u=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++u),o._leaflet_id}function d(o,l,h){var f,g,y,k;return k=function(){f=!1,g&&(y.apply(h,g),g=!1)},y=function(){f?g=arguments:(o.apply(h,arguments),setTimeout(k,l),f=!0)},y}function p(o,l,h){var f=l[1],g=l[0],y=f-g;return o===f&&h?o:((o-g)%y+y)%y+g}function m(){return!1}function _(o,l){if(l===!1)return o;var h=Math.pow(10,l===void 0?6:l);return Math.round(o*h)/h}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function x(o){return v(o).split(/\s+/)}function S(o,l){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var h in l)o.options[h]=l[h];return o.options}function E(o,l,h){var f=[];for(var g in o)f.push(encodeURIComponent(h?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(!l||l.indexOf("?")===-1?"?":"&")+f.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function C(o,l){return o.replace(w,function(h,f){var g=l[f];if(g===void 0)throw new Error("No value provided for variable "+h);return typeof g=="function"&&(g=g(l)),g})}var b=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var D=0;function F(o){var l=+new Date,h=Math.max(0,16-(l-D));return D=l+h,window.setTimeout(o,h)}var Z=window.requestAnimationFrame||N("RequestAnimationFrame")||F,U=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function $(o,l,h){if(h&&Z===F)o.call(l);else return Z.call(window,a(o,l))}function q(o){o&&U.call(window,o)}var Ft={__proto__:null,extend:s,create:r,bind:a,get lastId(){return u},stamp:c,throttle:d,wrapNum:p,falseFn:m,formatNum:_,trim:v,splitWords:x,setOptions:S,getParamString:E,template:C,isArray:b,indexOf:P,emptyImageUrl:M,requestFn:Z,cancelFn:U,requestAnimFrame:$,cancelAnimFrame:q};function Rt(){}Rt.extend=function(o){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,f=r(h);f.constructor=l,l.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(l[g]=this[g]);return o.statics&&s(l,o.statics),o.includes&&(Et(o.includes),s.apply(null,[f].concat(o.includes))),s(f,o),delete f.statics,delete f.includes,f.options&&(f.options=h.options?r(h.options):{},s(f.options,o.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,k=f._initHooks.length;y<k;y++)f._initHooks[y].call(this)}},l},Rt.include=function(o){var l=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=l,this.mergeOptions(o.options)),this},Rt.mergeOptions=function(o){return s(this.prototype.options,o),this},Rt.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h=typeof o=="function"?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Et(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=b(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ct={on:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l);else{o=x(o);for(var g=0,y=o.length;g<y;g++)this._on(o[g],l,h)}return this},off:function(o,l,h){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var f in o)this._off(f,o[f],l);else{o=x(o);for(var g=arguments.length===1,y=0,k=o.length;y<k;y++)g?this._off(o[y]):this._off(o[y],l,h)}return this},_on:function(o,l,h,f){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(o,l,h)===!1){h===this&&(h=void 0);var g={fn:l,ctx:h};f&&(g.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(g)}},_off:function(o,l,h){var f,g,y;if(this._events&&(f=this._events[o],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,y=f.length;g<y;g++)f[g].fn=m;delete this._events[o];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var k=this._listens(o,l,h);if(k!==!1){var I=f[k];this._firingCount&&(I.fn=m,this._events[o]=f=f.slice()),f.splice(k,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var f=s({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,k=g.length;y<k;y++){var I=g[y],O=I.fn;I.once&&this.off(o,O,I.ctx),O.call(I.ctx||this,f)}this._firingCount--}}return h&&this._propagateEvent(f),this},listens:function(o,l,h,f){typeof o!="string"&&console.warn('"string" type argument expected');var g=l;typeof l!="function"&&(f=!!l,g=void 0,h=void 0);var y=this._events&&this._events[o];if(y&&y.length&&this._listens(o,g,h)!==!1)return!0;if(f){for(var k in this._eventParents)if(this._eventParents[k].listens(o,l,h,f))return!0}return!1},_listens:function(o,l,h){if(!this._events)return!1;var f=this._events[o]||[];if(!l)return!!f.length;h===this&&(h=void 0);for(var g=0,y=f.length;g<y;g++)if(f[g].fn===l&&f[g].ctx===h)return g;return!1},once:function(o,l,h){if(typeof o=="object")for(var f in o)this._on(f,o[f],l,!0);else{o=x(o);for(var g=0,y=o.length;g<y;g++)this._on(o[g],l,h,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};ct.addEventListener=ct.on,ct.removeEventListener=ct.clearAllEventListeners=ct.off,ct.addOneTimeEventListener=ct.once,ct.fireEvent=ct.fire,ct.hasEventListeners=ct.listens;var Bt=Rt.extend(ct);function A(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var Q=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(o){return this.clone()._add(j(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(j(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new A(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new A(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(o){o=j(o);var l=o.x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return o=j(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=j(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function j(o,l,h){return o instanceof A?o:b(o)?new A(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new A(o.x,o.y):new A(o,l,h)}function Y(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}Y.prototype={extend:function(o){var l,h;if(!o)return this;if(o instanceof A||typeof o[0]=="number"||"x"in o)l=h=j(o);else if(o=et(o),l=o.min,h=o.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(o){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return typeof o[0]=="number"||o instanceof A?o=j(o):o=et(o),o instanceof Y?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=et(o);var l=this.min,h=this.max,f=o.min,g=o.max,y=g.x>=l.x&&f.x<=h.x,k=g.y>=l.y&&f.y<=h.y;return y&&k},overlaps:function(o){o=et(o);var l=this.min,h=this.max,f=o.min,g=o.max,y=g.x>l.x&&f.x<h.x,k=g.y>l.y&&f.y<h.y;return y&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var l=this.min,h=this.max,f=Math.abs(l.x-h.x)*o,g=Math.abs(l.y-h.y)*o;return et(j(l.x-f,l.y-g),j(h.x+f,h.y+g))},equals:function(o){return o?(o=et(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function et(o,l){return!o||o instanceof Y?o:new Y(o,l)}function kt(o,l){if(o)for(var h=l?[o,l]:o,f=0,g=h.length;f<g;f++)this.extend(h[f])}kt.prototype={extend:function(o){var l=this._southWest,h=this._northEast,f,g;if(o instanceof it)f=o,g=o;else if(o instanceof kt){if(f=o._southWest,g=o._northEast,!f||!g)return this}else return o?this.extend(K(o)||ut(o)):this;return!l&&!h?(this._southWest=new it(f.lat,f.lng),this._northEast=new it(g.lat,g.lng)):(l.lat=Math.min(f.lat,l.lat),l.lng=Math.min(f.lng,l.lng),h.lat=Math.max(g.lat,h.lat),h.lng=Math.max(g.lng,h.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,f=Math.abs(l.lat-h.lat)*o,g=Math.abs(l.lng-h.lng)*o;return new kt(new it(l.lat-f,l.lng-g),new it(h.lat+f,h.lng+g))},getCenter:function(){return new it((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new it(this.getNorth(),this.getWest())},getSouthEast:function(){return new it(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof it||"lat"in o?o=K(o):o=ut(o);var l=this._southWest,h=this._northEast,f,g;return o instanceof kt?(f=o.getSouthWest(),g=o.getNorthEast()):f=g=o,f.lat>=l.lat&&g.lat<=h.lat&&f.lng>=l.lng&&g.lng<=h.lng},intersects:function(o){o=ut(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),y=g.lat>=l.lat&&f.lat<=h.lat,k=g.lng>=l.lng&&f.lng<=h.lng;return y&&k},overlaps:function(o){o=ut(o);var l=this._southWest,h=this._northEast,f=o.getSouthWest(),g=o.getNorthEast(),y=g.lat>l.lat&&f.lat<h.lat,k=g.lng>l.lng&&f.lng<h.lng;return y&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return o?(o=ut(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ut(o,l){return o instanceof kt?o:new kt(o,l)}function it(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,h!==void 0&&(this.alt=+h)}it.prototype={equals:function(o,l){if(!o)return!1;o=K(o);var h=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return h<=(l===void 0?1e-9:l)},toString:function(o){return"LatLng("+_(this.lat,o)+", "+_(this.lng,o)+")"},distanceTo:function(o){return ti.distance(this,K(o))},wrap:function(){return ti.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ut([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new it(this.lat,this.lng,this.alt)}};function K(o,l,h){return o instanceof it?o:b(o)&&typeof o[0]!="object"?o.length===3?new it(o[0],o[1],o[2]):o.length===2?new it(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new it(o.lat,"lng"in o?o.lng:o.lon,o.alt):l===void 0?null:new it(o,l,h)}var Ce={latLngToPoint:function(o,l){var h=this.projection.project(o),f=this.scale(l);return this.transformation._transform(h,f)},pointToLatLng:function(o,l){var h=this.scale(l),f=this.transformation.untransform(o,h);return this.projection.unproject(f)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o),f=this.transformation.transform(l.min,h),g=this.transformation.transform(l.max,h);return new Y(f,g)},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?p(o.lng,this.wrapLng,!0):o.lng,h=this.wrapLat?p(o.lat,this.wrapLat,!0):o.lat,f=o.alt;return new it(h,l,f)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),f=l.lat-h.lat,g=l.lng-h.lng;if(f===0&&g===0)return o;var y=o.getSouthWest(),k=o.getNorthEast(),I=new it(y.lat-f,y.lng-g),O=new it(k.lat-f,k.lng-g);return new kt(I,O)}},ti=s({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,f=o.lat*h,g=l.lat*h,y=Math.sin((l.lat-o.lat)*h/2),k=Math.sin((l.lng-o.lng)*h/2),I=y*y+Math.cos(f)*Math.cos(g)*k*k,O=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*O}}),Em=6378137,Sc={R:Em,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,f=Math.max(Math.min(h,o.lat),-h),g=Math.sin(f*l);return new A(this.R*o.lng*l,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var l=180/Math.PI;return new it((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:function(){var o=Em*Math.PI;return new Y([-o,-o],[o,o])}()};function Cc(o,l,h,f){if(b(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=l,this._c=h,this._d=f}Cc.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return l=l||1,o.x=l*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return l=l||1,new A((o.x/l-this._b)/this._a,(o.y/l-this._d)/this._c)}};function Nr(o,l,h,f){return new Cc(o,l,h,f)}var bc=s({},ti,{code:"EPSG:3857",projection:Sc,transformation:function(){var o=.5/(Math.PI*Sc.R);return Nr(o,.5,-o,.5)}()}),ib=s({},bc,{code:"EPSG:900913"});function km(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Tm(o,l){var h="",f,g,y,k,I,O;for(f=0,y=o.length;f<y;f++){for(I=o[f],g=0,k=I.length;g<k;g++)O=I[g],h+=(g?"L":"M")+O.x+" "+O.y;h+=l?G.svg?"z":"x":""}return h||"M0 0"}var Ec=document.documentElement.style,Ma="ActiveXObject"in window,sb=Ma&&!document.addEventListener,Pm="msLaunchUri"in navigator&&!("documentMode"in document),kc=vn("webkit"),Im=vn("android"),Lm=vn("android 2")||vn("android 3"),rb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ob=Im&&vn("Google")&&rb<537&&!("AudioNode"in window),Tc=!!window.opera,Mm=!Pm&&vn("chrome"),Om=vn("gecko")&&!kc&&!Tc&&!Ma,ab=!Mm&&vn("safari"),Rm=vn("phantom"),Nm="OTransition"in Ec,lb=navigator.platform.indexOf("Win")===0,Am=Ma&&"transition"in Ec,Pc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Lm,Dm="MozPerspective"in Ec,ub=!window.L_DISABLE_3D&&(Am||Pc||Dm)&&!Nm&&!Rm,Ar=typeof orientation<"u"||vn("mobile"),cb=Ar&&kc,hb=Ar&&Pc,zm=!window.PointerEvent&&window.MSPointerEvent,Fm=!!(window.PointerEvent||zm),Bm="ontouchstart"in window||!!window.TouchEvent,db=!window.L_NO_TOUCH&&(Bm||Fm),fb=Ar&&Tc,pb=Ar&&Om,mb=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gb=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return o}(),_b=function(){return!!document.createElement("canvas").getContext}(),Ic=!!(document.createElementNS&&km("svg").createSVGRect),vb=!!Ic&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),yb=!Ic&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),wb=navigator.platform.indexOf("Mac")===0,xb=navigator.platform.indexOf("Linux")===0;function vn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var G={ie:Ma,ielt9:sb,edge:Pm,webkit:kc,android:Im,android23:Lm,androidStock:ob,opera:Tc,chrome:Mm,gecko:Om,safari:ab,phantom:Rm,opera12:Nm,win:lb,ie3d:Am,webkit3d:Pc,gecko3d:Dm,any3d:ub,mobile:Ar,mobileWebkit:cb,mobileWebkit3d:hb,msPointer:zm,pointer:Fm,touch:db,touchNative:Bm,mobileOpera:fb,mobileGecko:pb,retina:mb,passiveEvents:gb,canvas:_b,svg:Ic,vml:yb,inlineSvg:vb,mac:wb,linux:xb},jm=G.msPointer?"MSPointerDown":"pointerdown",Hm=G.msPointer?"MSPointerMove":"pointermove",Wm=G.msPointer?"MSPointerUp":"pointerup",Um=G.msPointer?"MSPointerCancel":"pointercancel",Lc={touchstart:jm,touchmove:Hm,touchend:Wm,touchcancel:Um},Vm={touchstart:Tb,touchmove:Oa,touchend:Oa,touchcancel:Oa},Cs={},$m=!1;function Sb(o,l,h){return l==="touchstart"&&kb(),Vm[l]?(h=Vm[l].bind(this,h),o.addEventListener(Lc[l],h,!1),h):(console.warn("wrong event specified:",l),m)}function Cb(o,l,h){if(!Lc[l]){console.warn("wrong event specified:",l);return}o.removeEventListener(Lc[l],h,!1)}function bb(o){Cs[o.pointerId]=o}function Eb(o){Cs[o.pointerId]&&(Cs[o.pointerId]=o)}function Zm(o){delete Cs[o.pointerId]}function kb(){$m||(document.addEventListener(jm,bb,!0),document.addEventListener(Hm,Eb,!0),document.addEventListener(Wm,Zm,!0),document.addEventListener(Um,Zm,!0),$m=!0)}function Oa(o,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Cs)l.touches.push(Cs[h]);l.changedTouches=[l],o(l)}}function Tb(o,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&re(l),Oa(o,l)}function Pb(o){var l={},h,f;for(f in o)h=o[f],l[f]=h&&h.bind?h.bind(o):h;return o=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Ib=200;function Lb(o,l){o.addEventListener("dblclick",l);var h=0,f;function g(y){if(y.detail!==1){f=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var k=Qm(y);if(!(k.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!k.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var I=Date.now();I-h<=Ib?(f++,f===2&&l(Pb(y))):f=1,h=I}}}return o.addEventListener("click",g),{dblclick:l,simDblclick:g}}function Mb(o,l){o.removeEventListener("dblclick",l.dblclick),o.removeEventListener("click",l.simDblclick)}var Mc=Aa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dr=Aa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gm=Dr==="webkitTransition"||Dr==="OTransition"?Dr+"End":"transitionend";function Ym(o){return typeof o=="string"?document.getElementById(o):o}function zr(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(o,null);h=f?f[l]:null}return h==="auto"?null:h}function pt(o,l,h){var f=document.createElement(o);return f.className=l||"",h&&h.appendChild(f),f}function Nt(o){var l=o.parentNode;l&&l.removeChild(o)}function Ra(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function bs(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Es(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function Oc(o,l){if(o.classList!==void 0)return o.classList.contains(l);var h=Na(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function nt(o,l){if(o.classList!==void 0)for(var h=x(l),f=0,g=h.length;f<g;f++)o.classList.add(h[f]);else if(!Oc(o,l)){var y=Na(o);Rc(o,(y?y+" ":"")+l)}}function Wt(o,l){o.classList!==void 0?o.classList.remove(l):Rc(o,v((" "+Na(o)+" ").replace(" "+l+" "," ")))}function Rc(o,l){o.className.baseVal===void 0?o.className=l:o.className.baseVal=l}function Na(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function We(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&Ob(o,l)}function Ob(o,l){var h=!1,f="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(f)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):o.style.filter+=" progid:"+f+"(opacity="+l+")"}function Aa(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Fi(o,l,h){var f=l||new A(0,0);o.style[Mc]=(G.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(h?" scale("+h+")":"")}function $t(o,l){o._leaflet_pos=l,G.any3d?Fi(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function Bi(o){return o._leaflet_pos||new A(0,0)}var Fr,Br,Nc;if("onselectstart"in document)Fr=function(){tt(window,"selectstart",re)},Br=function(){xt(window,"selectstart",re)};else{var jr=Aa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Fr=function(){if(jr){var o=document.documentElement.style;Nc=o[jr],o[jr]="none"}},Br=function(){jr&&(document.documentElement.style[jr]=Nc,Nc=void 0)}}function Ac(){tt(window,"dragstart",re)}function Dc(){xt(window,"dragstart",re)}var Da,zc;function Fc(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(za(),Da=o,zc=o.style.outlineStyle,o.style.outlineStyle="none",tt(window,"keydown",za))}function za(){Da&&(Da.style.outlineStyle=zc,Da=void 0,zc=void 0,xt(window,"keydown",za))}function Km(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Bc(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var Rb={__proto__:null,TRANSFORM:Mc,TRANSITION:Dr,TRANSITION_END:Gm,get:Ym,getStyle:zr,create:pt,remove:Nt,empty:Ra,toFront:bs,toBack:Es,hasClass:Oc,addClass:nt,removeClass:Wt,setClass:Rc,getClass:Na,setOpacity:We,testProp:Aa,setTransform:Fi,setPosition:$t,getPosition:Bi,get disableTextSelection(){return Fr},get enableTextSelection(){return Br},disableImageDrag:Ac,enableImageDrag:Dc,preventOutline:Fc,restoreOutline:za,getSizedParentNode:Km,getScale:Bc};function tt(o,l,h,f){if(l&&typeof l=="object")for(var g in l)Hc(o,g,l[g],h);else{l=x(l);for(var y=0,k=l.length;y<k;y++)Hc(o,l[y],h,f)}return this}var yn="_leaflet_events";function xt(o,l,h,f){if(arguments.length===1)qm(o),delete o[yn];else if(l&&typeof l=="object")for(var g in l)Wc(o,g,l[g],h);else if(l=x(l),arguments.length===2)qm(o,function(I){return P(l,I)!==-1});else for(var y=0,k=l.length;y<k;y++)Wc(o,l[y],h,f);return this}function qm(o,l){for(var h in o[yn]){var f=h.split(/\d/)[0];(!l||l(f))&&Wc(o,f,null,null,h)}}var jc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hc(o,l,h,f){var g=l+c(h)+(f?"_"+c(f):"");if(o[yn]&&o[yn][g])return this;var y=function(I){return h.call(f||o,I||window.event)},k=y;!G.touchNative&&G.pointer&&l.indexOf("touch")===0?y=Sb(o,l,y):G.touch&&l==="dblclick"?y=Lb(o,y):"addEventListener"in o?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?o.addEventListener(jc[l]||l,y,G.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(y=function(I){I=I||window.event,Vc(o,I)&&k(I)},o.addEventListener(jc[l],y,!1)):o.addEventListener(l,k,!1):o.attachEvent("on"+l,y),o[yn]=o[yn]||{},o[yn][g]=y}function Wc(o,l,h,f,g){g=g||l+c(h)+(f?"_"+c(f):"");var y=o[yn]&&o[yn][g];if(!y)return this;!G.touchNative&&G.pointer&&l.indexOf("touch")===0?Cb(o,l,y):G.touch&&l==="dblclick"?Mb(o,y):"removeEventListener"in o?o.removeEventListener(jc[l]||l,y,!1):o.detachEvent("on"+l,y),o[yn][g]=null}function ji(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Uc(o){return Hc(o,"wheel",ji),this}function Hr(o){return tt(o,"mousedown touchstart dblclick contextmenu",ji),o._leaflet_disable_click=!0,this}function re(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Hi(o){return re(o),ji(o),this}function Qm(o){if(o.composedPath)return o.composedPath();for(var l=[],h=o.target;h;)l.push(h),h=h.parentNode;return l}function Xm(o,l){if(!l)return new A(o.clientX,o.clientY);var h=Bc(l),f=h.boundingClientRect;return new A((o.clientX-f.left)/h.x-l.clientLeft,(o.clientY-f.top)/h.y-l.clientTop)}var Nb=G.linux&&G.chrome?window.devicePixelRatio:G.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jm(o){return G.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Nb:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Vc(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var Ab={__proto__:null,on:tt,off:xt,stopPropagation:ji,disableScrollPropagation:Uc,disableClickPropagation:Hr,preventDefault:re,stop:Hi,getPropagationPath:Qm,getMousePosition:Xm,getWheelDelta:Jm,isExternalTarget:Vc,addListener:tt,removeListener:xt},tg=Bt.extend({run:function(o,l,h,f){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Bi(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),$t(this._el,h),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ht=Bt.extend({options:{crs:bc,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(K(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Dr&&G.any3d&&!G.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),tt(this._proxy,Gm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),o=this._limitCenter(K(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=s({animate:h.animate},h.zoom),h.pan=s({animate:h.animate,duration:h.duration},h.pan));var f=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(o,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return o=o||(G.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,l)},zoomOut:function(o,l){return o=o||(G.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,l)},setZoomAround:function(o,l,h){var f=this.getZoomScale(l),g=this.getSize().divideBy(2),y=o instanceof A?o:this.latLngToContainerPoint(o),k=y.subtract(g).multiplyBy(1-1/f),I=this.containerPointToLatLng(g.add(k));return this.setView(I,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():ut(o);var h=j(l.paddingTopLeft||l.padding||[0,0]),f=j(l.paddingBottomRight||l.padding||[0,0]),g=this.getBoundsZoom(o,!1,h.add(f));if(g=typeof l.maxZoom=="number"?Math.min(l.maxZoom,g):g,g===1/0)return{center:o.getCenter(),zoom:g};var y=f.subtract(h).divideBy(2),k=this.project(o.getSouthWest(),g),I=this.project(o.getNorthEast(),g),O=this.unproject(k.add(I).divideBy(2).add(y),g);return{center:O,zoom:g}},fitBounds:function(o,l){if(o=ut(o),!o.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(o=j(o).round(),l=l||{},!o.x&&!o.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){nt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(h=h||{},h.animate===!1||!G.any3d)return this.setView(o,l,h);this._stop();var f=this.project(this.getCenter()),g=this.project(o),y=this.getSize(),k=this._zoom;o=K(o),l=l===void 0?k:l;var I=Math.max(y.x,y.y),O=I*this.getZoomScale(k,l),z=g.distanceTo(f)||1,W=1.42,X=W*W;function st(Zt){var Ka=Zt?-1:1,C1=Zt?O:I,b1=O*O-I*I+Ka*X*X*z*z,E1=2*C1*X*z,eh=b1/E1,Ng=Math.sqrt(eh*eh+1)-eh,k1=Ng<1e-9?-18:Math.log(Ng);return k1}function ve(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function Jt(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function Ve(Zt){return ve(Zt)/Jt(Zt)}var be=st(0);function Ms(Zt){return I*(Jt(be)/Jt(be+W*Zt))}function y1(Zt){return I*(Jt(be)*Ve(be+W*Zt)-ve(be))/X}function w1(Zt){return 1-Math.pow(1-Zt,1.5)}var x1=Date.now(),Og=(st(1)-be)/W,S1=h.duration?1e3*h.duration:1e3*Og*.8;function Rg(){var Zt=(Date.now()-x1)/S1,Ka=w1(Zt)*Og;Zt<=1?(this._flyToFrame=$(Rg,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(y1(Ka)/z)),k),this.getScaleZoom(I/Ms(Ka),k),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Rg.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return o=ut(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),f=this._limitCenter(h,this._zoom,ut(o));return h.equals(f)||this.panTo(f,l),this._enforcingBounds=!1,this},panInside:function(o,l){l=l||{};var h=j(l.paddingTopLeft||l.padding||[0,0]),f=j(l.paddingBottomRight||l.padding||[0,0]),g=this.project(this.getCenter()),y=this.project(o),k=this.getPixelBounds(),I=et([k.min.add(h),k.max.subtract(f)]),O=I.getSize();if(!I.contains(y)){this._enforcingBounds=!0;var z=y.subtract(I.getCenter()),W=I.extend(y).getSize().subtract(O);g.x+=z.x<0?-W.x:W.x,g.y+=z.y<0?-W.y:W.y,this.panTo(this.unproject(g),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),f=l.divideBy(2).round(),g=h.divideBy(2).round(),y=f.subtract(g);return!y.x&&!y.y?this:(o.animate&&o.pan?this.panBy(y):(o.pan&&this._rawPanBy(y),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var l=o.code,h=o.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var l=o.coords.latitude,h=o.coords.longitude,f=new it(l,h),g=f.toBounds(o.coords.accuracy*2),y=this._locateOptions;if(y.setView){var k=this.getBoundsZoom(g);this.setView(f,y.maxZoom?Math.min(k,y.maxZoom):k)}var I={latlng:f,bounds:g,timestamp:o.timestamp};for(var O in o.coords)typeof o.coords[O]=="number"&&(I[O]=o.coords[O]);this.fire("locationfound",I)}},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Nt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var h="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),f=pt("div",h,l||this._mapPane);return o&&(this._panes[o]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),l=this.unproject(o.getBottomLeft()),h=this.unproject(o.getTopRight());return new kt(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=ut(o),h=j(h||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),k=o.getNorthWest(),I=o.getSouthEast(),O=this.getSize().subtract(h),z=et(this.project(I,f),this.project(k,f)).getSize(),W=G.any3d?this.options.zoomSnap:1,X=O.x/z.x,st=O.y/z.y,ve=l?Math.max(X,st):Math.min(X,st);return f=this.getScaleZoom(ve,f),W&&(f=Math.round(f/(W/100))*(W/100),f=l?Math.ceil(f/W)*W:Math.floor(f/W)*W),Math.max(g,Math.min(y,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new Y(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var f=h.zoom(o*h.scale(l));return isNaN(f)?1/0:f},project:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(K(o),l)},unproject:function(o,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(j(o),l)},layerPointToLatLng:function(o){var l=j(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){var l=this.project(K(o))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(K(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ut(o))},distance:function(o,l){return this.options.crs.distance(K(o),K(l))},containerPointToLayerPoint:function(o){return j(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return j(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(j(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(o)))},mouseEventToContainerPoint:function(o){return Xm(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=Ym(o);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");tt(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&G.any3d,nt(o,"leaflet-container"+(G.touch?" leaflet-touch":"")+(G.retina?" leaflet-retina":"")+(G.ielt9?" leaflet-oldie":"")+(G.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=zr(o,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$t(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(o.markerPane,"leaflet-zoom-hide"),nt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l,h){$t(this._mapPane,new A(0,0));var f=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var g=this._zoom!==l;this._moveStart(g,h)._move(o,l)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h,f){l===void 0&&(l=this._zoom);var g=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),f?h&&h.pinch&&this.fire("zoom",h):((g||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){$t(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var l=o?xt:tt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),G.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var h=[],f,g=l==="mouseout"||l==="mouseover",y=o.target||o.srcElement,k=!1;y;){if(f=this._targets[c(y)],f&&(l==="click"||l==="preclick")&&this._draggableMoved(f)){k=!0;break}if(f&&f.listens(l,!0)&&(g&&!Vc(y,o)||(h.push(f),g))||y===this._container)break;y=y.parentNode}return!h.length&&!k&&!g&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var l=o.target||o.srcElement;if(!(!this._loaded||l._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(l))){var h=o.type;h==="mousedown"&&Fc(l),this._fireDOMEvent(o,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if(o.type==="click"){var f=s({},o);f.type="preclick",this._fireDOMEvent(f,f.type,h)}var g=this._findEventTargets(o,l);if(h){for(var y=[],k=0;k<h.length;k++)h[k].listens(l,!0)&&y.push(h[k]);g=y.concat(g)}if(g.length){l==="contextmenu"&&re(o);var I=g[0],O={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var z=I.getLatLng&&(!I._radius||I._radius<=10);O.containerPoint=z?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(o),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=z?I.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(k=0;k<g.length;k++)if(g[k].fire(l,O,!0),O.originalEvent._stopped||g[k].options.bubblingMouseEvents===!1&&P(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return Bi(this._mapPane)||new A(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){var h=o&&l!==void 0?this._getNewPixelOrigin(o,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(f)},_latLngBoundsToNewLayerBounds:function(o,l,h){var f=this._getNewPixelOrigin(h,l);return et([this.project(o.getSouthWest(),l)._subtract(f),this.project(o.getNorthWest(),l)._subtract(f),this.project(o.getSouthEast(),l)._subtract(f),this.project(o.getNorthEast(),l)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var f=this.project(o,l),g=this.getSize().divideBy(2),y=new Y(f.subtract(g),f.add(g)),k=this._getBoundsOffset(y,h,l);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?o:this.unproject(f.add(k),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),f=new Y(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(f,l))},_getBoundsOffset:function(o,l,h){var f=et(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),g=f.min.subtract(o.min),y=f.max.subtract(o.max),k=this._rebound(g.x,-y.x),I=this._rebound(g.y,-y.y);return new A(k,I)},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),f=G.any3d?this.options.zoomSnap:1;return f&&(o=Math.round(o/f)*f),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var o=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=Mc,f=this._proxy.style[h];Fi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),f===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Fi(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(l),g=this._getCenterOffset(o)._divideBy(1-1/f);return h.animate!==!0&&!this.getSize().contains(g)?!1:($(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(o,l,!0)},this),!0)},_animateZoom:function(o,l,h,f){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Db(o,l){return new ht(o,l)}var nn=Rt.extend({options:{position:"topright"},initialize:function(o){S(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),f=o._controlCorners[h];return nt(l,"leaflet-control"),h.indexOf("bottom")!==-1?f.insertBefore(l,f.firstChild):f.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Wr=function(o){return new nn(o)};ht.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=pt("div",l+"control-container",this._container);function f(g,y){var k=l+g+" "+l+y;o[g+y]=pt("div",k,h)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Nt(this._controlCorners[o]);Nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var eg=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,f){return h<f?-1:f<h?1:0}},initialize:function(o,l,h){S(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in o)this._addLayer(o[f],f);for(f in l)this._addLayer(l[f],f,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return nn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=pt("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Hr(l),Uc(l);var f=this._section=pt("section",o+"-list");h&&(this._map.on("click",this.collapse,this),tt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=pt("a",o+"-toggle",l);g.href="#",g.title="Layers",g.setAttribute("role","button"),tt(g,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){re(y),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=pt("div",o+"-base",f),this._separator=pt("div",o+"-separator",f),this._overlaysList=pt("div",o+"-overlays",f),l.appendChild(f)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ra(this._baseLayersList),Ra(this._overlaysList),this._layerControlInputs=[];var o,l,h,f,g=0;for(h=0;h<this._layers.length;h++)f=this._layers[h],this._addItem(f),l=l||f.overlay,o=o||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(o=o&&g>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(c(o.target)),h=l.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=h,f.firstChild},_addItem:function(o){var l=document.createElement("label"),h=this._map.hasLayer(o.layer),f;o.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=h):f=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(f),f.layerId=c(o.layer),tt(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var y=document.createElement("span");l.appendChild(y),y.appendChild(f),y.appendChild(g);var k=o.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,l,h,f=[],g=[];this._handlingClick=!0;for(var y=o.length-1;y>=0;y--)l=o[y],h=this._getLayer(l.layerId).layer,l.checked?f.push(h):l.checked||g.push(h);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<f.length;y++)this._map.hasLayer(f[y])||this._map.addLayer(f[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,l,h,f=this._map.getZoom(),g=o.length-1;g>=0;g--)l=o[g],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&f<h.options.minZoom||h.options.maxZoom!==void 0&&f>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,tt(o,"click",re),this.expand();var l=this;setTimeout(function(){xt(o,"click",re),l._preventClick=!1})}}),zb=function(o,l,h){return new eg(o,l,h)},$c=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=pt("div",l+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,f,g){var y=pt("a",h,f);return y.innerHTML=o,y.href="#",y.title=l,y.setAttribute("role","button"),y.setAttribute("aria-label",l),Hr(y),tt(y,"click",Hi),tt(y,"click",g,this),tt(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Wt(this._zoomInButton,l),Wt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(nt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(nt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $c,this.addControl(this.zoomControl))});var Fb=function(o){return new $c(o)},ng=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=pt("div",l),f=this.options;return this._addScales(f,l+"-line",h),o.on(f.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=pt("div",l,h)),o.imperial&&(this._iScale=pt("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/o)},_updateImperial:function(o){var l=o*3.2808399,h,f,g;l>5280?(h=l/5280,f=this._getRoundNum(h),this._updateScale(this._iScale,f+" mi",f/h)):(g=this._getRoundNum(l),this._updateScale(this._iScale,g+" ft",g/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Bb=function(o){return new ng(o)},jb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zc=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(G.inlineSvg?jb+" ":"")+"Leaflet</a>"},initialize:function(o){S(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),Hr(this._container);for(var l in o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Zc().addTo(this)});var Hb=function(o){return new Zc(o)};nn.Layers=eg,nn.Zoom=$c,nn.Scale=ng,nn.Attribution=Zc,Wr.layers=zb,Wr.zoom=Fb,Wr.scale=Bb,Wr.attribution=Hb;var wn=Rt.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});wn.addTo=function(o,l){return o.addHandler(l,this),this};var Wb={Events:ct},ig=G.touch?"touchstart mousedown":"mousedown",ei=Bt.extend({options:{clickTolerance:3},initialize:function(o,l,h,f){S(this,f),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(tt(this._dragStartTarget,ig,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ei._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,ig,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Oc(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){ei._dragging===this&&this.finishDrag();return}if(!(ei._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(ei._dragging=this,this._preventOutline&&Fc(this._element),Ac(),Fr(),!this._moving)){this.fire("down");var l=o.touches?o.touches[0]:o,h=Km(this._element);this._startPoint=new A(l.clientX,l.clientY),this._startPos=Bi(this._element),this._parentScale=Bc(h);var f=o.type==="mousedown";tt(document,f?"mousemove":"touchmove",this._onMove,this),tt(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var l=o.touches&&o.touches.length===1?o.touches[0]:o,h=new A(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,re(o),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),$t(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),Dc(),Br();var l=this._moved&&this._moving;this._moving=!1,ei._dragging=!1,l&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function sg(o,l,h){var f,g=[1,4,2,8],y,k,I,O,z,W,X,st;for(y=0,W=o.length;y<W;y++)o[y]._code=Wi(o[y],l);for(I=0;I<4;I++){for(X=g[I],f=[],y=0,W=o.length,k=W-1;y<W;k=y++)O=o[y],z=o[k],O._code&X?z._code&X||(st=Fa(z,O,X,l,h),st._code=Wi(st,l),f.push(st)):(z._code&X&&(st=Fa(z,O,X,l,h),st._code=Wi(st,l),f.push(st)),f.push(O));o=f}return o}function rg(o,l){var h,f,g,y,k,I,O,z,W;if(!o||o.length===0)throw new Error("latlngs not passed");Ue(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var X=K([0,0]),st=ut(o),ve=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());ve<1700&&(X=Gc(o));var Jt=o.length,Ve=[];for(h=0;h<Jt;h++){var be=K(o[h]);Ve.push(l.project(K([be.lat-X.lat,be.lng-X.lng])))}for(I=O=z=0,h=0,f=Jt-1;h<Jt;f=h++)g=Ve[h],y=Ve[f],k=g.y*y.x-y.y*g.x,O+=(g.x+y.x)*k,z+=(g.y+y.y)*k,I+=k*3;I===0?W=Ve[0]:W=[O/I,z/I];var Ms=l.unproject(j(W));return K([Ms.lat+X.lat,Ms.lng+X.lng])}function Gc(o){for(var l=0,h=0,f=0,g=0;g<o.length;g++){var y=K(o[g]);l+=y.lat,h+=y.lng,f++}return K([l/f,h/f])}var Ub={__proto__:null,clipPolygon:sg,polygonCenter:rg,centroid:Gc};function og(o,l){if(!l||!o.length)return o.slice();var h=l*l;return o=Zb(o,h),o=$b(o,h),o}function ag(o,l,h){return Math.sqrt(Ur(o,l,h,!0))}function Vb(o,l,h){return Ur(o,l,h)}function $b(o,l){var h=o.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(h);g[0]=g[h-1]=1,Yc(o,g,l,0,h-1);var y,k=[];for(y=0;y<h;y++)g[y]&&k.push(o[y]);return k}function Yc(o,l,h,f,g){var y=0,k,I,O;for(I=f+1;I<=g-1;I++)O=Ur(o[I],o[f],o[g],!0),O>y&&(k=I,y=O);y>h&&(l[k]=1,Yc(o,l,h,f,k),Yc(o,l,h,k,g))}function Zb(o,l){for(var h=[o[0]],f=1,g=0,y=o.length;f<y;f++)Gb(o[f],o[g])>l&&(h.push(o[f]),g=f);return g<y-1&&h.push(o[y-1]),h}var lg;function ug(o,l,h,f,g){var y=f?lg:Wi(o,h),k=Wi(l,h),I,O,z;for(lg=k;;){if(!(y|k))return[o,l];if(y&k)return!1;I=y||k,O=Fa(o,l,I,h,g),z=Wi(O,h),I===y?(o=O,y=z):(l=O,k=z)}}function Fa(o,l,h,f,g){var y=l.x-o.x,k=l.y-o.y,I=f.min,O=f.max,z,W;return h&8?(z=o.x+y*(O.y-o.y)/k,W=O.y):h&4?(z=o.x+y*(I.y-o.y)/k,W=I.y):h&2?(z=O.x,W=o.y+k*(O.x-o.x)/y):h&1&&(z=I.x,W=o.y+k*(I.x-o.x)/y),new A(z,W,g)}function Wi(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function Gb(o,l){var h=l.x-o.x,f=l.y-o.y;return h*h+f*f}function Ur(o,l,h,f){var g=l.x,y=l.y,k=h.x-g,I=h.y-y,O=k*k+I*I,z;return O>0&&(z=((o.x-g)*k+(o.y-y)*I)/O,z>1?(g=h.x,y=h.y):z>0&&(g+=k*z,y+=I*z)),k=o.x-g,I=o.y-y,f?k*k+I*I:new A(g,y)}function Ue(o){return!b(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function cg(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ue(o)}function hg(o,l){var h,f,g,y,k,I,O,z;if(!o||o.length===0)throw new Error("latlngs not passed");Ue(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var W=K([0,0]),X=ut(o),st=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());st<1700&&(W=Gc(o));var ve=o.length,Jt=[];for(h=0;h<ve;h++){var Ve=K(o[h]);Jt.push(l.project(K([Ve.lat-W.lat,Ve.lng-W.lng])))}for(h=0,f=0;h<ve-1;h++)f+=Jt[h].distanceTo(Jt[h+1])/2;if(f===0)z=Jt[0];else for(h=0,y=0;h<ve-1;h++)if(k=Jt[h],I=Jt[h+1],g=k.distanceTo(I),y+=g,y>f){O=(y-f)/g,z=[I.x-O*(I.x-k.x),I.y-O*(I.y-k.y)];break}var be=l.unproject(j(z));return K([be.lat+W.lat,be.lng+W.lng])}var Yb={__proto__:null,simplify:og,pointToSegmentDistance:ag,closestPointOnSegment:Vb,clipSegment:ug,_getEdgeIntersection:Fa,_getBitCode:Wi,_sqClosestPointOnSegment:Ur,isFlat:Ue,_flat:cg,polylineCenter:hg},Kc={project:function(o){return new A(o.lng,o.lat)},unproject:function(o){return new it(o.y,o.x)},bounds:new Y([-180,-90],[180,90])},qc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var l=Math.PI/180,h=this.R,f=o.lat*l,g=this.R_MINOR/h,y=Math.sqrt(1-g*g),k=y*Math.sin(f),I=Math.tan(Math.PI/4-f/2)/Math.pow((1-k)/(1+k),y/2);return f=-h*Math.log(Math.max(I,1e-10)),new A(o.lng*l*h,f)},unproject:function(o){for(var l=180/Math.PI,h=this.R,f=this.R_MINOR/h,g=Math.sqrt(1-f*f),y=Math.exp(-o.y/h),k=Math.PI/2-2*Math.atan(y),I=0,O=.1,z;I<15&&Math.abs(O)>1e-7;I++)z=g*Math.sin(k),z=Math.pow((1-z)/(1+z),g/2),O=Math.PI/2-2*Math.atan(y*z)-k,k+=O;return new it(k*l,o.x*l/h)}},Kb={__proto__:null,LonLat:Kc,Mercator:qc,SphericalMercator:Sc},qb=s({},ti,{code:"EPSG:3395",projection:qc,transformation:function(){var o=.5/(Math.PI*qc.R);return Nr(o,.5,-o,.5)}()}),dg=s({},ti,{code:"EPSG:4326",projection:Kc,transformation:Nr(1/180,1,-1/180,.5)}),Qb=s({},Ce,{projection:Kc,transformation:Nr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,f=l.lat-o.lat;return Math.sqrt(h*h+f*f)},infinite:!0});Ce.Earth=ti,Ce.EPSG3395=qb,Ce.EPSG3857=bc,Ce.EPSG900913=ib,Ce.EPSG4326=dg,Ce.Simple=Qb;var sn=Bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(o);return this._layers[l]?this:(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var l=c(o);return this._layers[l]?(this._loaded&&o.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){o=o?b(o)?o:[o]:[];for(var l=0,h=o.length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=c(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;o=g.minZoom===void 0?o:Math.min(o,g.minZoom),l=g.maxZoom===void 0?l:Math.max(l,g.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ks=sn.extend({initialize:function(o,l){S(this,l),this._layers={};var h,f;if(o)for(h=0,f=o.length;h<f;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){var l=typeof o=="number"?o:this.getLayerId(o);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var l=Array.prototype.slice.call(arguments,1),h,f;for(h in this._layers)f=this._layers[h],f[o]&&f[o].apply(f,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),Xb=function(o,l){return new ks(o,l)},Ln=ks.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),ks.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),ks.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new kt;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),Jb=function(o,l){return new Ln(o,l)},Ts=Rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){S(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(f,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(o,l){var h=this.options,f=h[l+"Size"];typeof f=="number"&&(f=[f,f]);var g=j(f),y=j(l==="shadow"&&h.shadowAnchor||h.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),y&&(o.style.marginLeft=-y.x+"px",o.style.marginTop=-y.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,l){return l=l||document.createElement("img"),l.src=o,l},_getIconUrl:function(o){return G.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function t1(o){return new Ts(o)}var Vr=Ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Vr.imagePath!="string"&&(Vr.imagePath=this._detectIconPath()),(this.options.imagePath||Vr.imagePath)+Ts.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var l=function(h,f,g){var y=f.exec(h);return y&&y[g]};return o=l(o,/^url\((['"])?(.+)\1\)$/,2),o&&l(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=pt("div","leaflet-default-icon-path",document.body),l=zr(o,"background-image")||zr(o,"backgroundImage");if(document.body.removeChild(o),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),fg=wn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new ei(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=Bi(l._icon),k=h.getPixelBounds(),I=h.getPixelOrigin(),O=et(k.min._subtract(I).add(g),k.max._subtract(I).subtract(g));if(!O.contains(y)){var z=j((Math.max(O.max.x,y.x)-O.max.x)/(k.max.x-O.max.x)-(Math.min(O.min.x,y.x)-O.min.x)/(k.min.x-O.min.x),(Math.max(O.max.y,y.y)-O.max.y)/(k.max.y-O.max.y)-(Math.min(O.min.y,y.y)-O.min.y)/(k.min.y-O.min.y)).multiplyBy(f);h.panBy(z,{animate:!1}),this._draggable._newPos._add(z),this._draggable._startPos._add(z),$t(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=$(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,f=Bi(l._icon),g=l._map.layerPointToLatLng(f);h&&$t(h,f),l._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Ba=sn.extend({options:{icon:new Vr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){S(this,l),this._latlng=K(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=K(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),f=!1;h!==this._icon&&(this._icon&&this._removeIcon(),f=!0,o.title&&(h.title=o.title),h.tagName==="IMG"&&(h.alt=o.alt||"")),nt(h,l),o.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(h,"focus",this._panOnFocus,this);var g=o.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(nt(g,l),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),Nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Nt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&$t(this._icon,o),this._shadow&&$t(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fg)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fg(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&We(this._icon,o),this._shadow&&We(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var l=this.options.icon.options,h=l.iconSize?j(l.iconSize):j(0,0),f=l.iconAnchor?j(l.iconAnchor):j(0,0);o.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:h.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function e1(o,l){return new Ba(o,l)}var ni=sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return S(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ja=ni.extend({options:{fill:!0,radius:10},initialize:function(o,l){S(this,l),this._latlng=K(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=K(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return ni.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),f=[o+h,l+h];this._pxBounds=new Y(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function n1(o,l){return new ja(o,l)}var Qc=ja.extend({initialize:function(o,l,h){if(typeof l=="number"&&(l=s({},h,{radius:l})),S(this,l),this._latlng=K(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new kt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ni.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,f=h.options.crs;if(f.distance===ti.distance){var g=Math.PI/180,y=this._mRadius/ti.R/g,k=h.project([l+y,o]),I=h.project([l-y,o]),O=k.add(I).divideBy(2),z=h.unproject(O).lat,W=Math.acos((Math.cos(y*g)-Math.sin(l*g)*Math.sin(z*g))/(Math.cos(l*g)*Math.cos(z*g)))/g;(isNaN(W)||W===0)&&(W=y/Math.cos(Math.PI/180*l)),this._point=O.subtract(h.getPixelOrigin()),this._radius=isNaN(W)?0:O.x-h.project([z,o-W]).x,this._radiusY=O.y-k.y}else{var X=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(X).x}this._updateBounds()}});function i1(o,l,h){return new Qc(o,l,h)}var Mn=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){S(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var l=1/0,h=null,f=Ur,g,y,k=0,I=this._parts.length;k<I;k++)for(var O=this._parts[k],z=1,W=O.length;z<W;z++){g=O[z-1],y=O[z];var X=f(o,g,y,!0);X<l&&(l=X,h=f(o,g,y))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=K(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new kt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ue(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=Ue(o),f=0,g=o.length;f<g;f++)h?(l[f]=K(o[f]),this._bounds.extend(l[f])):l[f]=this._convertLatLngs(o[f]);return l},_project:function(){var o=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new A(o,o);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(o,l,h){var f=o[0]instanceof it,g=o.length,y,k;if(f){for(k=[],y=0;y<g;y++)k[y]=this._map.latLngToLayerPoint(o[y]),h.extend(k[y]);l.push(k)}else for(y=0;y<g;y++)this._projectLatlngs(o[y],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,f,g,y,k,I,O;for(h=0,g=0,y=this._rings.length;h<y;h++)for(O=this._rings[h],f=0,k=O.length;f<k-1;f++)I=ug(O[f],O[f+1],o,f,!0),I&&(l[g]=l[g]||[],l[g].push(I[0]),(I[1]!==O[f+1]||f===k-2)&&(l[g].push(I[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,f=o.length;h<f;h++)o[h]=og(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,f,g,y,k,I,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,y=this._parts.length;h<y;h++)for(I=this._parts[h],f=0,k=I.length,g=k-1;f<k;g=f++)if(!(!l&&f===0)&&ag(o,I[g],I[f])<=O)return!0;return!1}});function s1(o,l){return new Mn(o,l)}Mn._flat=cg;var Ps=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rg(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var l=Mn.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof it&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){Mn.prototype._setLatLngs.call(this,o),Ue(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ue(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new A(l,l);if(o=new Y(o.min.subtract(h),o.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,y;f<g;f++)y=sg(this._rings[f],o,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var l=!1,h,f,g,y,k,I,O,z;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,O=this._parts.length;y<O;y++)for(h=this._parts[y],k=0,z=h.length,I=z-1;k<z;I=k++)f=h[k],g=h[I],f.y>o.y!=g.y>o.y&&o.x<(g.x-f.x)*(o.y-f.y)/(g.y-f.y)+f.x&&(l=!l);return l||Mn.prototype._containsPoint.call(this,o,!0)}});function r1(o,l){return new Ps(o,l)}var On=Ln.extend({initialize:function(o,l){S(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var l=b(o)?o:o.features,h,f,g;if(l){for(h=0,f=l.length;h<f;h++)g=l[h],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(o))return this;var k=Ha(o,y);return k?(k.feature=Va(o),k.defaultOptions=k.options,this.resetStyle(k),y.onEachFeature&&y.onEachFeature(o,k),this.addLayer(k)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&(typeof l=="function"&&(l=l(o.feature)),o.setStyle(l))}});function Ha(o,l){var h=o.type==="Feature"?o.geometry:o,f=h?h.coordinates:null,g=[],y=l&&l.pointToLayer,k=l&&l.coordsToLatLng||Xc,I,O,z,W;if(!f&&!h)return null;switch(h.type){case"Point":return I=k(f),pg(y,o,I,l);case"MultiPoint":for(z=0,W=f.length;z<W;z++)I=k(f[z]),g.push(pg(y,o,I,l));return new Ln(g);case"LineString":case"MultiLineString":return O=Wa(f,h.type==="LineString"?0:1,k),new Mn(O,l);case"Polygon":case"MultiPolygon":return O=Wa(f,h.type==="Polygon"?1:2,k),new Ps(O,l);case"GeometryCollection":for(z=0,W=h.geometries.length;z<W;z++){var X=Ha({geometry:h.geometries[z],type:"Feature",properties:o.properties},l);X&&g.push(X)}return new Ln(g);case"FeatureCollection":for(z=0,W=h.features.length;z<W;z++){var st=Ha(h.features[z],l);st&&g.push(st)}return new Ln(g);default:throw new Error("Invalid GeoJSON object.")}}function pg(o,l,h,f){return o?o(l,h):new Ba(h,f&&f.markersInheritOptions&&f)}function Xc(o){return new it(o[1],o[0],o[2])}function Wa(o,l,h){for(var f=[],g=0,y=o.length,k;g<y;g++)k=l?Wa(o[g],l-1,h):(h||Xc)(o[g]),f.push(k);return f}function Jc(o,l){return o=K(o),o.alt!==void 0?[_(o.lng,l),_(o.lat,l),_(o.alt,l)]:[_(o.lng,l),_(o.lat,l)]}function Ua(o,l,h,f){for(var g=[],y=0,k=o.length;y<k;y++)g.push(l?Ua(o[y],Ue(o[y])?0:l-1,h,f):Jc(o[y],f));return!l&&h&&g.length>0&&g.push(g[0].slice()),g}function Is(o,l){return o.feature?s({},o.feature,{geometry:l}):Va(l)}function Va(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var th={toGeoJSON:function(o){return Is(this,{type:"Point",coordinates:Jc(this.getLatLng(),o)})}};Ba.include(th),Qc.include(th),ja.include(th),Mn.include({toGeoJSON:function(o){var l=!Ue(this._latlngs),h=Ua(this._latlngs,l?1:0,!1,o);return Is(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ps.include({toGeoJSON:function(o){var l=!Ue(this._latlngs),h=l&&!Ue(this._latlngs[0]),f=Ua(this._latlngs,h?2:l?1:0,!0,o);return l||(f=[f]),Is(this,{type:(h?"Multi":"")+"Polygon",coordinates:f})}}),ks.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),Is(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(o);var h=l==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(o);if(h)f.push(y.geometry);else{var k=Va(y);k.type==="FeatureCollection"?f.push.apply(f,k.features):f.push(k)}}}),h?Is(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function mg(o,l){return new On(o,l)}var o1=mg,$a=sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=ut(l),S(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&bs(this._image),this},bringToBack:function(){return this._map&&Es(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ut(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",l=this._image=o?this._url:pt("img");if(nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Fi(this._image,h,l)},_reset:function(){var o=this._image,l=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();$t(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){We(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),a1=function(o,l,h){return new $a(o,l,h)},gg=$a.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",l=this._image=o?this._url:pt("video");if(nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=a(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),f=[],g=0;g<h.length;g++)f.push(h[g].src);this._url=h.length>0?f:[l.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var k=pt("source");k.src=this._url[y],l.appendChild(k)}}});function l1(o,l,h){return new gg(o,l,h)}var _g=$a.extend({_initImage:function(){var o=this._image=this._url;nt(o,"leaflet-image-layer"),this._zoomAnimated&&nt(o,"leaflet-zoom-animated"),this.options.className&&nt(o,this.options.className),o.onselectstart=m,o.onmousemove=m}});function u1(o,l,h){return new _g(o,l,h)}var xn=sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,l){o&&(o instanceof it||b(o))?(this._latlng=K(o),S(this,l)):(S(this,o),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&We(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&We(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(We(this._container,0),this._removeTimeout=setTimeout(a(Nt,void 0,this._container),200)):Nt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=K(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bs(this._container),this},bringToBack:function(){return this._map&&Es(this._container),this},_prepareOpen:function(o){var l=this._source;if(!l._map)return!1;if(l instanceof Ln){l=null;var h=this._source._layers;for(var f in h)if(h[f]._map){l=h[f];break}if(!l)return!1;this._source=l}if(!o)if(l.getCenter)o=l.getCenter();else if(l.getLatLng)o=l.getLatLng();else if(l.getBounds)o=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=j(this.options.offset),h=this._getAnchor();this._zoomAnimated?$t(this._container,o.add(h)):l=l.add(o).add(h);var f=this._containerBottom=-l.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(o,l,h,f){var g=l;return g instanceof o||(g=new o(f).setContent(l)),h&&g.setLatLng(h),g}}),sn.include({_initOverlay:function(o,l,h,f){var g=h;return g instanceof o?(S(g,f),g._source=this):(g=l&&!f?l:new o(f,this),g.setContent(h)),g}});var Za=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,xn.prototype.openOn.call(this,o)},onAdd:function(o){xn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",ji))},onRemove:function(o){xn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",ji))},getEvents:function(){var o=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",l=this._container=pt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=pt("div",o+"-content-wrapper",l);if(this._contentNode=pt("div",o+"-content",h),Hr(l),Uc(this._contentNode),tt(l,"contextmenu",ji),this._tipContainer=pt("div",o+"-tip-container",l),this._tip=pt("div",o+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=pt("a",o+"-close-button",l);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',tt(f,"click",function(g){re(g),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var f=o.offsetHeight,g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&f>g?(l.height=g+"px",nt(o,y)):Wt(o,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();$t(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,l=parseInt(zr(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,f=this._containerWidth,g=new A(this._containerLeft,-h-this._containerBottom);g._add(Bi(this._container));var y=o.layerPointToContainerPoint(g),k=j(this.options.autoPanPadding),I=j(this.options.autoPanPaddingTopLeft||k),O=j(this.options.autoPanPaddingBottomRight||k),z=o.getSize(),W=0,X=0;y.x+f+O.x>z.x&&(W=y.x+f-z.x+O.x),y.x-W-I.x<0&&(W=y.x-I.x),y.y+h+O.y>z.y&&(X=y.y+h-z.y+O.y),y.y-X-I.y<0&&(X=y.y-I.y),(W||X)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([W,X]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),c1=function(o,l){return new Za(o,l)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(o,l,h){return this._initOverlay(Za,o,l,h).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),sn.include({bindPopup:function(o,l){return this._popup=this._initOverlay(Za,this._popup,o,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ln||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Hi(o);var l=o.layer||o.target;if(this._popup._source===l&&!(l instanceof ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=l,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ga=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){xn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){xn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=xn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",l=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,f=this._map,g=this._container,y=f.latLngToContainerPoint(f.getCenter()),k=f.layerPointToContainerPoint(o),I=this.options.direction,O=g.offsetWidth,z=g.offsetHeight,W=j(this.options.offset),X=this._getAnchor();I==="top"?(l=O/2,h=z):I==="bottom"?(l=O/2,h=0):I==="center"?(l=O/2,h=z/2):I==="right"?(l=0,h=z/2):I==="left"?(l=O,h=z/2):k.x<y.x?(I="right",l=0,h=z/2):(I="left",l=O+(W.x+X.x)*2,h=z/2),o=o.subtract(j(l,h,!0)).add(W).add(X),Wt(g,"leaflet-tooltip-right"),Wt(g,"leaflet-tooltip-left"),Wt(g,"leaflet-tooltip-top"),Wt(g,"leaflet-tooltip-bottom"),nt(g,"leaflet-tooltip-"+I),$t(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&We(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),h1=function(o,l){return new Ga(o,l)};ht.include({openTooltip:function(o,l,h){return this._initOverlay(Ga,o,l,h).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),sn.include({bindTooltip:function(o,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ga,this._tooltip,o,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ln||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&(tt(l,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),tt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var l=typeof o.getElement=="function"&&o.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var l=o.latlng,h,f;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),f=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(l)}});var vg=Ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&o.tagName==="DIV"?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Ra(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var f=j(h.bgPos);l.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function d1(o){return new vg(o)}Ts.Default=Vr;var $r=sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:G.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){S(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Nt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Es(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof A?o:new A(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var l=this.getPane().children,h=-o(-1/0,1/0),f=0,g=l.length,y;f<g;f++)y=l[f].style.zIndex,l[f]!==this._container&&y&&(h=o(h,+y));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!G.ielt9){We(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var y=Math.min(1,(o-g.loaded)/200);We(g.el,y),y<1?l=!0:(g.active?h=!0:this._onOpaqueTile(g),g.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(o!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(Nt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var f=this._levels[o],g=this._map;return f||(f=this._levels[o]={},f.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=l,f.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),f.zoom=o,this._setZoomTransform(f,g.getCenter(),g.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)l=this._tiles[o],l.retain=l.current;for(o in this._tiles)if(l=this._tiles[o],l.current&&!l.active){var f=l.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Nt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,f){var g=Math.floor(o/2),y=Math.floor(l/2),k=h-1,I=new A(+g,+y);I.z=+k;var O=this._tileCoordsToKey(I),z=this._tiles[O];return z&&z.active?(z.retain=!0,!0):(z&&z.loaded&&(z.retain=!0),k>f?this._retainParent(g,y,k,f):!1)},_retainChildren:function(o,l,h,f){for(var g=2*o;g<2*o+2;g++)for(var y=2*l;y<2*l+2;y++){var k=new A(g,y);k.z=h+1;var I=this._tileCoordsToKey(k),O=this._tiles[I];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);h+1<f&&this._retainChildren(g,y,h+1,f)}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return l.minNativeZoom!==void 0&&o<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,f){var g=Math.round(l);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var y=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||y)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var f=this._map.getZoomScale(h,o.zoom),g=o.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(l,h)).round();G.any3d?Fi(o.el,g,f):$t(o.el,g)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],f).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],f).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],f).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],f).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),f=l.getZoomScale(h,this._tileZoom),g=l.project(o,this._tileZoom).floor(),y=l.getSize().divideBy(f*2);return new Y(g.subtract(y),g.add(y))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(o===void 0&&(o=l.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(f),y=g.getCenter(),k=[],I=this.options.keepBuffer,O=new Y(g.getBottomLeft().subtract([I,-I]),g.getTopRight().add([I,-I]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var z in this._tiles){var W=this._tiles[z].coords;(W.z!==this._tileZoom||!O.contains(new A(W.x,W.y)))&&(this._tiles[z].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(o,h);return}for(var X=g.min.y;X<=g.max.y;X++)for(var st=g.min.x;st<=g.max.x;st++){var ve=new A(st,X);if(ve.z=this._tileZoom,!!this._isValidTile(ve)){var Jt=this._tiles[this._tileCoordsToKey(ve)];Jt?Jt.current=!0:k.push(ve)}}if(k.sort(function(be,Ms){return be.distanceTo(y)-Ms.distanceTo(y)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ve=document.createDocumentFragment();for(st=0;st<k.length;st++)this._addTile(k[st],Ve);this._level.el.appendChild(Ve)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(o);return ut(this.options.bounds).overlaps(f)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),f=o.scaleBy(h),g=f.add(h),y=l.unproject(f,o.z),k=l.unproject(g,o.z);return[y,k]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new kt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new A(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(Nt(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){nt(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=m,o.onmousemove=m,G.ielt9&&this.options.opacity<1&&We(o,this.options.opacity)},_addTile:function(o,l){var h=this._getTilePos(o),f=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&$(a(this._tileReady,this,o,null,g)),$t(g,h),this._tiles[f]={el:g,coords:o,current:!0},l.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var f=this._tileCoordsToKey(o);h=this._tiles[f],h&&(h.loaded=+new Date,this._map._fadeAnimated?(We(h.el,0),q(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(nt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),G.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new A(this._wrapX?p(o.x,this._wrapX):o.x,this._wrapY?p(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new Y(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function f1(o){return new $r(o)}var Ls=$r.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,l){this._url=o,l=S(this,l),l.detectRetina&&G.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&l===void 0&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return tt(h,"load",a(this._tileOnLoad,this,l,h)),tt(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:G.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return C(this._url,s(l,this.options))},_tileOnLoad:function(o,l){G.ielt9?setTimeout(a(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var f=this.options.errorTileUrl;f&&l.getAttribute("src")!==f&&(l.src=f),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,f=this.options.zoomOffset;return h&&(o=l-o),o+f},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(l=this._tiles[o].el,l.onload=m,l.onerror=m,!l.complete)){l.src=M;var h=this._tiles[o].coords;Nt(l),delete this._tiles[o],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(o){var l=this._tiles[o];if(l)return l.el.setAttribute("src",M),$r.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(!(!this._map||h&&h.getAttribute("src")===M))return $r.prototype._tileReady.call(this,o,l,h)}});function yg(o,l){return new Ls(o,l)}var wg=Ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=s({},this.defaultWmsParams);for(var f in l)f in this.options||(h[f]=l[f]);l=S(this,l);var g=l.detectRetina&&G.retina?2:1,y=this.getTileSize();h.width=y.x*g,h.height=y.y*g,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ls.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,f=et(h.project(l[0]),h.project(l[1])),g=f.min,y=f.max,k=(this._wmsVersion>=1.3&&this._crs===dg?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),I=Ls.prototype.getTileUrl.call(this,o);return I+E(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(o,l){return s(this.wmsParams,o),l||this.redraw(),this}});function p1(o,l){return new wg(o,l)}Ls.WMS=wg,yg.wms=p1;var Rn=sn.extend({options:{padding:.1},initialize:function(o){S(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,l),y=f.multiplyBy(-h).add(g).subtract(this._map._getNewPixelOrigin(o,l));G.any3d?Fi(this._container,y,h):$t(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new Y(h,h.add(l.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xg=Rn.extend({options:{tolerance:0},getEvents:function(){var o=Rn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");tt(o,"mousemove",this._onMouseMove,this),tt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),tt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Nt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var l in this._layers)o=this._layers[l],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rn.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),f=G.retina?2:1;$t(l,o.min),l.width=f*h.x,l.height=f*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",G.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,f=l.prev;h?h.prev=f:this._drawLast=f,f?f.next=h:this._drawFirst=h,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var l=o.options.dashArray.split(/[, ]+/),h=[],f,g;for(g=0;g<l.length;g++){if(f=Number(l[g]),isNaN(f))return;h.push(f)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)o=f.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,f,g,y,k=o._parts,I=k.length,O=this._ctx;if(I){for(O.beginPath(),h=0;h<I;h++){for(f=0,g=k[h].length;f<g;f++)y=k[h][f],O[f?"lineTo":"moveTo"](y.x,y.y);l&&O.closePath()}this._fillStroke(O,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var l=o._point,h=this._ctx,f=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||f)/f;g!==1&&(h.save(),h.scale(1,g)),h.beginPath(),h.arc(l.x,l.y/g,f,0,Math.PI*2,!1),g!==1&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var l=this._map.mouseEventToLayerPoint(o),h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(h))&&(f=h);this._fireEvent(f?[f]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,f,g=this._drawFirst;g;g=g.next)h=g.layer,h.options.interactive&&h._containsPoint(l)&&(f=h);f!==this._hoveredLayer&&(this._handleMouseOut(o),f&&(nt(this._container,"leaflet-interactive"),this._fireEvent([f],o,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(h)h.prev=f;else return;f?f.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,f=l.prev;if(f)f.next=h;else return;h?h.prev=f:f&&(this._drawLast=f),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Sg(o){return G.canvas?new xg(o):null}var Zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),m1={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Rn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Zr("shape");nt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Zr("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;Nt(l),o.removeInteractiveTarget(l),delete this._layers[c(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,f=o.options,g=o._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(l||(l=o._stroke=Zr("stroke")),g.appendChild(l),l.weight=f.weight+"px",l.color=f.color,l.opacity=f.opacity,f.dashArray?l.dashStyle=b(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=f.lineCap.replace("butt","flat"),l.joinstyle=f.lineJoin):l&&(g.removeChild(l),o._stroke=null),f.fill?(h||(h=o._fill=Zr("fill")),g.appendChild(h),h.color=f.fillColor||f.color,h.opacity=f.fillOpacity):h&&(g.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),f=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+f+" 0,"+65535*360)},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){bs(o._container)},_bringToBack:function(o){Es(o._container)}},Ya=G.vml?Zr:km,Gr=Rn.extend({_initContainer:function(){this._container=Ya("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ya("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Nt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rn.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),$t(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=Ya("path");o.options.className&&nt(l,o.options.className),o.options.interactive&&nt(l,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Nt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,Tm(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),f=Math.max(Math.round(o._radiusY),1)||h,g="a"+h+","+f+" 0 1,0 ",y=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+g+h*2+",0 "+g+-h*2+",0 ";this._setPath(o,y)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){bs(o._path)},_bringToBack:function(o){Es(o._path)}});G.vml&&Gr.include(m1);function Cg(o){return G.svg||G.vml?new Gr(o):null}ht.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var l=this._paneRenderers[o];return l===void 0&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Sg(o)||Cg(o)}});var bg=Ps.extend({initialize:function(o,l){Ps.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ut(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function g1(o,l){return new bg(o,l)}Gr.create=Ya,Gr.pointsToPath=Tm,On.geometryToLayer=Ha,On.coordsToLatLng=Xc,On.coordsToLatLngs=Wa,On.latLngToCoords=Jc,On.latLngsToCoords=Ua,On.getFeature=Is,On.asFeature=Va,ht.mergeOptions({boxZoom:!0});var Eg=wn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Fr(),Ac(),this._startPoint=this._map.mouseEventToContainerPoint(o),tt(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new Y(this._point,this._startPoint),h=l.getSize();$t(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Nt(this._box),Wt(this._container,"leaflet-crosshair")),Br(),Dc(),xt(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",Eg),ht.mergeOptions({doubleClickZoom:!0});var kg=wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),f=l.options.zoomDelta,g=o.originalEvent.shiftKey?h-f:h+f;l.options.doubleClickZoom==="center"?l.setZoom(g):l.setZoomAround(o.containerPoint,g)}});ht.addInitHook("addHandler","doubleClickZoom",kg),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tg=wn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new ei(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ut(this._map.options.maxBounds);this._offsetLimit=et(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-l+h)%o+l-h,y=(f+l+h)%o-l-h,k=Math.abs(g+h)<Math.abs(y+h)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(o){var l=this._map,h=l.options,f=!h.inertia||o.noInertia||this._times.length<2;if(l.fire("dragend",o),f)l.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,k=h.easeLinearity,I=g.multiplyBy(k/y),O=I.distanceTo([0,0]),z=Math.min(h.inertiaMaxSpeed,O),W=I.multiplyBy(z/O),X=z/(h.inertiaDeceleration*k),st=W.multiplyBy(-X/2).round();!st.x&&!st.y?l.fire("moveend"):(st=l._limitOffset(st,l.options.maxBounds),$(function(){l.panBy(st,{duration:X,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",Tg),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pg=wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),tt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,f=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(f,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var l=this._panKeys={},h=this.keyCodes,f,g;for(f=0,g=h.left.length;f<g;f++)l[h.left[f]]=[-1*o,0];for(f=0,g=h.right.length;f<g;f++)l[h.right[f]]=[o,0];for(f=0,g=h.down.length;f<g;f++)l[h.down[f]]=[0,o];for(f=0,g=h.up.length;f<g;f++)l[h.up[f]]=[0,-1*o]},_setZoomDelta:function(o){var l=this._zoomKeys={},h=this.keyCodes,f,g;for(f=0,g=h.zoomIn.length;f<g;f++)l[h.zoomIn[f]]=o;for(f=0,g=h.zoomOut.length;f<g;f++)l[h.zoomOut[f]]=-o},_addHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var l=o.keyCode,h=this._map,f;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(f=this._panKeys[l],o.shiftKey&&(f=j(f).multiplyBy(3)),h.options.maxBounds&&(f=h._limitOffset(j(f),h.options.maxBounds)),h.options.worldCopyJump){var g=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(f)));h.panTo(g)}else h.panBy(f)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Hi(o)}}});ht.addInitHook("addHandler","keyboard",Pg),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ig=wn.extend({addHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=Jm(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var f=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),f),Hi(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,y=h?Math.ceil(g/h)*h:g,k=o._limitZoom(l+(this._delta>0?y:-y))-l;this._delta=0,this._startTime=null,k&&(o.options.scrollWheelZoom==="center"?o.setZoom(l+k):o.setZoomAround(this._lastMousePos,l+k))}});ht.addInitHook("addHandler","scrollWheelZoom",Ig);var _1=600;ht.mergeOptions({tapHold:G.touchNative&&G.safari&&G.mobile,tapTolerance:15});var Lg=wn.extend({addHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var l=o.touches[0];this._startPos=this._newPos=new A(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(tt(document,"touchend",re),tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),_1),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){xt(document,"touchend",re),xt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(o){var l=o.touches[0];this._newPos=new A(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,l){var h=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});ht.addInitHook("addHandler","tapHold",Lg),ht.mergeOptions({touchZoom:G.touch,bounceAtZoomLimits:!0});var Mg=wn.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(!(!o.touches||o.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(f)._divideBy(2))),this._startDist=h.distanceTo(f),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),re(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),f=l.mouseEventToContainerPoint(o.touches[1]),g=h.distanceTo(f)/this._startDist;if(this._zoom=l.getScaleZoom(g,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&g<1||this._zoom>l.getMaxZoom()&&g>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var y=h._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&y.x===0&&y.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var k=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(k,this,!0),re(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Mg),ht.BoxZoom=Eg,ht.DoubleClickZoom=kg,ht.Drag=Tg,ht.Keyboard=Pg,ht.ScrollWheelZoom=Ig,ht.TapHold=Lg,ht.TouchZoom=Mg,n.Bounds=Y,n.Browser=G,n.CRS=Ce,n.Canvas=xg,n.Circle=Qc,n.CircleMarker=ja,n.Class=Rt,n.Control=nn,n.DivIcon=vg,n.DivOverlay=xn,n.DomEvent=Ab,n.DomUtil=Rb,n.Draggable=ei,n.Evented=Bt,n.FeatureGroup=Ln,n.GeoJSON=On,n.GridLayer=$r,n.Handler=wn,n.Icon=Ts,n.ImageOverlay=$a,n.LatLng=it,n.LatLngBounds=kt,n.Layer=sn,n.LayerGroup=ks,n.LineUtil=Yb,n.Map=ht,n.Marker=Ba,n.Mixin=Wb,n.Path=ni,n.Point=A,n.PolyUtil=Ub,n.Polygon=Ps,n.Polyline=Mn,n.Popup=Za,n.PosAnimation=tg,n.Projection=Kb,n.Rectangle=bg,n.Renderer=Rn,n.SVG=Gr,n.SVGOverlay=_g,n.TileLayer=Ls,n.Tooltip=Ga,n.Transformation=Cc,n.Util=Ft,n.VideoOverlay=gg,n.bind=a,n.bounds=et,n.canvas=Sg,n.circle=i1,n.circleMarker=n1,n.control=Wr,n.divIcon=d1,n.extend=s,n.featureGroup=Jb,n.geoJSON=mg,n.geoJson=o1,n.gridLayer=f1,n.icon=t1,n.imageOverlay=a1,n.latLng=K,n.latLngBounds=ut,n.layerGroup=Xb,n.map=Db,n.marker=e1,n.point=j,n.polygon=r1,n.polyline=s1,n.popup=c1,n.rectangle=g1,n.setOptions=S,n.stamp=c,n.svg=Cg,n.svgOverlay=u1,n.tileLayer=yg,n.tooltip=h1,n.transformation=Nr,n.version=i,n.videoOverlay=l1;var v1=window.L;n.noConflict=function(){return window.L=v1,this},window.L=n})})(pf,pf.exports);var Qe=pf.exports;function om(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function am(e,t){return t==null?function(i,s){const r=R.useRef();return r.current||(r.current=e(i,s)),r}:function(i,s){const r=R.useRef();r.current||(r.current=e(i,s));const a=R.useRef(i),{instance:u}=r.current;return R.useEffect(function(){a.current!==i&&(t(u,i,a.current),a.current=i)},[u,i,s]),r}}function eR(e,t){R.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var r;(r=t.layerContainer)==null||r.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function mC(e){return function(n){const i=sm(),s=e(rm(n,i),i);return hC(i.map,n.attribution),pC(s.current,n.eventHandlers),eR(s.current,i),s}}function nR(e,t){const n=am(e,t),i=mC(n);return QO(i)}function iR(e,t){const n=am(e),i=tR(n,t);return XO(i)}function sR(e,t){const n=am(e,t),i=mC(n);return JO(i)}function rR(e,t,n){const{opacity:i,zIndex:s}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function oR(){return sm().map}function aR(e){const t=oR();return R.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function mf(){return mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mf.apply(this,arguments)}function lR({bounds:e,boundsOptions:t,center:n,children:i,className:s,id:r,placeholder:a,style:u,whenReady:c,zoom:d,...p},m){const[_]=R.useState({className:s,id:r,style:u}),[v,x]=R.useState(null);R.useImperativeHandle(m,()=>(v==null?void 0:v.map)??null,[v]);const S=R.useCallback(w=>{if(w!==null&&v===null){const C=new Qe.Map(w,p);n!=null&&d!=null?C.setView(n,d):e!=null&&C.fitBounds(e,t),c!=null&&C.whenReady(c),x(KO(C))}},[]);R.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const E=v?lr.createElement(fC,{value:v},i):a??null;return lr.createElement("div",mf({},_,{ref:S}),E)}const lm=R.forwardRef(lR),um=nR(function({position:t,...n},i){const s=new Qe.Marker(t,n);return om(s,qO(i,{overlayContainer:s}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uR=iR(function(t,n){const i=new Qe.Popup(t,n.overlayContainer);return om(i,n)},function(t,n,{position:i},s){R.useEffect(function(){const{instance:a}=t;function u(d){d.popup===a&&(a.update(),s(!0))}function c(d){d.popup===a&&s(!1)}return n.map.on({popupopen:u,popupclose:c}),n.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var p;n.map.off({popupopen:u,popupclose:c}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(a)}},[t,n,s,i])}),cm=sR(function({url:t,...n},i){const s=new Qe.TileLayer(t,rm(n,i));return om(s,i)},function(t,n,i){rR(t,n,i);const{url:s}=n;s!=null&&s!==i.url&&t.setUrl(s)});Qe.Icon.Default.mergeOptions({iconUrl:null,iconRetinaUrl:null,shadowUrl:null,iconSize:null,iconAnchor:null,popupAnchor:null,tooltipAnchor:null,shadowSize:null,classNamePrefix:"leaflet-default-icon-"});Qe.Icon.Default.include({_needsInit:!0,_getIconUrl:function(e){var t=this.options.imagePath||Qe.Icon.Default.imagePath||"";return this._needsInit&&this._initializeOptions(t),t+Qe.Icon.prototype._getIconUrl.call(this,e)},_initializeOptions:function(e){this._setOptions("icon",$v,e),this._setOptions("shadow",$v,e),this._setOptions("popup",Zv),this._setOptions("tooltip",Zv),this._needsInit=!1},_setOptions:function(e,t,n){var i=this.options,s=i.classNamePrefix,r=t(s+e,n);for(var a in r)i[e+a]=i[e+a]||r[a]}});function $v(e,t){var n=Qe.DomUtil.create("div",e,document.body),i=dR(n),s=cR(i,t),r=Ys(n,"width"),a=Ys(n,"height"),u=Ys(n,"margin-left"),c=Ys(n,"margin-top");return n.parentNode.removeChild(n),{Url:s[0],RetinaUrl:s[1],Size:[r,a],Anchor:[-u,-c]}}function Zv(e){var t=Qe.DomUtil.create("div",e,document.body),n=Ys(t,"margin-left"),i=Ys(t,"margin-top");return t.parentNode.removeChild(t),{Anchor:[n,i]}}function cR(e,t){for(var n=/url\(['"]?([^"']*?)['"]?\)/gi,i=[],s=n.exec(e);s;)i.push(t?hR(s[1]):s[1]),s=n.exec(e);return i}function hR(e){return e.substr(e.lastIndexOf("/")+1)}function Ys(e,t){return parseInt(gf(e,t),10)}function gf(e,t){return Qe.DomUtil.getStyle(e,t)||Qe.DomUtil.getStyle(e,fR(t))}function dR(e){var t=gf(e,"background-image");return t&&t!=="none"?t:gf(e,"cursor")}function fR(e){return e.replace(/-(\w)/g,function(t,n){return n.toUpperCase()})}function pR({submissions:e}){const t=[43.642556,-79.387083];return T.jsx("div",{style:{width:"100%",height:"100vh"},children:T.jsxs(lm,{center:t,zoom:10,style:{height:"100%",width:"100%"},children:[T.jsx(cm,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),e.map((n,i)=>T.jsx(um,{position:n.location,children:T.jsx(uR,{children:T.jsxs("div",{children:[T.jsxs("p",{children:["Time: ",n.time?new Date(n.time).toLocaleString():"N/A"]}),T.jsxs("p",{children:["Behaviour(s): ",n.behaviour&&Object.keys(n.behaviour).length>0?Object.values(n.behaviour).join(", "):"None"]}),T.jsxs("p",{children:["Condition(s): ",n.condition&&Object.keys(n.condition).length>0?Object.values(n.condition).join(", "):"None"]})]})})},i))]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ia(e){return e+.5|0}const di=(e,t,n)=>Math.max(Math.min(e,n),t);function go(e){return di(Ia(e*2.55),0,255)}function ki(e){return di(Ia(e*255),0,255)}function Bn(e){return di(Ia(e/2.55)/100,0,1)}function Gv(e){return di(Ia(e*100),0,100)}const $e={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_f=[..."0123456789ABCDEF"],mR=e=>_f[e&15],gR=e=>_f[(e&240)>>4]+_f[e&15],ml=e=>(e&240)>>4===(e&15),_R=e=>ml(e.r)&&ml(e.g)&&ml(e.b)&&ml(e.a);function vR(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&$e[e[1]]*17,g:255&$e[e[2]]*17,b:255&$e[e[3]]*17,a:t===5?$e[e[4]]*17:255}:(t===7||t===9)&&(n={r:$e[e[1]]<<4|$e[e[2]],g:$e[e[3]]<<4|$e[e[4]],b:$e[e[5]]<<4|$e[e[6]],a:t===9?$e[e[7]]<<4|$e[e[8]]:255})),n}const yR=(e,t)=>e<255?t(e):"";function wR(e){var t=_R(e)?mR:gR;return e?"#"+t(e.r)+t(e.g)+t(e.b)+yR(e.a,t):void 0}const xR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gC(e,t,n){const i=t*Math.min(n,1-n),s=(r,a=(r+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function SR(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function CR(e,t,n){const i=gC(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function bR(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function hm(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),u=(r+a)/2;let c,d,p;return r!==a&&(p=r-a,d=u>.5?p/(2-r-a):p/(r+a),c=bR(n,i,s,p,r),c=c*60+.5),[c|0,d||0,u]}function dm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ki)}function fm(e,t,n){return dm(gC,e,t,n)}function ER(e,t,n){return dm(CR,e,t,n)}function kR(e,t,n){return dm(SR,e,t,n)}function _C(e){return(e%360+360)%360}function TR(e){const t=xR.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?go(+t[5]):ki(+t[5]));const s=_C(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=ER(s,r,a):t[1]==="hsv"?i=kR(s,r,a):i=fm(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function PR(e,t){var n=hm(e);n[0]=_C(n[0]+t),n=fm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function IR(e){if(!e)return;const t=hm(e),n=t[0],i=Gv(t[1]),s=Gv(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Bn(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Yv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function LR(){const e={},t=Object.keys(Kv),n=Object.keys(Yv);let i,s,r,a,u;for(i=0;i<t.length;i++){for(a=u=t[i],s=0;s<n.length;s++)r=n[s],u=u.replace(r,Yv[r]);r=parseInt(Kv[a],16),e[u]=[r>>16&255,r>>8&255,r&255]}return e}let gl;function MR(e){gl||(gl=LR(),gl.transparent=[0,0,0,0]);const t=gl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const OR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function RR(e){const t=OR.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?go(a):di(a*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?go(i):di(i,0,255)),s=255&(t[4]?go(s):di(s,0,255)),r=255&(t[6]?go(r):di(r,0,255)),{r:i,g:s,b:r,a:n}}}function NR(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Bn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const jh=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ns=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function AR(e,t,n){const i=Ns(Bn(e.r)),s=Ns(Bn(e.g)),r=Ns(Bn(e.b));return{r:ki(jh(i+n*(Ns(Bn(t.r))-i))),g:ki(jh(s+n*(Ns(Bn(t.g))-s))),b:ki(jh(r+n*(Ns(Bn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function _l(e,t,n){if(e){let i=hm(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=fm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function vC(e,t){return e&&Object.assign(t||{},e)}function qv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ki(e[3]))):(t=vC(e,{r:0,g:0,b:0,a:1}),t.a=ki(t.a)),t}function DR(e){return e.charAt(0)==="r"?RR(e):TR(e)}class da{constructor(t){if(t instanceof da)return t;const n=typeof t;let i;n==="object"?i=qv(t):n==="string"&&(i=vR(t)||MR(t)||DR(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=vC(this._rgb);return t&&(t.a=Bn(t.a)),t}set rgb(t){this._rgb=qv(t)}rgbString(){return this._valid?NR(this._rgb):void 0}hexString(){return this._valid?wR(this._rgb):void 0}hslString(){return this._valid?IR(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const a=n===r?.5:n,u=2*a-1,c=i.a-s.a,d=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=AR(this._rgb,t._rgb,n)),this}clone(){return new da(this.rgb)}alpha(t){return this._rgb.a=ki(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ia(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _l(this._rgb,2,t),this}darken(t){return _l(this._rgb,2,-t),this}saturate(t){return _l(this._rgb,1,t),this}desaturate(t){return _l(this._rgb,1,-t),this}rotate(t){return PR(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Nn(){}const zR=(()=>{let e=0;return()=>e++})();function Lt(e){return e==null}function Qt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function mt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function tn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Cn(e,t){return tn(e)?e:t}function vt(e,t){return typeof e>"u"?t:e}const FR=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function It(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function _t(e,t,n,i){let s,r,a;if(Qt(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(mt(e))for(a=Object.keys(e),r=a.length,s=0;s<r;s++)t.call(n,e[a[s]],a[s])}function zu(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Fu(e){if(Qt(e))return e.map(Fu);if(mt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Fu(e[n[s]]);return t}return e}function yC(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function BR(e,t,n,i){if(!yC(e))return;const s=t[e],r=n[e];mt(s)&&mt(r)?fa(s,r,i):t[e]=Fu(r)}function fa(e,t,n){const i=Qt(t)?t:[t],s=i.length;if(!mt(e))return e;n=n||{};const r=n.merger||BR;let a;for(let u=0;u<s;++u){if(a=i[u],!mt(a))continue;const c=Object.keys(a);for(let d=0,p=c.length;d<p;++d)r(c[d],e,a,n)}return e}function Ro(e,t){return fa(e,t,{merger:jR})}function jR(e,t,n){if(!yC(e))return;const i=t[e],s=n[e];mt(i)&&mt(s)?Ro(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Fu(s))}const Qv={"":e=>e,x:e=>e.x,y:e=>e.y};function HR(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function WR(e){const t=HR(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function wr(e,t){return(Qv[t]||(Qv[t]=WR(t)))(e)}function pm(e){return e.charAt(0).toUpperCase()+e.slice(1)}const pa=e=>typeof e<"u",Ri=e=>typeof e=="function",Xv=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function UR(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ge=Math.PI,Ti=2*ge,Bu=Number.POSITIVE_INFINITY,VR=ge/180,dn=ge/2,Ui=ge/4,Jv=ge*2/3,vf=Math.log10,Pi=Math.sign;function Ul(e,t,n){return Math.abs(e-t)<n}function ty(e){const t=Math.round(e);e=Ul(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(vf(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function $R(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function ju(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ZR(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function GR(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ss(e){return e*(ge/180)}function YR(e){return e*(180/ge)}function ey(e){if(!tn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function KR(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ge&&(r+=Ti),{angle:r,distance:s}}function qR(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Vi(e){return(e%Ti+Ti)%Ti}function QR(e,t,n,i){const s=Vi(e),r=Vi(t),a=Vi(n),u=Vi(r-s),c=Vi(a-s),d=Vi(s-r),p=Vi(s-a);return s===r||s===a||i&&r===a||u>c&&d<p}function fn(e,t,n){return Math.max(t,Math.min(n,e))}function XR(e){return fn(e,-32768,32767)}function Ks(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function mm(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const yf=(e,t,n,i)=>mm(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),JR=(e,t,n)=>mm(e,n,i=>e[i][t]>=n);function tN(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const wC=["push","pop","shift","splice","unshift"];function eN(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),wC.forEach(n=>{const i="_onData"+pm(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return e._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...r)}),a}})})}function ny(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(wC.forEach(r=>{delete e[r]}),delete e._chartjs)}function xC(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const SC=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function CC(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,SC.call(window,()=>{i=!1,e.apply(t,n)}))}}function nN(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const gm=e=>e==="start"?"left":e==="end"?"right":"center",de=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,iN=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t,vl=e=>e===0||e===1,iy=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ti/n)),sy=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ti/n)+1,No={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*dn)+1,easeOutSine:e=>Math.sin(e*dn),easeInOutSine:e=>-.5*(Math.cos(ge*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>vl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>vl(e)?e:iy(e,.075,.3),easeOutElastic:e=>vl(e)?e:sy(e,.075,.3),easeInOutElastic(e){return vl(e)?e:e<.5?.5*iy(e*2,.1125,.45):.5+.5*sy(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-No.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?No.easeInBounce(e*2)*.5:No.easeOutBounce(e*2-1)*.5+.5};function bC(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ry(e){return bC(e)?e:new da(e)}function Hh(e){return bC(e)?e:new da(e).saturate(.5).darken(.1).hexString()}const sN=["x","y","borderWidth","radius","tension"],rN=["color","borderColor","backgroundColor"];function oN(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:rN},numbers:{type:"number",properties:sN}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function aN(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const oy=new Map;function lN(e,t){t=t||{};const n=e+JSON.stringify(t);let i=oy.get(n);return i||(i=new Intl.NumberFormat(e,t),oy.set(n,i)),i}function EC(e,t,n){return lN(t,n).format(e)}const kC={values(e){return Qt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=uN(e,n)}const a=vf(Math.abs(r)),u=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),EC(e,i,c)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(vf(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?kC.numeric.call(this,e,t,n):""}};function uN(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var TC={formatters:kC};function cN(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:TC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _s=Object.create(null),wf=Object.create(null);function Ao(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Wh(e,t,n){return typeof t=="string"?fa(Ao(e,t),n):fa(Ao(e,""),t)}class hN{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Hh(s.backgroundColor),this.hoverBorderColor=(i,s)=>Hh(s.borderColor),this.hoverColor=(i,s)=>Hh(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Wh(this,t,n)}get(t){return Ao(this,t)}describe(t,n){return Wh(wf,t,n)}override(t,n){return Wh(_s,t,n)}route(t,n,i,s){const r=Ao(this,t),a=Ao(this,i),u="_"+n;Object.defineProperties(r,{[u]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[u],d=a[s];return mt(c)?Object.assign({},d,c):vt(c,d)},set(c){this[u]=c}}})}apply(t){t.forEach(n=>n(this))}}var Vt=new hN({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oN,aN,cN]);function dN(e){return!e||Lt(e.size)||Lt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ay(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function $i(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function ly(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function uy(e,t,n,i){PC(e,t,n,i,null)}function PC(e,t,n,i,s){let r,a,u,c,d,p,m,_;const v=t.pointStyle,x=t.rotation,S=t.radius;let E=(x||0)*VR;if(v&&typeof v=="object"&&(r=v.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(E),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),v){default:s?e.ellipse(n,i,s/2,S,0,0,Ti):e.arc(n,i,S,0,Ti),e.closePath();break;case"triangle":p=s?s/2:S,e.moveTo(n+Math.sin(E)*p,i-Math.cos(E)*S),E+=Jv,e.lineTo(n+Math.sin(E)*p,i-Math.cos(E)*S),E+=Jv,e.lineTo(n+Math.sin(E)*p,i-Math.cos(E)*S),e.closePath();break;case"rectRounded":d=S*.516,c=S-d,a=Math.cos(E+Ui)*c,m=Math.cos(E+Ui)*(s?s/2-d:c),u=Math.sin(E+Ui)*c,_=Math.sin(E+Ui)*(s?s/2-d:c),e.arc(n-m,i-u,d,E-ge,E-dn),e.arc(n+_,i-a,d,E-dn,E),e.arc(n+m,i+u,d,E,E+dn),e.arc(n-_,i+a,d,E+dn,E+ge),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*S,p=s?s/2:c,e.rect(n-p,i-c,2*p,2*c);break}E+=Ui;case"rectRot":m=Math.cos(E)*(s?s/2:S),a=Math.cos(E)*S,u=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-m,i-u),e.lineTo(n+_,i-a),e.lineTo(n+m,i+u),e.lineTo(n-_,i+a),e.closePath();break;case"crossRot":E+=Ui;case"cross":m=Math.cos(E)*(s?s/2:S),a=Math.cos(E)*S,u=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-m,i-u),e.lineTo(n+m,i+u),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a);break;case"star":m=Math.cos(E)*(s?s/2:S),a=Math.cos(E)*S,u=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-m,i-u),e.lineTo(n+m,i+u),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a),E+=Ui,m=Math.cos(E)*(s?s/2:S),a=Math.cos(E)*S,u=Math.sin(E)*S,_=Math.sin(E)*(s?s/2:S),e.moveTo(n-m,i-u),e.lineTo(n+m,i+u),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a);break;case"line":a=s?s/2:Math.cos(E)*S,u=Math.sin(E)*S,e.moveTo(n-a,i-u),e.lineTo(n+a,i+u);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(E)*(s?s/2:S),i+Math.sin(E)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function IC(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function _m(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function vm(e){e.restore()}function fN(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function pN(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),a=t-r.actualBoundingBoxLeft,u=t+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,p=s.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,p),e.lineTo(u,p),e.stroke()}}function mN(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ma(e,t,n,i,s,r={}){const a=Qt(t)?t:[t],u=r.strokeWidth>0&&r.strokeColor!=="";let c,d;for(e.save(),e.font=s.string,fN(e,r),c=0;c<a.length;++c)d=a[c],r.backdrop&&mN(e,r.backdrop),u&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Lt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(d,n,i,r.maxWidth)),e.fillText(d,n,i,r.maxWidth),pN(e,n,i,d,r),i+=Number(s.lineHeight);e.restore()}function Hu(e,t){const{x:n,y:i,w:s,h:r,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ge,ge,!0),e.lineTo(n,i+r-a.bottomLeft),e.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,ge,dn,!0),e.lineTo(n+s-a.bottomRight,i+r),e.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,dn,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-dn,!0),e.lineTo(n+a.topLeft,i)}const gN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_N=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vN(e,t){const n=(""+e).match(gN);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const yN=e=>+e||0;function LC(e,t){const n={},i=mt(t),s=i?Object.keys(t):t,r=mt(e)?i?a=>vt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=yN(r(a));return n}function MC(e){return LC(e,{top:"y",right:"x",bottom:"y",left:"x"})}function or(e){return LC(e,["topLeft","topRight","bottomLeft","bottomRight"])}function en(e){const t=MC(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function me(e,t){e=e||{},t=t||Vt.font;let n=vt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=vt(e.style,t.style);i&&!(""+i).match(_N)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:vt(e.family,t.family),lineHeight:vN(vt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:vt(e.weight,t.weight),string:""};return s.string=dN(s),s}function yl(e,t,n,i){let s,r,a;for(s=0,r=e.length;s<r;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function wN(e,t,n){const{min:i,max:s}=e,r=FR(t,(s-i)/2),a=(u,c)=>n&&u===0?0:u+c;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function Mr(e,t){return Object.assign(Object.create(e),t)}function ym(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=AC("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:u=>ym([u,...e],t,r,i)};return new Proxy(a,{deleteProperty(u,c){return delete u[c],delete u._keys,delete e[0][c],!0},get(u,c){return RC(u,c,()=>PN(c,t,e,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,c){return hy(u).includes(c)},ownKeys(u){return hy(u)},set(u,c,d){const p=u._storage||(u._storage=s());return u[c]=p[c]=d,delete u._keys,!0}})}function xr(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:OC(e,i),setContext:r=>xr(e,r,n,i),override:r=>xr(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete e[a],!0},get(r,a,u){return RC(r,a,()=>SN(r,a,u))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(r,a,u){return e[a]=u,delete r[a],!0}})}function OC(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ri(n)?n:()=>n,isIndexable:Ri(i)?i:()=>i}}const xN=(e,t)=>e?e+pm(t):t,wm=(e,t)=>mt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function RC(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function SN(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=e;let u=i[t];return Ri(u)&&a.isScriptable(t)&&(u=CN(t,u,e,n)),Qt(u)&&u.length&&(u=bN(t,u,e,a.isIndexable)),wm(t,u)&&(u=xr(u,s,r&&r[t],a)),u}function CN(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let c=t(r,a||i);return u.delete(e),wm(e,c)&&(c=xm(s._scopes,s,e,c)),c}function bN(e,t,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:u}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(mt(t[0])){const c=t,d=s._scopes.filter(p=>p!==c);t=[];for(const p of c){const m=xm(d,s,e,p);t.push(xr(m,r,a&&a[e],u))}}return t}function NC(e,t,n){return Ri(e)?e(t,n):e}const EN=(e,t)=>e===!0?t:typeof e=="string"?wr(t,e):void 0;function kN(e,t,n,i,s){for(const r of t){const a=EN(n,r);if(a){e.add(a);const u=NC(a._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function xm(e,t,n,i){const s=t._rootScopes,r=NC(t._fallback,n,i),a=[...e,...s],u=new Set;u.add(i);let c=cy(u,a,n,r||n,i);return c===null||typeof r<"u"&&r!==n&&(c=cy(u,a,r,c,i),c===null)?!1:ym(Array.from(u),[""],s,r,()=>TN(t,n,i))}function cy(e,t,n,i,s){for(;n;)n=kN(e,t,n,i,s);return n}function TN(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Qt(s)&&mt(n)?n:s||{}}function PN(e,t,n,i){let s;for(const r of t)if(s=AC(xN(r,e),n),typeof s<"u")return wm(e,s)?xm(n,i,e,s):s}function AC(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function hy(e){let t=e._keys;return t||(t=e._keys=IN(e._scopes)),t}function IN(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Sm(){return typeof window<"u"&&typeof document<"u"}function Cm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Wu(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const yc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function LN(e,t){return yc(e).getPropertyValue(t)}const MN=["top","right","bottom","left"];function as(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=MN[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ON=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function RN(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let a=!1,u,c;if(ON(s,r,e.target))u=s,c=r;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,c=i.clientY-d.top,a=!0}return{x:u,y:c,box:a}}function Qi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=yc(n),r=s.boxSizing==="border-box",a=as(s,"padding"),u=as(s,"border","width"),{x:c,y:d,box:p}=RN(e,n),m=a.left+(p&&u.left),_=a.top+(p&&u.top);let{width:v,height:x}=t;return r&&(v-=a.width+u.width,x-=a.height+u.height),{x:Math.round((c-m)/v*n.width/i),y:Math.round((d-_)/x*n.height/i)}}function NN(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&Cm(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const a=r.getBoundingClientRect(),u=yc(r),c=as(u,"border","width"),d=as(u,"padding");t=a.width-d.width-c.width,n=a.height-d.height-c.height,i=Wu(u.maxWidth,r,"clientWidth"),s=Wu(u.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||Bu,maxHeight:s||Bu}}const wl=e=>Math.round(e*10)/10;function AN(e,t,n,i){const s=yc(e),r=as(s,"margin"),a=Wu(s.maxWidth,e,"clientWidth")||Bu,u=Wu(s.maxHeight,e,"clientHeight")||Bu,c=NN(e,t,n);let{width:d,height:p}=c;if(s.boxSizing==="content-box"){const _=as(s,"border","width"),v=as(s,"padding");d-=v.width+_.width,p-=v.height+_.height}return d=Math.max(0,d-r.width),p=Math.max(0,i?d/i:p-r.height),d=wl(Math.min(d,a,c.maxWidth)),p=wl(Math.min(p,u,c.maxHeight)),d&&!p&&(p=wl(d/2)),(t!==void 0||n!==void 0)&&i&&c.height&&p>c.height&&(p=c.height,d=wl(Math.floor(p*i))),{width:d,height:p}}function dy(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(e.currentDevicePixelRatio=i,a.height=s,a.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const DN=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Sm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function fy(e,t){const n=LN(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const zN=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},FN=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ar(e,t,n){return e?zN(t,n):FN()}function DC(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function zC(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class BN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(u=>u({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=SC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,u=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),u=!0):(r[a]=r[r.length-1],r.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var An=new BN;const py="transparent",jN={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=ry(e||py),s=i.valid&&ry(t||py);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class HN{constructor(t,n,i,s){const r=n[i];s=yl([t.to,s,r,t.from]);const a=yl([t.from,r,s]);this._active=!0,this._fn=t.fn||jN[t.type||typeof a],this._easing=No[t.easing]||No.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=yl([t.to,n,s,t.from]),this._from=yl([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,u=this._to;let c;if(this._active=r!==u&&(a||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=r;return}c=n/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,u,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class FC{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!mt(t))return;const n=Object.keys(Vt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!mt(r))return;const a={};for(const u of n)a[u]=r[u];(Qt(r.properties)&&r.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,a)})})}_animateOptions(t,n){const i=n.options,s=UN(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&WN(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(n),u=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[d];let m=r[d];const _=i.get(d);if(m)if(_&&m.active()){m.update(_,p,u);continue}else m.cancel();if(!_||!_.duration){t[d]=p;continue}r[d]=m=new HN(_,t,d,p),s.push(m)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return An.add(this._chart,i),!0}}function WN(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function UN(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function my(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function VN(e,t,n){if(n===!1)return!1;const i=my(e,n),s=my(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function $N(e){let t,n,i,s;return mt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function BC(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function gy(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let a,u,c,d;if(t===null)return;let p=!1;for(a=0,u=s.length;a<u;++a){if(c=+s[a],c===n){if(p=!0,i.all)continue;break}d=e.values[c],tn(d)&&(r||t===0||Pi(t)===Pi(d))&&(t+=d)}return!p&&!i.all?0:t}function ZN(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(e),u=new Array(a.length);let c,d,p;for(c=0,d=a.length;c<d;++c)p=a[c],u[c]={[s]:p,[r]:e[p]};return u}function Uh(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function GN(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function YN(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function KN(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function _y(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function vy(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:u}=i,c=r.axis,d=a.axis,p=GN(r,a,i),m=t.length;let _;for(let v=0;v<m;++v){const x=t[v],{[c]:S,[d]:E}=x,w=x._stacks||(x._stacks={});_=w[d]=KN(s,p,S),_[u]=E,_._top=_y(_,a,!0,i.type),_._bottom=_y(_,a,!1,i.type);const C=_._visualValues||(_._visualValues={});C[u]=E}}function Vh(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function qN(e,t){return Mr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function QN(e,t,n){return Mr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function oo(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const $h=e=>e==="reset"||e==="none",yy=(e,t)=>t?e:Object.assign({},e),XN=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:BC(n,!0),values:null};class Do{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Uh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&oo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(m,_,v,x)=>m==="x"?_:m==="r"?x:v,r=n.xAxisID=vt(i.xAxisID,Vh(t,"x")),a=n.yAxisID=vt(i.yAxisID,Vh(t,"y")),u=n.rAxisID=vt(i.rAxisID,Vh(t,"r")),c=n.indexAxis,d=n.iAxisID=s(c,r,a,u),p=n.vAxisID=s(c,a,r,u);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ny(this._data,this),t._stacked&&oo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(mt(n)){const s=this._cachedMeta;this._data=ZN(n,s)}else if(i!==n){if(i){ny(i,this);const s=this._cachedMeta;oo(s),s._parsed=[]}n&&Object.isExtensible(n)&&eN(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Uh(n.vScale,n),n.stack!==i.stack&&(s=!0,oo(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(vy(this,n._parsed),n._stacked=Uh(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,u=r.axis;let c=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,m,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Qt(s[t])?_=this.parseArrayData(i,s,t,n):mt(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const v=()=>m[u]===null||d&&m[u]<d[u];for(p=0;p<n;++p)i._parsed[p+t]=m=_[p],c&&(v()&&(c=!1),d=m);i._sorted=c}a&&vy(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:a}=t,u=r.axis,c=a.axis,d=r.getLabels(),p=r===a,m=new Array(s);let _,v,x;for(_=0,v=s;_<v;++_)x=_+i,m[_]={[u]:p||r.parse(d[x],x),[c]:a.parse(n[x],x)};return m}parseArrayData(t,n,i,s){const{xScale:r,yScale:a}=t,u=new Array(s);let c,d,p,m;for(c=0,d=s;c<d;++c)p=c+i,m=n[p],u[c]={x:r.parse(m[0],p),y:a.parse(m[1],p)};return u}parseObjectData(t,n,i,s){const{xScale:r,yScale:a}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,d=new Array(s);let p,m,_,v;for(p=0,m=s;p<m;++p)_=p+i,v=n[_],d[p]={x:r.parse(wr(v,u),_),y:a.parse(wr(v,c),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,a=n[t.axis],u={keys:BC(s,!0),values:n._stacks[t.axis]._visualValues};return gy(u,a,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,a=gy(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,u=this._getOtherScale(t),c=XN(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=YN(u);let _,v;function x(){v=s[_];const S=v[u.axis];return!tn(v[t.axis])||p>S||m<S}for(_=0;_<a&&!(!x()&&(this.updateRangeFromParsed(d,t,v,c),r));++_);if(r){for(_=a-1;_>=0;--_)if(!x()){this.updateRangeFromParsed(d,t,v,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][t.axis],tn(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=$N(vt(this.options.clip,VN(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],u=this._drawStart||0,c=this._drawCount||s.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,r,u,c),p=u;p<u+c;++p){const m=s[p];m.hidden||(m.active&&d?a.push(m):m.draw(t,r))}for(p=0;p<a.length;++p)a[p].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=QN(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=qN(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=t+"-"+n,u=r[a],c=this.enableOptionSharing&&pa(i);if(u)return yy(u,c);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),p),v=Object.keys(Vt.elements[t]),x=()=>this.getContext(i,s,n),S=d.resolveNamedOptions(_,v,x,m);return S.$shared&&(S.$shared=c,r[a]=Object.freeze(yy(S,c))),S}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,u=r[a];if(u)return u;let c;if(s.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),m);c=p.createResolver(_,this.getContext(t,i,n))}const d=new FC(s,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||$h(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(t,n,i,s){$h(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!$h(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[u,c,d]of this._syncList)this[u](c,d);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,a=t+n;let u;const c=d=>{for(d.length+=n,u=d.length-1;u>=a;u--)d[u]=d[u-n]};for(c(r),u=t;u<a;++u)r[u]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&oo(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dt(Do,"defaults",{}),dt(Do,"datasetElementType",null),dt(Do,"dataElementType",null);function JN(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=xC(i.sort((s,r)=>s-r))}return e._cache.$bar}function tA(e){const t=e.iScale,n=JN(t,e.type);let i=t._length,s,r,a,u;const c=()=>{a===32767||a===-32768||(pa(u)&&(i=Math.min(i,Math.abs(a-u)||i)),u=a)};for(s=0,r=n.length;s<r;++s)a=t.getPixelForValue(n[s]),c();for(u=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),c();return i}function eA(e,t,n,i){const s=n.barThickness;let r,a;return Lt(s)?(r=t.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[e]-r/2}}function nA(e,t,n,i){const s=t.pixels,r=s[e];let a=e>0?s[e-1]:null,u=e<s.length-1?s[e+1]:null;const c=n.categoryPercentage;a===null&&(a=r-(u===null?t.end-t.start:u-r)),u===null&&(u=r+r-a);const d=r-(r-Math.min(a,u))/2*c;return{chunk:Math.abs(u-a)/2*c/i,ratio:n.barPercentage,start:d}}function iA(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),a=Math.min(s,r),u=Math.max(s,r);let c=a,d=u;Math.abs(a)>Math.abs(u)&&(c=u,d=a),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:s,end:r,min:a,max:u}}function jC(e,t,n,i){return Qt(e)?iA(e,t,n,i):t[n.axis]=n.parse(e,i),t}function wy(e,t,n,i){const s=e.iScale,r=e.vScale,a=s.getLabels(),u=s===r,c=[];let d,p,m,_;for(d=n,p=n+i;d<p;++d)_=t[d],m={},m[s.axis]=u||s.parse(a[d],d),c.push(jC(_,m,r,d));return c}function Zh(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function sA(e,t,n){return e!==0?Pi(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function rA(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function oA(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:u,reverse:c,top:d,bottom:p}=rA(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=p:(r[xy(p,a,u,c)]=!0,s=d)),r[xy(s,a,u,c)]=!0,e.borderSkipped=r}function xy(e,t,n,i){return i?(e=aA(e,t,n),e=Sy(e,n,t)):e=Sy(e,t,n),e}function aA(e,t,n){return e===t?n:e===n?t:e}function Sy(e,t,n){return e==="start"?t:e==="end"?n:e}function lA(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Vl extends Do{parsePrimitiveData(t,n,i,s){return wy(t,n,i,s)}parseArrayData(t,n,i,s){return wy(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:a}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?u:c,p=a.axis==="x"?u:c,m=[];let _,v,x,S;for(_=i,v=i+s;_<v;++_)S=n[_],x={},x[r.axis]=r.parse(wr(S,d),_),m.push(jC(wr(S,p),x,a,_));return m}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),a=r._custom,u=Zh(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:_}=this._getSharedOptions(n,s);for(let v=n;v<n+i;v++){const x=this.getParsed(v),S=r||Lt(x[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),E=this._calculateBarIndexPixels(v,p),w=(x._stacks||{})[u.axis],C={horizontal:d,base:S.base,enableBorderRadius:!w||Zh(x._custom)||a===w._top||a===w._bottom,x:d?S.head:E.center,y:d?E.center:S.head,height:d?E.size:Math.abs(S.size),width:d?Math.abs(S.size):E.size};_&&(C.options=m||this.resolveDataElementOptions(v,t[v].active?"active":s));const b=C.options||t[v].options;oA(C,b,w,a),lA(C,b,p.ratio),this.updateElement(t[v],v,C,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),r=i.options.stacked,a=[],u=this._cachedMeta.controller.getParsed(n),c=u&&u[i.axis],d=p=>{const m=p._parsed.find(v=>v[i.axis]===c),_=m&&m[p.vScale.axis];if(Lt(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&d(p))&&((r===!1||a.indexOf(p.stack)===-1||r===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const u=t.barThickness;return{min:u||tA(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,u=r||0,c=this.getParsed(t),d=c._custom,p=Zh(d);let m=c[n.axis],_=0,v=i?this.applyStack(n,c,i):m,x,S;v!==m&&(_=v-m,v=m),p&&(m=d.barStart,v=d.barEnd-d.barStart,m!==0&&Pi(m)!==Pi(d.barEnd)&&(_=0),_+=m);const E=!Lt(r)&&!p?r:_;let w=n.getPixelForValue(E);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(_+v):x=w,S=x-w,Math.abs(S)<a){S=sA(S,n,u)*a,m===u&&(w-=S/2);const C=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),P=Math.min(C,b),M=Math.max(C,b);w=Math.max(Math.min(w,M),P),x=w+S,i&&!p&&(c._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(w))}if(w===n.getPixelForValue(u)){const C=Pi(S)*n.getLineWidthForValue(u)/2;w+=C,S-=C}return{size:S,base:w,head:x,center:x+S/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,a=vt(s.maxBarThickness,1/0);let u,c;if(n.grouped){const d=r?this._getStackCount(t):n.stackCount,p=s.barThickness==="flex"?nA(t,n,s,d):eA(t,n,s,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);u=p.start+p.chunk*m+p.chunk/2,c=Math.min(a,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,n.min*n.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}dt(Vl,"id","bar"),dt(Vl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),dt(Vl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bm{constructor(t){dt(this,"options");this.options=t||{}}static override(t){Object.assign(bm.prototype,t)}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var uA={_date:bm};function cA(e,t,n,i){const{controller:s,data:r,_sorted:a}=e,u=s._cachedMeta.iScale;if(u&&t===u.axis&&t!=="r"&&a&&r.length){const c=u._reversePixels?JR:yf;if(i){if(s._sharedOptions){const d=r[0],p=typeof d.getRange=="function"&&d.getRange(t);if(p){const m=c(r,t,n-p),_=c(r,t,n+p);return{lo:m.lo,hi:_.hi}}}}else return c(r,t,n)}return{lo:0,hi:r.length-1}}function La(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),a=n[t];for(let u=0,c=r.length;u<c;++u){const{index:d,data:p}=r[u],{lo:m,hi:_}=cA(r[u],t,a,s);for(let v=m;v<=_;++v){const x=p[v];x.skip||i(x,d,v)}}}function hA(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Gh(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||La(e,n,t,function(u,c,d){!s&&!IC(u,e.chartArea,0)||u.inRange(t.x,t.y,i)&&r.push({element:u,datasetIndex:c,index:d})},!0),r}function dA(e,t,n,i){let s=[];function r(a,u,c){const{startAngle:d,endAngle:p}=a.getProps(["startAngle","endAngle"],i),{angle:m}=KR(a,{x:t.x,y:t.y});QR(m,d,p)&&s.push({element:a,datasetIndex:u,index:c})}return La(e,n,t,r),s}function fA(e,t,n,i,s,r){let a=[];const u=hA(n);let c=Number.POSITIVE_INFINITY;function d(p,m,_){const v=p.inRange(t.x,t.y,s);if(i&&!v)return;const x=p.getCenterPoint(s);if(!(!!r||e.isPointInArea(x))&&!v)return;const E=u(t,x);E<c?(a=[{element:p,datasetIndex:m,index:_}],c=E):E===c&&a.push({element:p,datasetIndex:m,index:_})}return La(e,n,t,d),a}function Yh(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?dA(e,t,n,s):fA(e,t,n,i,s,r)}function Cy(e,t,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let u=!1;return La(e,n,t,(c,d,p)=>{c[a]&&c[a](t[n],s)&&(r.push({element:c,datasetIndex:d,index:p}),u=u||c.inRange(t.x,t.y,s))}),i&&!u?[]:r}var pA={evaluateInteractionItems:La,modes:{index(e,t,n,i){const s=Qi(t,e),r=n.axis||"x",a=n.includeInvisible||!1,u=n.intersect?Gh(e,s,r,i,a):Yh(e,s,r,!1,i,a),c=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,m=d.data[p];m&&!m.skip&&c.push({element:m,datasetIndex:d.index,index:p})}),c):[]},dataset(e,t,n,i){const s=Qi(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;let u=n.intersect?Gh(e,s,r,i,a):Yh(e,s,r,!1,i,a);if(u.length>0){const c=u[0].datasetIndex,d=e.getDatasetMeta(c).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:c,index:p})}return u},point(e,t,n,i){const s=Qi(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Gh(e,s,r,i,a)},nearest(e,t,n,i){const s=Qi(t,e),r=n.axis||"xy",a=n.includeInvisible||!1;return Yh(e,s,r,n.intersect,i,a)},x(e,t,n,i){const s=Qi(t,e);return Cy(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Qi(t,e);return Cy(e,s,"y",n.intersect,i)}}};const HC=["left","top","right","bottom"];function ao(e,t){return e.filter(n=>n.pos===t)}function by(e,t){return e.filter(n=>HC.indexOf(n.pos)===-1&&n.box.axis===t)}function lo(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function mA(e){const t=[];let n,i,s,r,a,u;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:a,stackWeight:u=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:u});return t}function gA(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!HC.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function _A(e,t){const n=gA(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,a,u;for(r=0,a=e.length;r<a;++r){u=e[r];const{fullSize:c}=u.box,d=n[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:c&&t.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:c&&t.availableHeight)}return n}function vA(e){const t=mA(e),n=lo(t.filter(d=>d.box.fullSize),!0),i=lo(ao(t,"left"),!0),s=lo(ao(t,"right")),r=lo(ao(t,"top"),!0),a=lo(ao(t,"bottom")),u=by(t,"x"),c=by(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(a).concat(u),chartArea:ao(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(a).concat(u)}}function Ey(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function WC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yA(e,t,n,i){const{pos:s,box:r}=n,a=e.maxPadding;if(!mt(s)){n.size&&(e[s]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?r.height:r.width),n.size=m.size/m.count,e[s]+=n.size}r.getPadding&&WC(a,r.getPadding());const u=Math.max(0,t.outerWidth-Ey(a,e,"left","right")),c=Math.max(0,t.outerHeight-Ey(a,e,"top","bottom")),d=u!==e.w,p=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:d,other:p}:{same:p,other:d}}function wA(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function xA(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],n[a])}),r}return i(e?["left","right"]:["top","bottom"])}function _o(e,t,n,i){const s=[];let r,a,u,c,d,p;for(r=0,a=e.length,d=0;r<a;++r){u=e[r],c=u.box,c.update(u.width||t.w,u.height||t.h,xA(u.horizontal,t));const{same:m,other:_}=yA(t,n,u,i);d|=m&&s.length,p=p||_,c.fullSize||s.push(u)}return d&&_o(s,t,n,i)||p}function xl(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function ky(e,t,n,i){const s=n.padding;let{x:r,y:a}=t;for(const u of e){const c=u.box,d=i[u.stack]||{count:1,placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const m=t.w*p,_=d.size||c.height;pa(d.start)&&(a=d.start),c.fullSize?xl(c,s.left,a,n.outerWidth-s.right-s.left,_):xl(c,t.left+d.placed,a,m,_),d.start=a,d.placed+=m,a=c.bottom}else{const m=t.h*p,_=d.size||c.width;pa(d.start)&&(r=d.start),c.fullSize?xl(c,r,s.top,_,n.outerHeight-s.bottom-s.top):xl(c,r,t.top+d.placed,_,m),d.start=r,d.placed+=m,r=c.right}}t.x=r,t.y=a}var Ke={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=en(e.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(n-s.height,0),u=vA(e.boxes),c=u.vertical,d=u.horizontal;_t(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=c.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/p,hBoxMaxHeight:a/2}),_=Object.assign({},s);WC(_,en(i));const v=Object.assign({maxPadding:_,w:r,h:a,x:s.left,y:s.top},s),x=_A(c.concat(d),m);_o(u.fullSize,v,m,x),_o(c,v,m,x),_o(d,v,m,x)&&_o(c,v,m,x),wA(v),ky(u.leftAndTop,v,m,x),v.x+=v.w,v.y+=v.h,ky(u.rightAndBottom,v,m,x),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},_t(u.chartArea,S=>{const E=S.box;Object.assign(E,e.chartArea),E.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class UC{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class SA extends UC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $l="$chartjs",CA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ty=e=>e===null||e==="";function bA(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[$l]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ty(s)){const r=fy(e,"width");r!==void 0&&(e.width=r)}if(Ty(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=fy(e,"height");r!==void 0&&(e.height=r)}return e}const VC=DN?{passive:!0}:!1;function EA(e,t,n){e&&e.addEventListener(t,n,VC)}function kA(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,VC)}function TA(e,t){const n=CA[e.type]||e.type,{x:i,y:s}=Qi(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Uu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function PA(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const u of r)a=a||Uu(u.addedNodes,i),a=a&&!Uu(u.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function IA(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let a=!1;for(const u of r)a=a||Uu(u.removedNodes,i),a=a&&!Uu(u.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ga=new Map;let Py=0;function $C(){const e=window.devicePixelRatio;e!==Py&&(Py=e,ga.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function LA(e,t){ga.size||window.addEventListener("resize",$C),ga.set(e,t)}function MA(e){ga.delete(e),ga.size||window.removeEventListener("resize",$C)}function OA(e,t,n){const i=e.canvas,s=i&&Cm(i);if(!s)return;const r=CC((u,c)=>{const d=s.clientWidth;n(u,c),d<s.clientWidth&&n()},window),a=new ResizeObserver(u=>{const c=u[0],d=c.contentRect.width,p=c.contentRect.height;d===0&&p===0||r(d,p)});return a.observe(s),LA(e,r),a}function Kh(e,t,n){n&&n.disconnect(),t==="resize"&&MA(e)}function RA(e,t,n){const i=e.canvas,s=CC(r=>{e.ctx!==null&&n(TA(r,e))},e);return EA(i,t,s),s}class NA extends UC{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(bA(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[$l])return!1;const i=n[$l].initial;["height","width"].forEach(r=>{const a=i[r];Lt(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[$l],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:PA,detach:IA,resize:OA}[n]||RA;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Kh,detach:Kh,resize:Kh}[n]||kA)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return AN(t,n,i,s)}isAttached(t){const n=t&&Cm(t);return!!(n&&n.isConnected)}}function AA(e){return!Sm()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?SA:NA}var Pl;let Or=(Pl=class{constructor(){dt(this,"x");dt(this,"y");dt(this,"active",!1);dt(this,"options");dt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return ju(this.x)&&ju(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},dt(Pl,"defaults",{}),dt(Pl,"defaultRoutes"),Pl);function DA(e,t){const n=e.options.ticks,i=zA(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?BA(t):[],a=r.length,u=r[0],c=r[a-1],d=[];if(a>s)return jA(t,d,r,a/s),d;const p=FA(r,t,s);if(a>0){let m,_;const v=a>1?Math.round((c-u)/(a-1)):null;for(Sl(t,d,p,Lt(v)?0:u-v,u),m=0,_=a-1;m<_;m++)Sl(t,d,p,r[m],r[m+1]);return Sl(t,d,p,c,Lt(v)?t.length:c+v),d}return Sl(t,d,p),d}function zA(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function FA(e,t,n){const i=HA(e),s=t.length/n;if(!i)return Math.max(s,1);const r=$R(i);for(let a=0,u=r.length-1;a<u;a++){const c=r[a];if(c>s)return c}return Math.max(s,1)}function BA(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function jA(e,t,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===r&&(t.push(e[a]),s++,r=n[s*i])}function Sl(e,t,n,i,s){const r=vt(i,0),a=Math.min(vt(s,e.length),e.length);let u=0,c,d,p;for(n=Math.ceil(n),s&&(c=s-i,n=c/Math.floor(c/n)),p=r;p<0;)u++,p=Math.round(r+u*n);for(d=Math.max(r,0);d<a;d++)d===p&&(t.push(e[d]),u++,p=Math.round(r+u*n))}function HA(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const WA=e=>e==="left"?"right":e==="right"?"left":e,Iy=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Ly=(e,t)=>Math.min(t||e,e);function My(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function UA(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,a=e._endPixel,u=1e-6;let c=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(c-r,a-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(s-1))/2,c+=s<t?d:-d,c<r-u||c>a+u)))return c}function VA(e,t){_t(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function uo(e){return e.drawTicks?e.tickLength:0}function Oy(e,t){if(!e.display)return 0;const n=me(e.font,t),i=en(e.padding);return(Qt(e.text)?e.text.length:1)*n.lineHeight+i.height}function $A(e,t){return Mr(e,{scale:t,type:"scale"})}function ZA(e,t,n){return Mr(e,{tick:n,index:t,type:"tick"})}function GA(e,t,n){let i=gm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=WA(i)),i}function YA(e,t,n,i){const{top:s,left:r,bottom:a,right:u,chart:c}=e,{chartArea:d,scales:p}=c;let m=0,_,v,x;const S=a-s,E=u-r;if(e.isHorizontal()){if(v=de(i,r,u),mt(n)){const w=Object.keys(n)[0],C=n[w];x=p[w].getPixelForValue(C)+S-t}else n==="center"?x=(d.bottom+d.top)/2+S-t:x=Iy(e,n,t);_=u-r}else{if(mt(n)){const w=Object.keys(n)[0],C=n[w];v=p[w].getPixelForValue(C)-E+t}else n==="center"?v=(d.left+d.right)/2-E+t:v=Iy(e,n,t);x=de(i,a,s),m=n==="left"?-dn:dn}return{titleX:v,titleY:x,maxWidth:_,rotation:m}}class Rr extends Or{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Cn(t,Number.POSITIVE_INFINITY),n=Cn(n,Number.NEGATIVE_INFINITY),i=Cn(i,Number.POSITIVE_INFINITY),s=Cn(s,Number.NEGATIVE_INFINITY),{min:Cn(t,i),max:Cn(n,s),minDefined:tn(t),maxDefined:tn(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,d=u.length;c<d;++c)a=u[c].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Cn(n,Cn(i,n)),max:Cn(i,Cn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wN(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?My(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=DA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),It(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=It(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=Ly(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,u,c,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),m=p.widest.width,_=p.highest.height,v=fn(this.chart.width-m,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),m+6>u&&(u=v/(i-(t.offset?.5:1)),c=this.maxHeight-uo(t.grid)-n.padding-Oy(t.title,this.chart.options.font),d=Math.sqrt(m*m+_*_),a=YR(Math.min(Math.asin(fn((p.highest.height+6)/u,-1,1)),Math.asin(fn(c/d,-1,1))-Math.asin(fn(_/d,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const c=Oy(s,n.options.font);if(u?(t.width=this.maxWidth,t.height=uo(r)+c):(t.height=this.maxHeight,t.width=uo(r)+c),i.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:_}=this._getLabelSizes(),v=i.padding*2,x=ss(this.labelRotation),S=Math.cos(x),E=Math.sin(x);if(u){const w=i.mirror?0:E*m.width+S*_.height;t.height=Math.min(this.maxHeight,t.height+w+v)}else{const w=i.mirror?0:S*m.width+E*_.height;t.width=Math.min(this.maxWidth,t.width+w+v)}this._calculatePadding(d,p,E,S)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:a},position:u}=this.options,c=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,v=0;c?d?(_=s*t.width,v=i*n.height):(_=i*t.height,v=s*n.width):r==="start"?v=n.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,v=n.width/2),this.paddingLeft=Math.max((_-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-m+a)*this.width/(this.width-m),0)}else{let p=n.height/2,m=t.height/2;r==="start"?(p=0,m=t.height):r==="end"&&(p=n.height,m=0),this.paddingTop=p+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Lt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=My(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],u=[],c=Math.floor(n/Ly(n,i));let d=0,p=0,m,_,v,x,S,E,w,C,b,P,M;for(m=0;m<n;m+=c){if(x=t[m].label,S=this._resolveTickFontOptions(m),s.font=E=S.string,w=r[E]=r[E]||{data:{},gc:[]},C=S.lineHeight,b=P=0,!Lt(x)&&!Qt(x))b=ay(s,w.data,w.gc,b,x),P=C;else if(Qt(x))for(_=0,v=x.length;_<v;++_)M=x[_],!Lt(M)&&!Qt(M)&&(b=ay(s,w.data,w.gc,b,M),P+=C);a.push(b),u.push(P),d=Math.max(b,d),p=Math.max(P,p)}VA(r,n);const N=a.indexOf(d),D=u.indexOf(p),F=Z=>({width:a[Z]||0,height:u[Z]||0});return{first:F(0),last:F(n-1),widest:F(N),highest:F(D),widths:a,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return XR(this._alignToPixels?$i(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=ZA(this.getContext(),t,i))}return this.$context||(this.$context=$A(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ss(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,u=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*i>u*s?u/i:c/s:c*s<u*i?c/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:u}=s,c=r.offset,d=this.isHorizontal(),m=this.ticks.length+(c?1:0),_=uo(r),v=[],x=u.setContext(this.getContext()),S=x.display?x.width:0,E=S/2,w=function(ct){return $i(i,ct,S)};let C,b,P,M,N,D,F,Z,U,$,q,Ft;if(a==="top")C=w(this.bottom),D=this.bottom-_,Z=C-E,$=w(t.top)+E,Ft=t.bottom;else if(a==="bottom")C=w(this.top),$=t.top,Ft=w(t.bottom)-E,D=C+E,Z=this.top+_;else if(a==="left")C=w(this.right),N=this.right-_,F=C-E,U=w(t.left)+E,q=t.right;else if(a==="right")C=w(this.left),U=t.left,q=w(t.right)-E,N=C+E,F=this.left+_;else if(n==="x"){if(a==="center")C=w((t.top+t.bottom)/2+.5);else if(mt(a)){const ct=Object.keys(a)[0],Bt=a[ct];C=w(this.chart.scales[ct].getPixelForValue(Bt))}$=t.top,Ft=t.bottom,D=C+E,Z=D+_}else if(n==="y"){if(a==="center")C=w((t.left+t.right)/2);else if(mt(a)){const ct=Object.keys(a)[0],Bt=a[ct];C=w(this.chart.scales[ct].getPixelForValue(Bt))}N=C-E,F=N-_,U=t.left,q=t.right}const Rt=vt(s.ticks.maxTicksLimit,m),Et=Math.max(1,Math.ceil(m/Rt));for(b=0;b<m;b+=Et){const ct=this.getContext(b),Bt=r.setContext(ct),A=u.setContext(ct),Q=Bt.lineWidth,j=Bt.color,Y=A.dash||[],et=A.dashOffset,kt=Bt.tickWidth,ut=Bt.tickColor,it=Bt.tickBorderDash||[],K=Bt.tickBorderDashOffset;P=UA(this,b,c),P!==void 0&&(M=$i(i,P,Q),d?N=F=U=q=M:D=Z=$=Ft=M,v.push({tx1:N,ty1:D,tx2:F,ty2:Z,x1:U,y1:$,x2:q,y2:Ft,width:Q,color:j,borderDash:Y,borderDashOffset:et,tickWidth:kt,tickColor:ut,tickBorderDash:it,tickBorderDashOffset:K}))}return this._ticksLength=m,this._borderValue=C,v}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:d,padding:p,mirror:m}=r,_=uo(i.grid),v=_+p,x=m?-p:v,S=-ss(this.labelRotation),E=[];let w,C,b,P,M,N,D,F,Z,U,$,q,Ft="middle";if(s==="top")N=this.bottom-x,D=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+x,D=this._getXAxisLabelAlignment();else if(s==="left"){const Et=this._getYAxisLabelAlignment(_);D=Et.textAlign,M=Et.x}else if(s==="right"){const Et=this._getYAxisLabelAlignment(_);D=Et.textAlign,M=Et.x}else if(n==="x"){if(s==="center")N=(t.top+t.bottom)/2+v;else if(mt(s)){const Et=Object.keys(s)[0],ct=s[Et];N=this.chart.scales[Et].getPixelForValue(ct)+v}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(t.left+t.right)/2-v;else if(mt(s)){const Et=Object.keys(s)[0],ct=s[Et];M=this.chart.scales[Et].getPixelForValue(ct)}D=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(c==="start"?Ft="top":c==="end"&&(Ft="bottom"));const Rt=this._getLabelSizes();for(w=0,C=u.length;w<C;++w){b=u[w],P=b.label;const Et=r.setContext(this.getContext(w));F=this.getPixelForTick(w)+r.labelOffset,Z=this._resolveTickFontOptions(w),U=Z.lineHeight,$=Qt(P)?P.length:1;const ct=$/2,Bt=Et.color,A=Et.textStrokeColor,Q=Et.textStrokeWidth;let j=D;a?(M=F,D==="inner"&&(w===C-1?j=this.options.reverse?"left":"right":w===0?j=this.options.reverse?"right":"left":j="center"),s==="top"?d==="near"||S!==0?q=-$*U+U/2:d==="center"?q=-Rt.highest.height/2-ct*U+U:q=-Rt.highest.height+U/2:d==="near"||S!==0?q=U/2:d==="center"?q=Rt.highest.height/2-ct*U:q=Rt.highest.height-$*U,m&&(q*=-1),S!==0&&!Et.showLabelBackdrop&&(M+=U/2*Math.sin(S))):(N=F,q=(1-$)*U/2);let Y;if(Et.showLabelBackdrop){const et=en(Et.backdropPadding),kt=Rt.heights[w],ut=Rt.widths[w];let it=q-et.top,K=0-et.left;switch(Ft){case"middle":it-=kt/2;break;case"bottom":it-=kt;break}switch(D){case"center":K-=ut/2;break;case"right":K-=ut;break;case"inner":w===C-1?K-=ut:w>0&&(K-=ut/2);break}Y={left:K,top:it,width:ut+et.width,height:kt+et.height,color:Et.backdropColor}}E.push({label:P,font:Z,textOffset:q,options:{rotation:S,color:Bt,strokeColor:A,strokeWidth:Q,textAlign:j,textBaseline:Ft,translation:[M,N],backdrop:Y}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ss(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),u=t+r,c=a.widest.width;let d,p;return n==="left"?s?(p=this.right+r,i==="near"?d="left":i==="center"?(d="center",p+=c/2):(d="right",p+=c)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=c/2):(d="left",p=this.left)):n==="right"?s?(p=this.left+r,i==="near"?d="right":i==="center"?(d="center",p-=c/2):(d="left",p-=c)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=c/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const u=(c,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const c=s[r];n.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const u=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,p,m,_;this.isHorizontal()?(d=$i(t,this.left,a)-a/2,p=$i(t,this.right,u)+u/2,m=_=c):(m=$i(t,this.top,a)-a/2,_=$i(t,this.bottom,u)+u/2,d=p=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,m),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&_m(i,s);const r=this.getLabelItems(t);for(const a of r){const u=a.options,c=a.font,d=a.label,p=a.textOffset;ma(i,d,0,p,c,u)}s&&vm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=me(i.font),a=en(i.padding),u=i.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||mt(n)?(c+=a.bottom,Qt(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:d,titleY:p,maxWidth:m,rotation:_}=YA(this,c,n,u);ma(t,i.text,0,0,r,{color:i.color,maxWidth:m,rotation:_,textAlign:GA(u,n,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=vt(t.grid&&t.grid.z,-1),s=vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Rr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const u=n[r];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return me(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Cl{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;QA(n)&&(i=this.register(n));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,KA(t,a,i),this.override&&Vt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Vt[s]&&(delete Vt[s][i],this.override&&delete _s[i])}}function KA(e,t,n){const i=fa(Object.create(null),[n?Vt.get(n):{},Vt.get(t),e.defaults]);Vt.set(t,i),e.defaultRoutes&&qA(t,e.defaultRoutes),e.descriptors&&Vt.describe(t,e.descriptors)}function qA(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),a=t[n].split("."),u=a.pop(),c=a.join(".");Vt.route(r,s,c,u)})}function QA(e){return"id"in e&&"defaults"in e}class XA{constructor(){this.controllers=new Cl(Do,"datasets",!0),this.elements=new Cl(Or,"elements"),this.plugins=new Cl(Object,"plugins"),this.scales=new Cl(Rr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):_t(s,a=>{const u=i||this._getRegistryForType(a);this._exec(t,u,a)})})}_exec(t,n,i){const s=pm(t);It(i["before"+s],[],i),n[t](i),It(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var kn=new XA;class JA{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const r of t){const a=r.plugin,u=a[i],c=[n,s,r.options];if(It(u,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=vt(i.options&&i.options.plugins,{}),r=tD(i);return s===!1&&!n?[]:nD(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(u=>!a.some(c=>u.plugin.id===c.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function tD(e){const t={},n=[],i=Object.keys(kn.plugins.items);for(let r=0;r<i.length;r++)n.push(kn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function eD(e,t){return!t&&e===!1?null:e===!0?{}:e}function nD(e,{plugins:t,localIds:n},i,s){const r=[],a=e.getContext();for(const u of t){const c=u.id,d=eD(i[c],s);d!==null&&r.push({plugin:u,options:iD(e.config,{plugin:u,local:n[c]},d,a)})}return r}function iD(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),a=e.getOptionScopes(i,r);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xf(e,t){const n=Vt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function sD(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function rD(e,t){return e===t?"_index_":"_value_"}function Ry(e){if(e==="x"||e==="y"||e==="r")return e}function oD(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Sf(e,...t){if(Ry(e))return e;for(const n of t){const i=n.axis||oD(n.position)||e.length>1&&Ry(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ny(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function aD(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return Ny(e,"x",n[0])||Ny(e,"y",n[0])}return{}}function lD(e,t){const n=_s[e.type]||{scales:{}},i=t.scales||{},s=xf(e.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const u=i[a];if(!mt(u))return console.error(`Invalid scale configuration for scale: ${a}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Sf(a,u,aD(a,e),Vt.scales[u.type]),d=rD(c,s),p=n.scales||{};r[a]=Ro(Object.create(null),[{axis:c},u,p[c],p[d]])}),e.data.datasets.forEach(a=>{const u=a.type||e.type,c=a.indexAxis||xf(u,t),p=(_s[u]||{}).scales||{};Object.keys(p).forEach(m=>{const _=sD(m,c),v=a[_+"AxisID"]||_;r[v]=r[v]||Object.create(null),Ro(r[v],[{axis:_},i[v],p[m]])})}),Object.keys(r).forEach(a=>{const u=r[a];Ro(u,[Vt.scales[u.type],Vt.scale])}),r}function ZC(e){const t=e.options||(e.options={});t.plugins=vt(t.plugins,{}),t.scales=lD(e,t)}function GC(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function uD(e){return e=e||{},e.data=GC(e.data),ZC(e),e}const Ay=new Map,YC=new Set;function bl(e,t){let n=Ay.get(e);return n||(n=t(),Ay.set(e,n),YC.add(n)),n}const co=(e,t,n)=>{const i=wr(t,n);i!==void 0&&e.add(i)};class cD{constructor(t){this._config=uD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=GC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ZC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return bl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return bl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return bl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return bl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,a=this._cachedScopes(t,i),u=a.get(n);if(u)return u;const c=new Set;n.forEach(p=>{t&&(c.add(t),p.forEach(m=>co(c,t,m))),p.forEach(m=>co(c,s,m)),p.forEach(m=>co(c,_s[r]||{},m)),p.forEach(m=>co(c,Vt,m)),p.forEach(m=>co(c,wf,m))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),YC.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,_s[n]||{},Vt.datasets[n]||{},{type:n},Vt,wf]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:u}=Dy(this._resolverCache,t,s);let c=a;if(dD(a,n)){r.$shared=!1,i=Ri(i)?i():i;const d=this.createResolver(t,i,u);c=xr(a,i,d)}for(const d of n)r[d]=c[d];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Dy(this._resolverCache,t,i);return mt(n)?xr(r,n,void 0,s):r}}function Dy(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:ym(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,r)),r}const hD=e=>mt(e)&&Object.getOwnPropertyNames(e).some(t=>Ri(e[t]));function dD(e,t){const{isScriptable:n,isIndexable:i}=OC(e);for(const s of t){const r=n(s),a=i(s),u=(a||r)&&e[s];if(r&&(Ri(u)||hD(u))||a&&Qt(u))return!0}return!1}var fD="4.4.7";const pD=["top","bottom","left","right","chartArea"];function zy(e,t){return e==="top"||e==="bottom"||pD.indexOf(e)===-1&&t==="x"}function Fy(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function By(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),It(n&&n.onComplete,[e],t)}function mD(e){const t=e.chart,n=t.options.animation;It(n&&n.onProgress,[e],t)}function KC(e){return Sm()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Zl={},jy=e=>{const t=KC(e);return Object.values(Zl).filter(n=>n.canvas===t).pop()};function gD(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}function _D(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function El(e,t,n){return e.options.clip?e[n]:t[n]}function vD(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:El(n,t,"left"),right:El(n,t,"right"),top:El(i,t,"top"),bottom:El(i,t,"bottom")}:t}var si;let wc=(si=class{static register(...t){kn.add(...t),Hy()}static unregister(...t){kn.remove(...t),Hy()}constructor(t,n){const i=this.config=new cD(n),s=KC(t),r=jy(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||AA(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,a.aspectRatio),c=u&&u.canvas,d=c&&c.height,p=c&&c.width;if(this.id=zR(),this.ctx=u,this.canvas=c,this.width=p,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nN(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Zl[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}An.listen(this,"complete",By),An.listen(this,"progress",mD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Lt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return kn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ly(this.canvas,this.ctx),this}stop(){return An.stop(this),this}resize(t,n){An.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,r),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,dy(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),It(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};_t(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,u)=>(a[u]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const u=n[a],c=Sf(a,u),d=c==="r",p=c==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),_t(r,a=>{const u=a.options,c=u.id,d=Sf(c,u),p=vt(u.type,a.dtype);(u.position===void 0||zy(u.position,d)!==zy(a.dposition))&&(u.position=a.dposition),s[c]=!0;let m=null;if(c in i&&i[c].type===p)m=i[c];else{const _=kn.getScale(p);m=new _({id:c,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,t)}),_t(s,(a,u)=>{a||delete i[u]}),_t(i,a=>{Ke.configure(this,a,a.options),Ke.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Fy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const u=r.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=u,a.indexAxis=r.indexAxis||xf(u,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=kn.getController(u),{datasetElementType:d,dataElementType:p}=Vt.datasets[u];Object.assign(c,{dataElementType:kn.getElement(p),datasetElementType:d&&kn.getElement(d)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){_t(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),_=!s&&r.indexOf(m)===-1;m.buildOrUpdateElements(_),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||_t(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Fy("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){_t(this.scales,t=>{Ke.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Xv(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;gD(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(a=>a[0]===r).map((a,u)=>u+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Xv(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ke.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],_t(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ri(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(An.has(this)?this.attached&&!An.running(this)&&An.start(this):(this.draw(),By({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=vD(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&_m(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&vm(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return IC(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=pA.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Mr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);pa(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),An.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ly(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Zl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),t[r]=a},s=(r,a,u)=>{r.offsetX=a,r.offsetY=u,this._eventHandler(r)};_t(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},s=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():a()}unbindEvents(){_t(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},_t(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,a,u,c;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),u=0,c=t.length;u<c;++u){a=t[u];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{const u=this.getDatasetMeta(r);if(!u)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:u.data[a],index:a}});!zu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(c,d)=>c.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),a=r(n,t),u=i?t:r(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,a=n,u=this._getActiveElements(t,s,i,a),c=UR(t),d=_D(t,this._lastEvent,i,c);i&&(this._lastEvent=null,It(r.onHover,[t,u,this],this),c&&It(r.onClick,[t,u,this],this));const p=!zu(u,s);return(p||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=d,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}},dt(si,"defaults",Vt),dt(si,"instances",Zl),dt(si,"overrides",_s),dt(si,"registry",kn),dt(si,"version",fD),dt(si,"getChart",jy),si);function Hy(){return _t(wc.instances,e=>e._plugins.invalidate())}function qC(e,t){const{x:n,y:i,base:s,width:r,height:a}=e.getProps(["x","y","base","width","height"],t);let u,c,d,p,m;return e.horizontal?(m=a/2,u=Math.min(n,s),c=Math.max(n,s),d=i-m,p=i+m):(m=r/2,u=n-m,c=n+m,d=Math.min(i,s),p=Math.max(i,s)),{left:u,top:d,right:c,bottom:p}}function fi(e,t,n,i){return e?0:fn(t,n,i)}function yD(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=MC(i);return{t:fi(s.top,r.top,0,n),r:fi(s.right,r.right,0,t),b:fi(s.bottom,r.bottom,0,n),l:fi(s.left,r.left,0,t)}}function wD(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=or(s),a=Math.min(t,n),u=e.borderSkipped,c=i||mt(s);return{topLeft:fi(!c||u.top||u.left,r.topLeft,0,a),topRight:fi(!c||u.top||u.right,r.topRight,0,a),bottomLeft:fi(!c||u.bottom||u.left,r.bottomLeft,0,a),bottomRight:fi(!c||u.bottom||u.right,r.bottomRight,0,a)}}function xD(e){const t=qC(e),n=t.right-t.left,i=t.bottom-t.top,s=yD(e,n/2,i/2),r=wD(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function qh(e,t,n,i){const s=t===null,r=n===null,u=e&&!(s&&r)&&qC(e,i);return u&&(s||Ks(t,u.left,u.right))&&(r||Ks(n,u.top,u.bottom))}function SD(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function CD(e,t){e.rect(t.x,t.y,t.w,t.h)}function Qh(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+a,radius:e.radius}}class Gl extends Or{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=xD(this),u=SD(a.radius)?Hu:CD;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),u(t,Qh(a,n,r)),t.clip(),u(t,Qh(r,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Qh(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return qh(this,t,n,i)}inXRange(t,n){return qh(this,t,null,n)}inYRange(t,n){return qh(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}dt(Gl,"id","bar"),dt(Gl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),dt(Gl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Wy=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},bD=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Uy extends Or{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=It(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=me(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=Wy(i,r);let d,p;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(a,r,u,c)+10):(p=this.maxHeight,d=this._fitCols(a,s,u,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+u;let m=t;r.textAlign="left",r.textBaseline="middle";let _=-1,v=-p;return this.legendItems.forEach((x,S)=>{const E=i+n/2+r.measureText(x.text).width;(S===0||d[d.length-1]+E+2*u>a)&&(m+=p,d[d.length-(S>0?0:1)]=0,v+=p,_++),c[S]={left:0,top:v,row:_,width:E,height:s},d[d.length-1]+=E+u}),m}_fitCols(t,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],p=a-t;let m=u,_=0,v=0,x=0,S=0;return this.legendItems.forEach((E,w)=>{const{itemWidth:C,itemHeight:b}=ED(i,n,r,E,s);w>0&&v+b+2*u>p&&(m+=_+u,d.push({width:_,height:v}),x+=_+u,S++,_=v=0),c[w]={left:x,top:v,col:S,width:C,height:b},_=Math.max(_,C),v+=b+u}),m+=_,d.push({width:_,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=ar(r,this.left,this.width);if(this.isHorizontal()){let u=0,c=de(i,this.left+s,this.right-this.lineWidths[u]);for(const d of n)u!==d.row&&(u=d.row,c=de(i,this.left+s,this.right-this.lineWidths[u])),d.top+=this.top+t+s,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+s}else{let u=0,c=de(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const d of n)d.col!==u&&(u=d.col,c=de(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),d.top=c,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_m(t,this),this._draw(),vm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,u=Vt.color,c=ar(t.rtl,this.left,this.width),d=me(a.font),{padding:p}=a,m=d.size,_=m/2;let v;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:x,boxHeight:S,itemHeight:E}=Wy(a,m),w=function(N,D,F){if(isNaN(x)||x<=0||isNaN(S)||S<0)return;s.save();const Z=vt(F.lineWidth,1);if(s.fillStyle=vt(F.fillStyle,u),s.lineCap=vt(F.lineCap,"butt"),s.lineDashOffset=vt(F.lineDashOffset,0),s.lineJoin=vt(F.lineJoin,"miter"),s.lineWidth=Z,s.strokeStyle=vt(F.strokeStyle,u),s.setLineDash(vt(F.lineDash,[])),a.usePointStyle){const U={radius:S*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:Z},$=c.xPlus(N,x/2),q=D+_;PC(s,U,$,q,a.pointStyleWidth&&x)}else{const U=D+Math.max((m-S)/2,0),$=c.leftForLtr(N,x),q=or(F.borderRadius);s.beginPath(),Object.values(q).some(Ft=>Ft!==0)?Hu(s,{x:$,y:U,w:x,h:S,radius:q}):s.rect($,U,x,S),s.fill(),Z!==0&&s.stroke()}s.restore()},C=function(N,D,F){ma(s,F.text,N,D+E/2,d,{strikethrough:F.hidden,textAlign:c.textAlign(F.textAlign)})},b=this.isHorizontal(),P=this._computeTitleHeight();b?v={x:de(r,this.left+p,this.right-i[0]),y:this.top+p+P,line:0}:v={x:this.left+p,y:de(r,this.top+P+p,this.bottom-n[0].height),line:0},DC(this.ctx,t.textDirection);const M=E+p;this.legendItems.forEach((N,D)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const F=s.measureText(N.text).width,Z=c.textAlign(N.textAlign||(N.textAlign=a.textAlign)),U=x+_+F;let $=v.x,q=v.y;c.setWidth(this.width),b?D>0&&$+U+p>this.right&&(q=v.y+=M,v.line++,$=v.x=de(r,this.left+p,this.right-i[v.line])):D>0&&q+M>this.bottom&&($=v.x=$+n[v.line].width+p,v.line++,q=v.y=de(r,this.top+P+p,this.bottom-n[v.line].height));const Ft=c.x($);if(w(Ft,q,N),$=iN(Z,$+x+_,b?$+U:this.right,t.rtl),C(c.x($),q,N),b)v.x+=U+p;else if(typeof N.text!="string"){const Rt=d.lineHeight;v.y+=QC(N,Rt)+p}else v.y+=M}),zC(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=me(n.font),s=en(n.padding);if(!n.display)return;const r=ar(t.rtl,this.left,this.width),a=this.ctx,u=n.position,c=i.size/2,d=s.top+c;let p,m=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,m=de(t.align,m,this.right-_);else{const x=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);p=d+de(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const v=de(u,m,m+_);a.textAlign=r.textAlign(gm(u)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,ma(a,n.text,v,p,i)}_computeTitleHeight(){const t=this.options.title,n=me(t.font),i=en(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Ks(t,this.left,this.right)&&Ks(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Ks(t,s.left,s.left+s.width)&&Ks(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!PD(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=bD(s,i);s&&!r&&It(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&It(n.onHover,[t,i,this],this)}else i&&It(n.onClick,[t,i,this],this)}}function ED(e,t,n,i,s){const r=kD(i,e,t,n),a=TD(s,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}function kD(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+n.size/2+i.measureText(s).width}function TD(e,t,n){let i=e;return typeof t.text!="string"&&(i=QC(t,n)),i}function QC(e,t){const n=e.text?e.text.length:0;return t*n}function PD(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ID={id:"legend",_element:Uy,start(e,t,n){const i=e.legend=new Uy({ctx:e.ctx,options:n,chart:e});Ke.configure(e,i,n),Ke.addBox(e,i)},stop(e){Ke.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Ke.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),p=en(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(u||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class XC extends Or{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Qt(i.text)?i.text.length:1;this._padding=en(i.padding);const r=s*me(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:a}=this,u=a.align;let c=0,d,p,m;return this.isHorizontal()?(p=de(u,i,r),m=n+t,d=r-i):(a.position==="left"?(p=i+t,m=de(u,s,n),c=ge*-.5):(p=r-t,m=de(u,n,s),c=ge*.5),d=s-n),{titleX:p,titleY:m,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=me(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:c,rotation:d}=this._drawArgs(r);ma(t,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:d,textAlign:gm(n.align),textBaseline:"middle",translation:[a,u]})}}function LD(e,t){const n=new XC({ctx:e.ctx,options:t,chart:e});Ke.configure(e,n,t),Ke.addBox(e,n),e.titleBlock=n}var MD={id:"title",_element:XC,start(e,t,n){LD(e,n)},stop(e){const t=e.titleBlock;Ke.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Ke.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vo={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,u;for(r=0,a=e.length;r<a;++r){const c=e[r].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),p=qR(t,d);p<s&&(s=p,u=c)}}if(u){const c=u.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function bn(e,t){return t&&(Qt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Dn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function OD(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:a,value:u}=r.getLabelAndValue(s);return{chart:e,label:a,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:u,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Vy(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:a,boxHeight:u}=t,c=me(t.bodyFont),d=me(t.titleFont),p=me(t.footerFont),m=r.length,_=s.length,v=i.length,x=en(t.padding);let S=x.height,E=0,w=i.reduce((P,M)=>P+M.before.length+M.lines.length+M.after.length,0);if(w+=e.beforeBody.length+e.afterBody.length,m&&(S+=m*d.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),w){const P=t.displayColors?Math.max(u,c.lineHeight):c.lineHeight;S+=v*P+(w-v)*c.lineHeight+(w-1)*t.bodySpacing}_&&(S+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let C=0;const b=function(P){E=Math.max(E,n.measureText(P).width+C)};return n.save(),n.font=d.string,_t(e.title,b),n.font=c.string,_t(e.beforeBody.concat(e.afterBody),b),C=t.displayColors?a+2+t.boxPadding:0,_t(i,P=>{_t(P.before,b),_t(P.lines,b),_t(P.after,b)}),C=0,n.font=p.string,_t(e.footer,b),n.restore(),E+=x.width,{width:E,height:S}}function RD(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function ND(e,t,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+r+a>t.width||e==="right"&&s-r-a<0)return!0}function AD(e,t,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:u,right:c}}=e;let d="center";return i==="center"?d=s<=(u+c)/2?"left":"right":s<=r/2?d="left":s>=a-r/2&&(d="right"),ND(d,e,t,n)&&(d="center"),d}function $y(e,t,n){const i=n.yAlign||t.yAlign||RD(e,n);return{xAlign:n.xAlign||t.xAlign||AD(e,t,n,i),yAlign:i}}function DD(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function zD(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Zy(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=e,{xAlign:u,yAlign:c}=n,d=s+r,{topLeft:p,topRight:m,bottomLeft:_,bottomRight:v}=or(a);let x=DD(t,u);const S=zD(t,c,d);return c==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(p,_)+s:u==="right"&&(x+=Math.max(m,v)+s),{x:fn(x,0,i.width-t.width),y:fn(S,0,i.height-t.height)}}function kl(e,t,n){const i=en(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Gy(e){return bn([],Dn(e))}function FD(e,t,n){return Mr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Yy(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const JC={beforeTitle:Nn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Nn,beforeBody:Nn,beforeLabel:Nn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Lt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Nn,afterBody:Nn,beforeFooter:Nn,footer:Nn,afterFooter:Nn};function Ee(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?JC[t].call(n,i):s}class Cf extends Or{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new FC(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=FD(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Ee(i,"beforeTitle",this,t),r=Ee(i,"title",this,t),a=Ee(i,"afterTitle",this,t);let u=[];return u=bn(u,Dn(s)),u=bn(u,Dn(r)),u=bn(u,Dn(a)),u}getBeforeBody(t,n){return Gy(Ee(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return _t(t,r=>{const a={before:[],lines:[],after:[]},u=Yy(i,r);bn(a.before,Dn(Ee(u,"beforeLabel",this,r))),bn(a.lines,Ee(u,"label",this,r)),bn(a.after,Dn(Ee(u,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,n){return Gy(Ee(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Ee(i,"beforeFooter",this,t),r=Ee(i,"footer",this,t),a=Ee(i,"afterFooter",this,t);let u=[];return u=bn(u,Dn(s)),u=bn(u,Dn(r)),u=bn(u,Dn(a)),u}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let u=[],c,d;for(c=0,d=n.length;c<d;++c)u.push(OD(this.chart,n[c]));return t.filter&&(u=u.filter((p,m,_)=>t.filter(p,m,_,i))),t.itemSort&&(u=u.sort((p,m)=>t.itemSort(p,m,i))),_t(u,p=>{const m=Yy(t.callbacks,p);s.push(Ee(m,"labelColor",this,p)),r.push(Ee(m,"labelPointStyle",this,p)),a.push(Ee(m,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=u,u}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const u=vo[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=Vy(this,i),d=Object.assign({},u,c),p=$y(this.chart,i,d),m=Zy(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:u}=i,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:m}=or(u),{x:_,y:v}=t,{width:x,height:S}=n;let E,w,C,b,P,M;return r==="center"?(P=v+S/2,s==="left"?(E=_,w=E-a,b=P+a,M=P-a):(E=_+x,w=E+a,b=P-a,M=P+a),C=E):(s==="left"?w=_+Math.max(c,p)+a:s==="right"?w=_+x-Math.max(d,m)-a:w=this.caretX,r==="top"?(b=v,P=b-a,E=w-a,C=w+a):(b=v+S,P=b+a,E=w+a,C=w-a),M=b),{x1:E,x2:w,x3:C,y1:b,y2:P,y3:M}}drawTitle(t,n,i){const s=this.title,r=s.length;let a,u,c;if(r){const d=ar(i.rtl,this.x,this.width);for(t.x=kl(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=me(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,c=0;c<r;++c)n.fillText(s[c],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+u,c+1===r&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,n,i,s,r){const a=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=r,p=me(r.bodyFont),m=kl(this,"left",r),_=s.x(m),v=c<p.lineHeight?(p.lineHeight-c)/2:0,x=n.y+v;if(r.usePointStyle){const S={radius:Math.min(d,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=s.leftForLtr(_,d)+d/2,w=x+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,uy(t,S,E,w),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,uy(t,S,E,w)}else{t.lineWidth=mt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const S=s.leftForLtr(_,d),E=s.leftForLtr(s.xPlus(_,1),d-2),w=or(a.borderRadius);Object.values(w).some(C=>C!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Hu(t,{x:S,y:x,w:d,h:c,radius:w}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Hu(t,{x:E,y:x+1,w:d-2,h:c-2,radius:w}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(S,x,d,c),t.strokeRect(S,x,d,c),t.fillStyle=a.backgroundColor,t.fillRect(E,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:u,boxHeight:c,boxWidth:d,boxPadding:p}=i,m=me(i.bodyFont);let _=m.lineHeight,v=0;const x=ar(i.rtl,this.x,this.width),S=function(F){n.fillText(F,x.x(t.x+v),t.y+_/2),t.y+=_+r},E=x.textAlign(a);let w,C,b,P,M,N,D;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,t.x=kl(this,E,i),n.fillStyle=i.bodyColor,_t(this.beforeBody,S),v=u&&E!=="right"?a==="center"?d/2+p:d+2+p:0,P=0,N=s.length;P<N;++P){for(w=s[P],C=this.labelTextColors[P],n.fillStyle=C,_t(w.before,S),b=w.lines,u&&b.length&&(this._drawColorBox(n,t,P,x,i),_=Math.max(m.lineHeight,c)),M=0,D=b.length;M<D;++M)S(b[M]),_=m.lineHeight;_t(w.after,S)}v=0,_=m.lineHeight,_t(this.afterBody,S),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let a,u;if(r){const c=ar(i.rtl,this.x,this.width);for(t.x=kl(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=c.textAlign(i.footerAlign),n.textBaseline="middle",a=me(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,u=0;u<r;++u)n.fillText(s[u],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:a}=this,{x:u,y:c}=t,{width:d,height:p}=i,{topLeft:m,topRight:_,bottomLeft:v,bottomRight:x}=or(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+m,c),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(u+d-_,c),n.quadraticCurveTo(u+d,c,u+d,c+_),a==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(u+d,c+p-x),n.quadraticCurveTo(u+d,c+p,u+d-x,c+p),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(u+v,c+p),n.quadraticCurveTo(u,c+p,u,c+p-v),a==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(u,c+m),n.quadraticCurveTo(u,c,u+m,c),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=vo[t.position].call(this,this._active,this._eventPosition);if(!a)return;const u=this._size=Vy(this,t),c=Object.assign({},a,this._size),d=$y(n,t,c),p=Zy(t,c,d,n);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=en(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),DC(t,n.textDirection),r.y+=a.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),zC(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:u,index:c})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[c],index:c}}),r=!zu(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,n,i),u=this._positionChanged(a,t),c=n||!zu(a,r)||u;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,a=vo[r.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}dt(Cf,"positioners",vo);var BD={id:"tooltip",_element:Cf,positioners:vo,afterInit(e,t,n){n&&(e.tooltip=new Cf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:JC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jD=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function HD(e,t,n,i){const s=e.indexOf(t);if(s===-1)return jD(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const WD=(e,t)=>e===null?null:fn(Math.round(e),0,t);function Ky(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class bf extends Rr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Lt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:HD(i,t,vt(n,t),this._addedLabels),WD(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return Ky.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}dt(bf,"id","category"),dt(bf,"defaults",{ticks:{callback:Ky}});function UD(e,t){const n=[],{bounds:s,step:r,min:a,max:u,precision:c,count:d,maxTicks:p,maxDigits:m,includeBounds:_}=e,v=r||1,x=p-1,{min:S,max:E}=t,w=!Lt(a),C=!Lt(u),b=!Lt(d),P=(E-S)/(m+1);let M=ty((E-S)/x/v)*v,N,D,F,Z;if(M<1e-14&&!w&&!C)return[{value:S},{value:E}];Z=Math.ceil(E/M)-Math.floor(S/M),Z>x&&(M=ty(Z*M/x/v)*v),Lt(c)||(N=Math.pow(10,c),M=Math.ceil(M*N)/N),s==="ticks"?(D=Math.floor(S/M)*M,F=Math.ceil(E/M)*M):(D=S,F=E),w&&C&&r&&ZR((u-a)/r,M/1e3)?(Z=Math.round(Math.min((u-a)/M,p)),M=(u-a)/Z,D=a,F=u):b?(D=w?a:D,F=C?u:F,Z=d-1,M=(F-D)/Z):(Z=(F-D)/M,Ul(Z,Math.round(Z),M/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const U=Math.max(ey(M),ey(D));N=Math.pow(10,Lt(c)?U:c),D=Math.round(D*N)/N,F=Math.round(F*N)/N;let $=0;for(w&&(_&&D!==a?(n.push({value:a}),D<a&&$++,Ul(Math.round((D+$*M)*N)/N,a,qy(a,P,e))&&$++):D<a&&$++);$<Z;++$){const q=Math.round((D+$*M)*N)/N;if(C&&q>u)break;n.push({value:q})}return C&&_&&F!==u?n.length&&Ul(n[n.length-1].value,u,qy(u,P,e))?n[n.length-1].value=u:n.push({value:u}):(!C||F===u)&&n.push({value:F}),n}function qy(e,t,{horizontal:n,minRotation:i}){const s=ss(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}class VD extends Rr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=c=>s=n?s:c,u=c=>r=i?r:c;if(t){const c=Pi(s),d=Pi(r);c<0&&d<0?u(0):c>0&&d>0&&a(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);u(r+c),t||a(s-c)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=UD(s,r);return t.bounds==="ticks"&&GR(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return EC(t,this.chart.options.locale,this.options.ticks.format)}}class Ef extends VD{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=tn(t)?t:0,this.max=tn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=ss(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}dt(Ef,"id","linear"),dt(Ef,"defaults",{ticks:{callback:TC.formatters.numeric}});const xc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Te=Object.keys(xc);function Qy(e,t){return e-t}function Xy(e,t){if(Lt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),tn(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(ju(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function Jy(e,t,n,i){const s=Te.length;for(let r=Te.indexOf(e);r<s-1;++r){const a=xc[Te[r]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(u*a.size))<=i)return Te[r]}return Te[s-1]}function $D(e,t,n,i,s){for(let r=Te.length-1;r>=Te.indexOf(n);r--){const a=Te[r];if(xc[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return Te[n?Te.indexOf(n):0]}function ZD(e){for(let t=Te.indexOf(e)+1,n=Te.length;t<n;++t)if(xc[Te[t]].common)return Te[t]}function t0(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=mm(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function GD(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value;let u,c;for(u=r;u<=a;u=+s.add(u,1,i))c=n[u],c>=0&&(t[c].major=!0);return t}function e0(e,t,n){const i=[],s={},r=t.length;let a,u;for(a=0;a<r;++a)u=t[a],s[u]=a,i.push({value:u,major:!1});return r===0||!n?i:GD(e,i,s,n)}class Vu extends Rr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new uA._date(t.adapters.date);s.init(n),Ro(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Xy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:u}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!u&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!u)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=tn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=tn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,u=tN(s,r,a);return this._unit=n.unit||(i.autoSkip?Jy(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):$D(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ZD(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),e0(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=fn(n,0,a),i=fn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||Jy(r.minUnit,n,i,this._getLabelCapacity(n)),u=vt(s.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,d=ju(c)||c===!0,p={};let m=n,_,v;if(d&&(m=+t.startOf(m,"isoWeek",c)),m=+t.startOf(m,d?"day":a),t.diff(i,n,a)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(_=m,v=0;_<i;_=+t.add(_,u,a),v++)t0(p,_,x);return(_===i||s.bounds==="ticks"||v===1)&&t0(p,_,x),Object.keys(p).sort(Qy).map(S=>+S)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return It(a,[t,n,i],this);const u=r.time.displayFormats,c=this._unit,d=this._majorUnit,p=c&&u[c],m=d&&u[d],_=i[n],v=d&&m&&_&&_.major;return this._adapter.format(t,s||(v?m:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=ss(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*r+u*a,h:i*a+u*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,e0(this,[t],this._majorUnit),s),a=this._getLabelSize(r),u=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Xy(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return xC(t.sort(Qy))}}dt(Vu,"id","time"),dt(Vu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Tl(e,t,n){let i=0,s=e.length-1,r,a,u,c;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=yf(e,"pos",t)),{pos:r,time:u}=e[i],{pos:a,time:c}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=yf(e,"time",t)),{time:r,pos:u}=e[i],{time:a,pos:c}=e[s]);const d=a-r;return d?u+(c-u)*(t-r)/d:u}class n0 extends Vu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Tl(n,this.min),this._tableRange=Tl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let a,u,c,d,p;for(a=0,u=t.length;a<u;++a)d=t[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,u=s.length;a<u;++a)p=s[a+1],c=s[a-1],d=s[a],Math.round((p+c)/2)!==d&&r.push({time:d,pos:a/(u-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Tl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Tl(this._table,i*this._tableRange+this._minPos,!0)}}dt(n0,"id","timeseries"),dt(n0,"defaults",Vu.defaults);const tb="label";function i0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function YD(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function eb(e,t){e.labels=t}function nb(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tb;const i=[];e.datasets=t.map(s=>{const r=e.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function KD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tb;const n={labels:[],datasets:[]};return eb(n,e.labels),nb(n,e.datasets,t),n}function qD(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:u,options:c,plugins:d=[],fallbackContent:p,updateMode:m,..._}=e,v=R.useRef(null),x=R.useRef(),S=()=>{v.current&&(x.current=new wc(v.current,{type:a,data:KD(u,r),options:c&&{...c},plugins:d}),i0(t,x.current))},E=()=>{i0(t,null),x.current&&(x.current.destroy(),x.current=null)};return R.useEffect(()=>{!s&&x.current&&c&&YD(x.current,c)},[s,c]),R.useEffect(()=>{!s&&x.current&&eb(x.current.config.data,u.labels)},[s,u.labels]),R.useEffect(()=>{!s&&x.current&&u.datasets&&nb(x.current.config.data,u.datasets,r)},[s,u.datasets]),R.useEffect(()=>{x.current&&(s?(E(),setTimeout(S)):x.current.update(m))},[s,c,u.labels,u.datasets,m]),R.useEffect(()=>{x.current&&(E(),setTimeout(S))},[a]),R.useEffect(()=>(S(),()=>E()),[]),lr.createElement("canvas",Object.assign({ref:v,role:"img",height:n,width:i},_),p)}const QD=R.forwardRef(qD);function XD(e,t){return wc.register(t),R.forwardRef((n,i)=>lr.createElement(QD,Object.assign({},n,{ref:i,type:e})))}const Xh=XD("bar",Vl);wc.register(bf,Ef,Gl,MD,BD,ID);function JD({filter:e,conditionFrequency:t,behaviourFrequency:n,timeFrequency:i}){const[s,r]=R.useState("filters"),[a,u]=R.useState([]),[c,d]=R.useState([]),[p,m]=R.useState(""),[_,v]=R.useState(""),x=["aggressive","moving","foraging","resting"],S=["healthy","sick","injured","dead"],E="hsl(87, 59%, 72%)",w={plugins:{legend:{display:!1}}},C=()=>{e({behaviours:a,conditions:c,startTime:p,endTime:_})};return T.jsxs("div",{className:"sidebar",children:[T.jsxs("div",{children:[T.jsx("button",{onClick:()=>r("filters"),className:"tab-button",children:"Filters"}),T.jsx("button",{onClick:()=>r("data"),className:"tab-button",children:"Data"})]}),s==="filters"&&T.jsxs("div",{className:"filter-container",children:[T.jsx("label",{children:"Showing sightings between:"}),T.jsx("input",{type:"datetime-local",onChange:b=>m(b.target.value)}),T.jsx("input",{type:"datetime-local",onChange:b=>v(b.target.value)}),T.jsx("p",{children:"Behaviours:"}),x.map(b=>T.jsxs("div",{children:[T.jsx("input",{type:"checkbox",value:b,checked:a.includes(b),className:"date-selector",onChange:P=>{const M=P.target.value;u(N=>N.includes(M)?N.filter(D=>D!==M):[...N,M])}}),T.jsx("label",{children:b})]},b)),T.jsx("p",{children:"Conditions:"}),S.map(b=>T.jsxs("div",{children:[T.jsx("input",{type:"checkbox",value:b,checked:c.includes(b),className:"date-selector",onChange:P=>{const M=P.target.value;d(N=>N.includes(M)?N.filter(D=>D!==M):[...N,M])}}),T.jsx("label",{children:b})]},b)),T.jsx("button",{onClick:C,children:"Apply Filters"})]}),s==="data"&&T.jsxs("div",{className:"graph-container",children:[T.jsx("h3",{children:"Condition Frequency"}),T.jsx(Xh,{data:{labels:Object.keys(t),datasets:[{label:"Condition Frequency",data:Object.values(t),backgroundColor:E}]},options:w}),T.jsx("h3",{children:"Behaviour Frequency"}),T.jsx(Xh,{data:{labels:Object.keys(n),datasets:[{label:"Behaviour Frequency",data:Object.values(n),backgroundColor:E}]},options:w}),T.jsx("h3",{children:"Submissions Over Time"}),T.jsx(Xh,{data:{labels:i.map(b=>b.hour),datasets:[{label:"Submissions",data:i.map(b=>b.count),backgroundColor:E}]},options:w})]})]})}const t2=e=>{const t={},n={},i={};for(let s=0;s<24;s++)i[s]=0;return e.forEach(s=>{if(s.condition&&s.condition.forEach(r=>{t[r]=(t[r]||0)+1}),s.behaviour&&s.behaviour.forEach(r=>{n[r]=(n[r]||0)+1}),s.time){const a=new Date(s.time).getHours()+1;i[a]+=1}}),{conditionFrequency:t,behaviourFrequency:n,timeFrequency:Object.entries(i).map(([s,r])=>({hour:s,count:r}))}};function e2(){const[e,t]=R.useState([]),[n,i]=R.useState([]),[s,r]=R.useState({}),[a,u]=R.useState({}),[c,d]=R.useState([]);R.useEffect(()=>{const m=cC(),_=uC(m,"submissions");FO(_,v=>{if(v.exists()){const x=v.val(),S=Object.values(x);t(S),i(S);const{conditionFrequency:E,behaviourFrequency:w,timeFrequency:C}=t2(S);r(E),u(w),d(C)}})},[]);const p=m=>{const{behaviours:_,conditions:v,startTime:x,endTime:S}=m,E=e.filter(w=>{const C=new Date(w.time),b=(!x||C>=new Date(x))&&(!S||C<=new Date(S)),P=_.length===0||_.some(N=>w.behaviour&&w.behaviour[N]),M=v.length===0||v.some(N=>w.condition&&w.condition[N]);return b&&P&&M});i(E),console.log(E)};return T.jsxs("div",{className:"dashboard",children:[T.jsx(JD,{filter:p,conditionFrequency:s,behaviourFrequency:a,timeFrequency:c}),T.jsx(pR,{submissions:n})]})}var n2="firebase",i2="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(n2,i2,"app");const s2={apiKey:void 0,authDomain:void 0,projectId:"raccoon-recon",storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},r2=Vx(s2),o2=cC(r2),a2=({value:e,onChange:t})=>{const[n,i]=R.useState("");R.useEffect(()=>{const a=new Date().toISOString().slice(0,16);i(a)});const s=r=>{t(r.target.value)};return T.jsxs("div",{children:[T.jsx("h2",{children:"When did you see the raccoon?"}),T.jsx("input",{type:"datetime-local",value:e||"",onChange:s,max:n,className:"submission-time"})]})},s0=({groupName:e,options:t,selectedValues:n,onChange:i})=>{const[s,r]=R.useState(t.reduce((u,[c,d])=>({...u,[c]:(n==null?void 0:n[c])||!1}),{})),a=u=>{const{name:c,checked:d}=u.target,p={...s,[c]:d};r(p),i(p)};return T.jsxs("div",{children:[T.jsx("h2",{children:e}),T.jsx("h3",{children:"Select at least one"}),t.map(([u,c])=>T.jsxs("label",{className:`checkboxContainer ${s[u]?"checked":""}`,children:[T.jsx("input",{type:"checkbox",name:u,checked:s[u],onChange:a,className:"checkboxInput"}),T.jsx("span",{className:"checkboxContent",children:c})]},u))]})};function l2({location:e,onChange:t}){const[n,i]=R.useState(e),s=()=>(aR({click(r){const{lat:a,lng:u}=r.latlng;i([a,u]),t&&t([a,u])}}),null);return T.jsxs("div",{children:[T.jsx("h2",{children:"Where did you see the raccoon?"}),T.jsx("h3",{children:"Please pin the location below."}),T.jsx("section",{role:"application",style:{height:"400px",width:"100%"},children:T.jsxs(lm,{center:n,zoom:13,style:{height:"400px",width:"100%"},children:[T.jsx(cm,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),T.jsx(s,{}),T.jsx(um,{position:n})]})})]})}function u2({location:e}){return T.jsx("div",{children:T.jsx("section",{role:"application",style:{height:"400px",width:"100%"},children:T.jsxs(lm,{center:e,zoom:16,style:{height:"400px",width:"100%"},children:[T.jsx(cm,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),T.jsx(um,{position:e})]})})})}const c2=({data:e,prevStep:t,onSubmit:n})=>{const i={behaviour:Object.keys(e.behaviour).filter(r=>e.behaviour[r]),condition:Object.keys(e.condition).filter(r=>e.condition[r])},s=r=>{const a=new Date(r),u={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return a.toLocaleString("en-US",u)};return T.jsxs("div",{className:"summary",children:[T.jsx("h2",{children:"Summary"}),T.jsx(u2,{location:e.location}),T.jsxs("p",{children:[T.jsx("strong",{children:"Time of sighting:"})," ",s(e.time)]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Behaviour(s):"})," ",i.behaviour.join(", ")]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Condition(s):"})," ",i.condition.join(", ")]}),T.jsxs("div",{className:"buttonGroup",children:[T.jsx("button",{role:"button",onClick:t,children:"Back"}),T.jsx("button",{role:"Submit",onClick:n,children:"Submit"})]})]})};function h2(){const[e,t]=R.useState(10),n=Tx();return R.useEffect(()=>{e<=0&&n("/");const i=setInterval(()=>{t(s=>s-1)},1e3);return()=>clearInterval(i)},[e,n]),T.jsxs("div",{className:"formContainer thanks",children:[T.jsx("h2",{children:"Thank you for contributing!"}),T.jsxs("p",{children:["Returning home in ",T.jsx("span",{children:e})," seconds..."]}),T.jsx("div",{className:"buttonGroup",children:T.jsx(es,{to:"/dashboard",children:T.jsx("button",{type:"button",children:"VIEW THE DASHBOARD"})})})]})}const d2=()=>{const[e,t]=R.useState(1),[n,i]=R.useState({time:null,location:[43.642556,-79.387083],behaviour:{},condition:{}}),s=(m,_)=>{i(v=>({...v,[m]:_}))},[r,a]=R.useState(""),u=()=>!n.location||!n.time||!Object.values(n.behaviour).some(Boolean)||!Object.values(n.condition).some(Boolean)?(a("You didn't complete the form!"),!1):(a(""),!0),c=()=>{if(u()){const m={...n,behaviour:Object.keys(n.behaviour).filter(v=>n.behaviour[v]),condition:Object.keys(n.condition).filter(v=>n.condition[v]),timestamp:Date.now()},_=uC(o2,"submissions");AO(_,m).then(()=>{console.log("Submitted"),t(3)}).catch(v=>{console.error("Error saving data",v),a("Failed to save data. Please try again.")})}},d=()=>{u()&&(console.log("Moving to the next step"),t(m=>m+1))},p=()=>{console.log("Going back to the previous step"),t(m=>m-1)};return T.jsxs("div",{className:"formContainer",children:[e===1&&T.jsxs("div",{className:"submissionForm",children:[T.jsx("h2",{children:"This is a submission form."}),T.jsx(l2,{location:n.location,onChange:m=>s("location",m)}),T.jsx(a2,{value:n.time,onChange:m=>s("time",m)}),T.jsx(s0,{groupName:"What behaviour did you observe?",options:[["aggressive","Aggressive (e.g., growling, hissing, showing teeth)"],["moving","Movement (e.g. running around)"],["foraging","Foraging (e.g. digging through trash, searching for food)"],["resting","Resting (e.g. sitting, lying down)"]],selectedValues:n.behaviour,onChange:m=>s("behaviour",m)}),T.jsx(s0,{groupName:"What condition was the raccoon in?",options:[["healthy","Healthy (good health with no visible issues)"],["sick","Sick/Ill (e.g. lethargy, unusual behavior)"],["injured","Had visible injuries or mobility issues"],["dead","Deceased or unresponsive"]],selectedValues:n.condition,onChange:m=>s("condition",m)}),T.jsx("div",{className:"buttonGroup",children:T.jsx("button",{type:"button",onClick:d,children:"Next"})}),r&&T.jsx("p",{className:"error",children:r})]}),e===2&&T.jsx("div",{className:"submissionForm",children:T.jsx(c2,{data:n,prevStep:p,onSubmit:c})}),e===3&&T.jsx("div",{className:"submissionForm",children:T.jsx(h2,{})})]})};function f2(){return T.jsx(XT,{basename:"/raccoon-recon",children:T.jsxs("div",{className:"pageContainer",children:[T.jsx(nP,{}),T.jsx("main",{children:T.jsxs($T,{children:[T.jsx(Hl,{path:"/",element:T.jsx(sP,{})}),T.jsx(Hl,{path:"/submissions",element:T.jsx(d2,{})}),T.jsx(Hl,{path:"/dashboard",element:T.jsx(e2,{})})]})}),T.jsx(iP,{})]})})}vx(document.getElementById("root")).render(T.jsx(R.StrictMode,{children:T.jsx(f2,{})}));
